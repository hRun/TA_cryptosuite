(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{255:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(63),a=n.n(r),o=n(0),i=n.n(o),l=n(3),c=n.n(l),s=Object(o.createContext)({rowData:{},setRowData:function(){}}),u=function(e){var t=e.children,n=Object(o.useState)({}),r=a()(n,2),l=r[0],c=r[1],u=Object(o.useState)(""),d=a()(u,2),p=d[0],f=d[1],h=Object(o.useState)("all"),m=a()(h,2),v=m[0],b=m[1],g=Object(o.useState)(10),y=a()(g,2),O=y[0],E=y[1],j=Object(o.useState)(0),k=a()(j,2),w=k[0],C=k[1];return i.a.createElement(s.Provider,{value:{rowData:l,setRowData:c,searchText:p,setSearchText:f,searchType:v,setSearchType:b,pageSize:O,setPageSize:E,currentPage:w,setCurrentPage:C}},t)};u.propTypes={children:c.a.oneOfType([c.a.arrayOf(c.a.node),c.a.node]).isRequired},t.b=s},256:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i}));var r="clone",a="create",o="edit",i="config"},257:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(251),a=n.n(r),o=n(74),i=n.n(o),l=n(131),c=n(130),s=n(40);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){var t=e.serviceName,n=e.endpointUrl,r=e.params,a=e.body,o=e.cancelToken,u=e.customHeaders,p=void 0===u?{}:u,f=e.method,h=void 0===f?"get":f,m=e.handleError,v=void 0!==m&&m,b=e.callbackOnError,g=void 0===b?function(){}:b,y=t?Object(s.b)(t):n,O={app:l.app,owner:"nobody"},E={"X-Splunk-Form-Key":l.CSRFToken,"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},j=Object.assign(E,p),k=Object(c.createRESTURL)(y,O),w={output_mode:"json"};r&&(w=d(d({},w),r));var C={params:w,method:h,url:k,credentials:"include",headers:j,cancelToken:o};return"post"===h&&(C.data=a),v?i()(C).catch((function(e){var t="";return i.a.isCancel(e)||(t=e.response?"Error response received from server: ".concat(e.response.data.messages[0].text):e.request?"No response received while making request to ".concat(y):"Error making ".concat(h," request to ").concat(y),Object(s.c)(t,"error"),g(e)),Promise.reject(e)})):i()(C)}},280:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var r,a,o,i=n(13),l=n.n(i),c=n(1),s=n(14),u=c.default.div.attrs({className:"pageTitle"})(r||(r=l()(["\n    &.pageTitle {\n        font-size: ",";\n        margin-bottom: 20px;\n    }\n"])),s.variables.fontSizeXXLarge),d=c.default.div.attrs({className:"pageSubtitle"})(a||(a=l()(["\n    &.pageSubtitle {\n        font-size: ",";\n        margin-bottom: 10px;\n    }\n"])),s.variables.fontSize);c.default.div(o||(o=l()(["\n    .table-caption-inner {\n        text-align: left;\n    }\n"])))},284:function(e,t,n){"use strict";var r=n(4);t.a=function(){return new URLSearchParams(Object(r.e)().search)}},285:function(e,t,n){"use strict";var r,a=n(28),o=n.n(a),i=n(29),l=n.n(i),c=n(119),s=n.n(c),u=n(31),d=n.n(u),p=n(32),f=n.n(p),h=n(20),m=n.n(h),v=n(251),b=n.n(v),g=n(13),y=n.n(g),O=n(0),E=n.n(O),j=n(3),k=n.n(j),w=n(30),C=n.n(w),R=n(25),S=n.n(R),x=n(1),N=n(67),P=n.n(N),M=n(6),_=n(256),T=n(288);function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var D=Object(x.default)(S.a)(r||(r=y()(["\n    width: 800px;\n"]))),V=function(e){d()(n,e);var t=F(n);function n(e){var r;return o()(this,n),r=t.call(this,e),b()(s()(r),"handleRequestClose",(function(){r.props.handleRequestClose()})),b()(s()(r),"handleSubmit",(function(){r.form.current.handleSubmit()&&r.handleRequestClose()})),b()(s()(r),"handleFormSubmit",(function(e,t){r.setState({isSubmititng:e}),t&&r.handleRequestClose()})),r.form=E.a.createRef(),r.state={isSubmititng:!1},e.mode===_.c?r.buttonText=Object(M._)("Add"):e.mode===_.a?r.buttonText=Object(M._)("Save"):e.mode===_.d?r.buttonText=Object(M._)("Update"):r.buttonText=Object(M._)("Submit"),r}return l()(n,[{key:"render",value:function(){return E.a.createElement(D,{open:this.props.open},E.a.createElement(S.a.Header,{title:this.props.formLabel,onRequestClose:this.handleRequestClose}),E.a.createElement(S.a.Body,null,E.a.createElement(T.a,{ref:this.form,page:this.props.page,serviceName:this.props.serviceName,mode:this.props.mode,stanzaName:this.props.stanzaName,handleFormSubmit:this.handleFormSubmit})),E.a.createElement(S.a.Footer,null,E.a.createElement(C.a,{appearance:"secondary",onClick:this.handleRequestClose,label:Object(M._)("Cancel"),disabled:this.state.isSubmititng}),E.a.createElement(C.a,{className:"saveBtn",appearance:"primary",label:this.state.isSubmititng?E.a.createElement(P.a,null):this.buttonText,onClick:this.handleSubmit,disabled:this.state.isSubmititng})))}}]),n}(O.Component);V.propTypes={page:k.a.string,open:k.a.bool,handleRequestClose:k.a.func,serviceName:k.a.string,mode:k.a.string,stanzaName:k.a.string,formLabel:k.a.string},t.a=V},288:function(e,t,n){"use strict";var r,a=n(416),o=n.n(a),i=n(417),l=n.n(i),c=n(28),s=n.n(c),u=n(29),d=n.n(u),p=n(119),f=n.n(p),h=n(31),m=n.n(h),v=n(32),b=n.n(v),g=n(20),y=n.n(g),O=n(251),E=n.n(O),j=n(13),k=n.n(j),w=n(421),C=n.n(w),R=n(0),S=n.n(R),x=n(3),N=n.n(x),P=n(281),M=n.n(P),_=n(462),T=n(423),F=n.n(T),D=n(83),V=n.n(D),q=n(1),A=n(425),z=n.n(A),I=n(120),B=n.n(I),L=q.default.span(r||(r=k()(["\n    color: ",";\n"])),(function(e){return e.color}));function H(e){return S.a.createElement("div",{"data-test":"msg-markdown"},(t=e.text,"link"===e.markdownType?t=S.a.createElement(B.a,{to:e.link},e.text):"hybrid"===e.markdownType?(t=function(e,t){for(var n=[],r=0;r<e.length;r+=1){var a=t(e[r]);n=n.concat(a)}return n}(t.split(e.token),(function(t){return[t,S.a.createElement(B.a,{key:t,to:e.link},e.linkText)]}))).pop():"text"===e.markdownType&&(t=S.a.createElement(L,{color:e.color},e.text)),t));var t}H.propTypes={text:N.a.string,link:N.a.string,color:N.a.string,markdownType:N.a.string,token:N.a.string,linkText:N.a.string};var U=S.a.memo(H);function $(e){var t=e.controlOptions,n=t.text,r=t.link;return S.a.createElement(B.a,{to:r,openInNewContext:!0},n)}$.propTypes={controlOptions:N.a.object};var W,K=$,Z=n(260),G=n.n(Z);function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var J=Object(q.default)(G.a)(W||(W=k()(["\n    width: 320px !important;\n"]))),Q=function(e){m()(n,e);var t=X(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),E()(f()(e),"handleChange",(function(t,n){var r=n.value;e.props.handleChange(e.props.field,r)})),e}return d()(n,[{key:"render",value:function(){var e,t;return S.a.createElement(J,{inline:!0,error:this.props.error,placeholder:null===(e=this.props)||void 0===e||null===(t=e.controlOptions)||void 0===t?void 0:t.placeholder,className:this.props.field,disabled:this.props.disabled,value:null===this.props.value||void 0===this.props.value?"":this.props.value.toString(),onChange:this.handleChange,type:this.props.encrypted?"password":"text"})}}]),n}(R.Component);Q.propTypes={value:N.a.oneOfType([N.a.string,N.a.number]),handleChange:N.a.func.isRequired,field:N.a.string,error:N.a.bool,controlOptions:N.a.object,encrypted:N.a.bool,disabled:N.a.bool};var Y,ee,te=Q,ne=n(63),re=n.n(ne),ae=n(321),oe=n.n(ae),ie=n(322),le=n.n(ie),ce=n(445),se=n.n(ce),ue=n(30),de=n.n(ue),pe=n(139),fe=n.n(pe),he=n(6),me=n(74),ve=n.n(me),be=n(257),ge=n(40);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee=Object(q.default)(le.a)(Y||(Y=k()(["\n    width: 320px !important;\n"]))),je=q.default.div(ee||(ee=k()(["\n    div:first-child {\n        width: 320px !important;\n    }\n"])));function ke(e){var t=e.field,n=e.disabled,r=void 0!==n&&n,a=e.error,o=void 0!==a&&a,i=e.controlOptions,l=e.dependencyValues,c=oe()(e,["field","disabled","error","controlOptions","dependencyValues"]),s=i.endpointUrl,u=i.denyList,d=i.allowList,p=i.placeholder,f=void 0===p?Object(he._)("Select a value"):p,h=i.dependencies,m=i.createSearchChoice,v=i.referenceName,b=i.disableSearch,g=i.labelField,y=i.autoCompleteFields,O=i.hideClearBtn;function E(e,n){c.handleChange(t,n.value)}var j=m?se.a.Option:le.a.Option,k=m?se.a.Heading:le.a.Heading;function w(e){var t=[];return e.forEach((function(e){e.value&&e.label&&t.push(S.a.createElement(j,{label:e.label,value:e.value,key:e.value})),e.children&&e.label&&(t.push(S.a.createElement(k,{key:e.label},e.label)),e.children.forEach((function(e){t.push(S.a.createElement(j,{label:e.label,value:e.value,key:e.value}))})))})),t}var C=Object(R.useState)(!1),x=re()(C,2),N=x[0],P=x[1],M=Object(R.useState)(null),_=re()(M,2),T=_[0],F=_[1];Object(R.useEffect)((function(){if(s||v||!y){var e=!0,t=ve.a.CancelToken.source(),n={cancelToken:t.token,handleError:!0,params:{count:-1}};return v?n.serviceName=v:s&&(n.endpointUrl=s),l&&(n.params=Oe(Oe({},n.params),l)),h&&!l||(P(!0),Object(be.a)(n).then((function(t){e&&(F(w(Object(ge.a)(t.data.entry,g,d,u))),P(!1))})).catch((function(){e&&P(!1)}))),function(){t.cancel("Operation canceled."),e=!1}}F(w(y))}),[l]);var D=!!N||r,V=N?Object(he._)("Loading"):f,q=!D&&!O;return S.a.createElement(S.a.Fragment,null,m?S.a.createElement(je,{className:"dropdownBox"},S.a.createElement(se.a,{value:null===e.value?"":e.value,name:t,error:o,placeholder:V,disabled:D,onChange:E,inline:!0},T&&T.length>0&&T)):S.a.createElement(S.a.Fragment,null,S.a.createElement(Ee,{className:"dropdownBox","data-test-loading":N,value:e.value,name:t,error:o,placeholder:V,disabled:D,onChange:E,filter:!b,inline:!0},T&&T.length>0&&T),q?S.a.createElement(de.a,{"data-test":"clear",appearance:"secondary",icon:S.a.createElement(fe.a,null),onClick:function(){return c.handleChange(t,"")}}):null))}ke.propTypes={disabled:N.a.bool,value:N.a.string,error:N.a.bool,handleChange:N.a.func.isRequired,field:N.a.string,dependencyValues:N.a.object,controlOptions:N.a.shape({autoCompleteFields:N.a.array,endpointUrl:N.a.string,denyList:N.a.string,allowList:N.a.string,placeholder:N.a.string,dependencies:N.a.array,createSearchChoice:N.a.bool,referenceName:N.a.string,disableSearch:N.a.bool,labelField:N.a.string,hideClearBtn:N.a.bool})};var we,Ce=ke,Re=n(446),Se=n.n(Re),xe=n(7);function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me=Object(q.default)(Se.a)(we||(we=k()(["\n    width: 320px !important;\n"])));function _e(e){var t=e.field,n=e.disabled,r=void 0!==n&&n,a=e.error,o=void 0!==a&&a,i=e.value,l=e.controlOptions,c=e.dependencyValues,s=oe()(e,["field","disabled","error","value","controlOptions","dependencyValues"]),u=l.endpointUrl,d=l.denyList,p=l.allowList,f=l.items,h=l.dependencies,m=l.referenceName,v=l.placeholder,b=l.createSearchChoice,g=l.labelField,y=l.delimiter,O=void 0===y?",":y;function E(e){return e.map((function(e){return S.a.createElement(Se.a.Option,{label:e.label,value:e.value,key:e.value})}))}var j=Object(R.useState)(!1),k=re()(j,2),w=k[0],C=k[1],x=Object(R.useState)(null),N=re()(x,2),P=N[0],M=N[1];Object(R.useEffect)((function(){if(u||!f){var e=!0,t=ve.a.CancelToken.source(),n={cancelToken:t.token,handleError:!0,params:{count:-1}};return m?n.serviceName=m:u&&(n.endpointUrl=u),c&&(n.params=Pe(Pe({},n.params),c)),h&&!c||(C(!0),Object(be.a)(n).then((function(t){e&&(M(E(Object(ge.a)(t.data.entry,g,p,d))),C(!1))})).catch((function(){e&&C(!1)}))),function(){t.cancel("Operation canceled."),e=!1}}M(E(f))}),[c]);var _=!!w||r,T=w?Object(xe.a)(115):v,F=i?i.split(O):[];return S.a.createElement(Me,{values:F,error:o,name:t,placeholder:T,disabled:_,allowNewValues:b,onChange:function(e,n){var r=n.values;s.handleChange(t,r.join(O))},inline:!0},P&&P.length>0&&P)}_e.propTypes={disabled:N.a.bool,value:N.a.string,error:N.a.bool,handleChange:N.a.func.isRequired,field:N.a.string,dependencyValues:N.a.object,controlOptions:N.a.shape({delimiter:N.a.string,placeholder:N.a.string,createSearchChoice:N.a.bool,referenceName:N.a.string,dependencies:N.a.array,endpointUrl:N.a.string,denyList:N.a.string,allowList:N.a.string,labelField:N.a.string,items:N.a.arrayOf(N.a.shape({label:N.a.string.isRequired,value:N.a.string.isRequired}))})};var Te=_e,Fe=n(263),De=n.n(Fe);function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var qe=function(e){m()(n,e);var t=Ve(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),E()(f()(e),"handleChange",(function(){e.props.value&&!Object(ge.e)(e.props.value)?e.props.handleChange(e.props.field,0):e.props.handleChange(e.props.field,1)})),e}return d()(n,[{key:"render",value:function(){return S.a.createElement(De.a,{key:this.props.field,value:this.props.field,onClick:this.handleChange,disabled:this.props.disabled,selected:!(!this.props.value||Object(ge.e)(this.props.value)),appearance:"checkbox"})}}]),n}(R.Component);qe.propTypes={value:N.a.oneOfType([N.a.bool,N.a.number,N.a.string]),handleChange:N.a.func.isRequired,field:N.a.string,disabled:N.a.bool};var Ae,ze=qe,Ie=n(449),Be=n.n(Ie);function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var He=Object(q.default)(Be.a)(Ae||(Ae=k()(["\n    width: 320px;\n"]))),Ue=function(e){m()(n,e);var t=Le(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),E()(f()(e),"handleChange",(function(t,n){var r=n.value;e.props.handleChange(e.props.field,r)})),e}return d()(n,[{key:"render",value:function(){return S.a.createElement(He,{inline:!0,onChange:this.handleChange,value:this.props.value,key:this.props.field},this.props.controlOptions.items.map((function(e){return S.a.createElement(Be.a.Option,{key:e.value,value:e.value,label:e.label})})))}}]),n}(R.Component);Ue.propTypes={value:N.a.string,handleChange:N.a.func.isRequired,field:N.a.string,controlOptions:N.a.object};var $e=Ue,We=n(450),Ke=n.n(We);function Ze(e){var t=e.controlOptions.defaultValue;return S.a.createElement(Ke.a,null,t)}Ze.propTypes={controlOptions:N.a.object};var Ge=Ze,Xe=n(34);function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var Qe=function(e){m()(n,e);var t=Je(n);function n(e){var r;return s()(this,n),r=t.call(this,e),E()(f()(r),"loadCustomControl",(function(e,t,n){return new Promise((function(r){"external"===t?import("".concat(Object(Xe.a)(),"/custom/").concat(e,".js")).then((function(e){var t=e.default;r(t)})):require(["app/".concat(n,"/js/build/custom/").concat(e)],(function(e){r(e)}))}))})),E()(f()(r),"setValue",(function(e){r.props.handleChange(r.props.field,e)})),r.state={loading:!0},r.shouldRender=!0,r}return d()(n,[{key:"componentDidMount",value:function(){var e=this,t=Object(ge.d)(),n=t.meta.name;this.loadCustomControl(this.props.controlOptions.src,this.props.controlOptions.type,n).then((function(n){var r=new n(t,e.el,e.props.data,e.setValue,e.props.utilCustomFunctions);r.render(),"function"==typeof r.validation&&e.props.addCustomValidator(e.props.field,r.validation),e.setState({loading:!1})}))}},{key:"shouldComponentUpdate",value:function(e,t){return!(t.loading||!this.shouldRender)&&(this.shouldRender=!1,!0)}},{key:"render",value:function(){var e=this;return S.a.createElement(S.a.Fragment,null,this.state.loading&&Object(he._)("Loading..."),S.a.createElement("span",{ref:function(t){e.el=t},style:{visibility:this.state.loading?"hidden":"visible"}}))}}]),n}(R.Component);Qe.propTypes={data:N.a.object,field:N.a.string,handleChange:N.a.func,controlOptions:N.a.object,addCustomValidator:N.a.func,utilCustomFunctions:N.a.object};var Ye,et,tt={text:te,singleSelect:Ce,helpLink:K,multipleSelect:Te,checkbox:ze,radio:$e,placeholder:Ge,custom:Qe};function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var ot=q.default.div(Ye||(Ye=k()(["\n    margin-left: 30px;\n"]))),it=Object(q.default)(z.a).attrs((function(e){return{"data-name":e.dataName}}))(et||(et=k()(["\n    width: 100%;\n    max-width: 100%;\n\n    > * {\n        &:first-child {\n            width: 240px !important;\n        }\n        &:nth-child(3) {\n            margin-left: 270px !important;\n            width: 320px;\n        }\n    }\n"]))),lt=function(e){m()(n,e);var t=at(n);function n(e){var r,a;return s()(this,n),a=t.call(this,e),E()(f()(a),"isString",(function(e){return!!("string"==typeof e||e instanceof String)})),a.controlType=a.isString(e.entity.type)?tt[e.entity.type]:null,a.options=a.props.entity.options,a.props.entity.required||Object.prototype.hasOwnProperty.call(a.props.entity,"oauth_field")||null!==(r=a.options)&&void 0!==r&&r.placeholder||(a.options=rt(rt({},a.options),{},{placeholder:"optional"})),a}return d()(n,[{key:"render",value:function(){var e,t=this.props.entity,n=t.field,r=t.type,a=t.label,o=t.tooltip,i=t.help,l=t.encrypted,c=void 0!==l&&l,s=this.props.utilityFuncts,u=s.handleChange,d=s.addCustomValidator,p=s.utilCustomFunctions,f=this.props.markdownMessage||{},h=f.text,m=f.link,v=f.color,b=f.markdownType,g=f.token,y=f.linkText;if("custom"===this.props.entity.type){var O={value:this.props.value,mode:this.props.mode,serviceName:this.props.serviceName};e=this.controlType?S.a.createElement(this.controlType,{data:O,field:n,handleChange:u,addCustomValidator:d,utilCustomFunctions:p,controlOptions:this.options}):"No View Found for ".concat(r," type")}else e=this.controlType?S.a.createElement(this.controlType,{handleChange:u,value:this.props.value,field:n,controlOptions:this.options,error:this.props.error,disabled:this.props.disabled,encrypted:c,dependencyValues:this.props.dependencyValues}):"No View Found for ".concat(r," type");var E=S.a.createElement(S.a.Fragment,null,S.a.createElement(U,{text:h||"",link:m||"",color:v||"",markdownType:b||"",token:g||"",linkText:y||""}),i);return this.props.display&&S.a.createElement(it,{label:a,help:E,tooltip:o,error:this.props.error,dataName:n},S.a.createElement(ot,null,e))}}]),n}(S.a.PureComponent);lt.propTypes={mode:N.a.string,utilityFuncts:N.a.object,value:N.a.any,display:N.a.bool,error:N.a.bool,entity:N.a.object,disabled:N.a.bool,markdownMessage:N.a.object,serviceName:N.a.string,dependencyValues:N.a.object};var ct=lt,st={url:{regex:/^(?:(?:https?|ftp|opc\.tcp):\/\/)?(?:\S+(?::\S*)?@)?(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?_?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))?)(?::\d{2,5})?(?:\/[^\s]*)?$/,inputValueType:Object(xe.a)(111)},email:{regex:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,inputValueType:Object(xe.a)(112)},ipv4:{regex:/^(?:(?:[0-1]?\d{1,2}|2[0-4]\d|25[0-5])(?:\.|$)){4}$/,inputValueType:Object(xe.a)(113)},date:{regex:/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,inputValueType:Object(xe.a)(114)}},ut=n(101);var dt,pt,ft=function(){function e(t){s()(this,e),E()(this,"checkIsFieldHasInput",(function(e){return void 0!==e&&""!==e&&null!==e})),this.entities=t,this.isName=t.find((function(e){return"name"===e.field}))}return d()(e,[{key:"RequiredValidator",value:function(e,t,n){return!this.checkIsFieldHasInput(n)&&{errorField:e,errorMsg:Object(xe.a)(6,[t])}}},{key:"StringValidator",value:function(e,t,n,r){var a=Object(ut.d)(n.minLength,n.maxLength).error;return a?{errorField:e,errorMsg:a}:this.checkIsFieldHasInput(r)&&r.length>n.maxLength?{errorField:e,errorMsg:n.errorMsg?n.errorMsg:Object(xe.a)(18,[t,n.maxLength])}:!!(this.checkIsFieldHasInput(r)&&r.length<n.minLength)&&{errorField:e,errorMsg:n.errorMsg?n.errorMsg:Object(xe.a)(17,[t,n.minLength])}}},{key:"RegexValidator",value:function(e,t,n,r){var a=Object(ut.c)(n.pattern),o=a.error,i=a.result;return o?{errorField:e,errorMsg:o}:!(!this.checkIsFieldHasInput(r)||i.test(r))&&{errorField:e,errorMsg:n.errorMsg?n.errorMsg:Object(xe.a)(15,[t,n.pattern])}}},{key:"PreDefinedRegexValidator",value:function(e,t,n,r,a,o){var i=Object(ut.c)(a),l=i.error,c=i.result;return l?{errorField:e,errorMsg:l}:!(!this.checkIsFieldHasInput(r)||c.test(r))&&{errorField:e,errorMsg:n.errorMsg?n.errorMsg:Object(xe.a)(19,[t,o])}}},{key:"NumberValidator",value:function(e,t,n,r){var a=Object(ut.b)(n.range).error;if(a)return{errorField:e,errorMsg:a};var o=Number(r);return Number.isNaN(o)?{errorField:e,errorMsg:n.errorMsg?n.errorMsg:Object(xe.a)(16,[t])}:!!(this.checkIsFieldHasInput(r)&&o>n.range[1]||o<n.range[0])&&{errorField:e,errorMsg:n.errorMsg?n.errorMsg:Object(xe.a)(8,[t,n.range[0],n.range[1]])}}},{key:"doValidation",value:function(t){if(this.isName){var n=t.name,r=this.isName.label;if(void 0===n||""===n||null==n)return{errorField:"name",errorMsg:Object(xe.a)(0,[r])};if(!("string"==typeof n||n instanceof String))return{errorField:"name",errorMsg:Object(xe.a)(1,[r])};if(n.startsWith("_")||"."===n||".."===n||"default"===n.toLowerCase())return{errorField:"name",errorMsg:Object(xe.a)(3,[r])};if(["*","\\","[","]","(",")","?",":"].some((function(e){return n.indexOf(e)>-1})))return{errorField:"name",errorMsg:Object(xe.a)(3,[r])};if(n.length>=1024)return{errorField:"name",errorMsg:Object(xe.a)(22,[r])}}var a,o,i;for(o=0;o<this.entities.length;o+=1){if(!0===this.entities[o].required&&(a=this.RequiredValidator(this.entities[o].field,this.entities[o].label,t[this.entities[o].field])))return a;if(""!==t[this.entities[o].field]&&null!==t[this.entities[o].field]&&this.entities[o].validators)for(i=0;i<this.entities[o].validators.length;i+=1)switch(this.entities[o].validators[i].type){case"string":if(a=this.StringValidator(this.entities[o].field,this.entities[o].label,this.entities[o].validators[i],t[this.entities[o].field]))return a;break;case"regex":if(a=this.RegexValidator(this.entities[o].field,this.entities[o].label,this.entities[o].validators[i],t[this.entities[o].field]))return a;break;case"number":if(a=this.NumberValidator(this.entities[o].field,this.entities[o].label,this.entities[o].validators[i],t[this.entities[o].field]))return a;break;case"url":if(a=this.PreDefinedRegexValidator(this.entities[o].field,this.entities[o].label,this.entities[o].validators[i],t[this.entities[o].field],st.url.regex,st.url.inputValueType))return a;break;case"date":if(a=this.PreDefinedRegexValidator(this.entities[o].field,this.entities[o].label,this.entities[o].validators[i],t[this.entities[o].field],st.date.regex,st.date.inputValueType))return a;break;case"email":if(a=this.PreDefinedRegexValidator(this.entities[o].field,this.entities[o].label,this.entities[o].validators[i],t[this.entities[o].field],st.email.regex,st.email.inputValueType))return a;break;case"ipv4":if(a=this.PreDefinedRegexValidator(this.entities[o].field,this.entities[o].label,this.entities[o].validators[i],t[this.entities[o].field],st.ipv4.regex,st.ipv4.inputValueType))return a;break;case"custom":if(a=e.CustomValidator(this.entities[o].validators[i].validatorFunc,this.entities[o].field,t[this.entities[o].field]))return a}}return!1}}],[{key:"CustomValidator",value:function(e,t,n){var r=e(t,n);return"string"==typeof r&&{errorField:t,errorMsg:r}}}]),e}(),ht=n(256),mt=n(43),vt=n(255);function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var Ot=Object(q.default)(F.a)(dt||(dt=k()(["\n    span {\n        button {\n            background-color: transparent;\n            font-size: 16px;\n            margin: 10px 0;\n\n            &:hover:not([disabled]),\n            &:focus:not([disabled]),\n            &:active:not([disabled]) {\n                background-color: transparent;\n                box-shadow: none;\n            }\n        }\n    }\n\n    .collapsible-element {\n        padding-top: 15px;\n    }\n"]))),Et=q.default.div(pt||(pt=k()(["\n    padding: 6px 10px;\n    background-color: #f2f4f5;\n"]))),jt=function(e){m()(n,e);var t=yt(n);function n(e,r){var a;s()(this,n),a=t.call(this,e),E()(f()(a),"updateEntitiesForGroup",(function(e){a.groups&&a.groups.length&&a.groups.forEach((function(t){var n;t&&null!==(n=t.fields)&&void 0!==n&&n.length&&t.fields.forEach((function(t){var n=e.entity.findIndex((function(e){return e.field===t}));if(-1!==n){var r=JSON.parse(JSON.stringify(e.entity[n]));r.isGrouping=!0,a.entities.splice(n,1,r)}}))}))})),E()(f()(a),"handleSubmit",(function(){if((a.clearErrorMsg(),a.props.handleFormSubmit(!0,!1),a.datadict={},Object.keys(a.state.data).forEach((function(e){a.datadict[e]=a.state.data[e].value})),a.hook&&"function"==typeof a.hook.onSave)&&!a.hook.onSave(a.datadict))return void a.props.handleFormSubmit(!1,!1);var e=function(){var e;if((Object.keys(a.state.data).forEach((function(e){a.datadict[e]=a.state.data[e].value})),[ht.c,ht.a].includes(a.props.mode))&&Boolean(Object.values(a.context.rowData).find((function(e){return Object.keys(e).find((function(e){return e===a.datadict.name}))})))){var t=a.entities.findIndex((function(e){return"name"===e.field}));return a.setErrorFieldMsg("name",Object(xe.a)(2,[a.entities[t].label,a.datadict.name])),void a.props.handleFormSubmit(!1,!1)}if(a.isOAuth){var n=[];Object.keys(a.authMap).forEach((function(e){e!==a.datadict.auth_type&&a.isAuthVal||(n=[].concat(l()(n),l()(a.authMap[e])))})),e=a.entities.map((function(e){return n.includes(e.field)?gt({required:!0},e):e}))}else e=a.entities;var r=new ft(e).doValidation(a.datadict);if(r?a.setErrorFieldMsg(r.errorField,r.errorMsg):a.options&&a.options.saveValidator&&(r=function(e,t){var n=Object(ut.a)(e),r=n.error,a=n.result;if(r)return{errorMsg:r};var o=a(t);return"string"==typeof o?{errorMsg:o}:void 0}(a.options.saveValidator,a.datadict))&&a.setErrorMsg(r.errorMsg),r)a.props.handleFormSubmit(!1,!1);else if(a.isOAuth&&(a.isSingleOauth||a.isAuthVal&&"oauth"===a.datadict.auth_type)){var i="?response_type=code&client_id=".concat(a.datadict.client_id,"&redirect_uri=").concat(a.datadict.redirect_url),c=null!=a.isoauthState&&a.isoauthState;"true"!==c&&!0!==c||(a.state_enabled=!0,a.oauth_state=Object(_.a)().replace(/-/g,""),i="".concat(i,"&state=").concat(a.oauth_state));var s="https://".concat(a.datadict.endpoint).concat(a.oauthConf.authCodeEndpoint).concat(i);o()(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.isCalled=!1,a.isError=!1,a.isResponse=!1,a.childWin=window.open(s,"".concat(a.appName," OAuth"),"width=".concat(a.oauthConf.popupWidth,", height=").concat(a.oauthConf.popupHeight)),window.getMessage=function(e){a.isCalled=!0,a.handleOauthToken(e)},e.next=7,a.waitForAuthentication(a.oauthConf.authTimeout);case 7:if(a.isCalled||!a.childWin.closed){e.next=11;break}return a.setErrorMsg("Authentication process interrupted. Please try again."),a.props.handleFormSubmit(!1,!1),e.abrupt("return",!1);case 11:if(a.isCalled){e.next=15;break}return a.setErrorMsg("Request time out while authenticating. Please try again."),a.props.handleFormSubmit(!1,!1),e.abrupt("return",!1);case 15:return e.next=17,a.waitForBackendResponse(30);case 17:if(a.isResponse||a.isError){e.next=22;break}return a.isError=!0,a.setErrorMsg("Request time out while getting accesstoken. Please try again."),a.props.handleFormSubmit(!1,!1),e.abrupt("return",!1);case 22:return e.abrupt("return",!0);case 23:case"end":return e.stop()}}),e)})))().then((function(){a.isError?a.props.handleFormSubmit(!1,!1):a.saveData()}))}else a.saveData()};a.hook&&"function"==typeof a.hook.onSave&&void 0!==a.onSavePromise?a.onSavePromise.then((function(){e()})):e()})),E()(f()(a),"saveData",(function(){var e=new URLSearchParams;Object.keys(a.datadict).forEach((function(t){null!=a.datadict[t]&&e.append(t,a.datadict[t])})),a.isAuthVal&&Object.keys(a.authMap).forEach((function(t){a.datadict.auth_type!==t&&a.authMap[t].forEach((function(t){e.set(t,"")}))})),a.isOAuth&&e.delete("redirect_url"),a.props.mode===ht.d&&e.delete("name"),Object(be.a)({serviceName:a.endpoint,body:e,customHeaders:{"Content-Type":"application/x-www-form-urlencoded"},method:"post",handleError:!1}).then((function(e){var t,n=null==e||null===(t=e.data)||void 0===t?void 0:t.entry[0];if(a.props.mode!==ht.b){var r={};r[n.name]=gt(gt(gt({},a.datadict),n.content),{},{id:n.id,name:n.name,serviceName:a.props.serviceName}),a.context.setRowData(M()(a.context.rowData,E()({},a.props.serviceName,{$merge:r})))}a.hook&&"function"==typeof a.hook.onSaveSuccess&&a.hook.onSaveSuccess(),a.props.mode===ht.d?Object(ge.c)('Updated "'.concat(n.name,'"'),"success"):a.props.mode===ht.b?Object(ge.c)('Updated "'.concat(a.mode_config_title?a.mode_config_title:n.name,'"'),"success"):Object(ge.c)('Created "'.concat(n.name,'"'),"success"),a.props.handleFormSubmit(!1,!0)})).catch((function(e){var t=Object(xe.b)(e);a.setState({errorMsg:t}),a.hook&&"function"==typeof a.hook.onSaveFail&&a.hook.onSaveFail(),a.props.handleFormSubmit(!1,!1)}))})),E()(f()(a),"handleChange",(function(e,t){var n={};if("auth_type"===e&&Object.keys(a.authMap).forEach((function(e){e===t?a.authMap[e].forEach((function(e){n[e]={display:{$set:!0}}})):a.authMap[e].forEach((function(e){n[e]={display:{$set:!1}}}))})),a.dependencyMap.has(e)){var r=a.dependencyMap.get(e);Object.keys(r).forEach((function(o){var i={},l=!0;r[o].forEach((function(n){var r=!!a.entities.find((function(e){return e.field===n})).required,o=n===e?t:a.state.data[n].value;r&&!o?(l=!1,i[n]=null):i[n]=o})),l&&(n[o]={dependencyValues:{$set:i},value:{$set:null}})}))}n[e]={value:{$set:t}};var o=M()(a.state,{data:n}),i=a.clearAllErrorMsg(o);a.setState(i),a.hookDeferred&&a.hookDeferred.then((function(){"function"==typeof a.hook.onChange&&a.hook.onChange(e,t,i)}))})),E()(f()(a),"addCustomValidator",(function(e,t){var n=a.entities.findIndex((function(t){return t.field===e})),r=[{type:"custom",validatorFunc:t}];a.entities[n].validators=r})),E()(f()(a),"setErrorFieldMsg",(function(e,t){a.setState((function(n){var r=M()(n,{data:E()({},e,{error:{$set:!0}})});return r.errorMsg=t,r}))})),E()(f()(a),"setErrorField",(function(e){a.setState((function(t){return M()(t,{data:E()({},e,{error:{$set:!0}})})}))})),E()(f()(a),"clearErrorMsg",(function(){a.state.errorMsg&&a.setState((function(e){return gt(gt({},e),{},{errorMsg:""})}))})),E()(f()(a),"setErrorMsg",(function(e){a.setState((function(t){return gt(gt({},t),{},{errorMsg:e})}))})),E()(f()(a),"clearAllErrorMsg",(function(e){var t=gt({},e||a.state);t.errorMsg="",t.warningMsg="";var n=gt({},e?e.data:a.state.data),r={};return Object.keys(n).forEach((function(e){n[e].error?r[e]=gt(gt({},n[e]),{},{error:!1}):r[e]=n[e]})),t.data=r,e?t:null})),E()(f()(a),"generateErrorMessage",(function(){return a.state.errorMsg?S.a.createElement(V.a,{appearance:"fill",type:"error"},a.state.errorMsg):null})),E()(f()(a),"generateWarningMessage",(function(){return a.state.warningMsg?S.a.createElement(V.a,{appearance:"fill",type:"warning"},a.state.warningMsg):null})),E()(f()(a),"loadHook",(function(e,t,n){return new Promise((function(r){"external"===t?import("".concat(Object(Xe.a)(),"/custom/").concat(e,".js")).then((function(e){var t=e.default;a.hook=new t(n,a.props.serviceName,a.state,a.props.mode,a.util),r(t)})):require(["app/".concat(a.appName,"/js/build/custom/").concat(e)],(function(e){a.hook=new e(n,a.props.serviceName,a.state,a.props.mode,a.util),r(e)}))}))})),E()(f()(a),"handleOauthToken",(function(e){if(!e||e&&e.error||void 0===e.code)return a.setErrorMsg("Error occurred while trying to authenticate. Please try Again."),a.isError=!0,a.isResponse=!0,!1;var t=e.state;if(!0===a.state_enabled&&a.oauth_state!==t)return a.setErrorMsg("Response not received from the expected sender. Please try again."),a.isError=!0,a.isResponse=!0,!1;var n=decodeURIComponent(e.code),r={method:"POST",url:"https://".concat(a.datadict.endpoint).concat(a.oauthConf.accessTokenEndpoint),grant_type:"authorization_code",client_id:a.datadict.client_id,client_secret:a.datadict.client_secret,code:n,redirect_uri:a.datadict.redirect_url},o=new URLSearchParams;Object.keys(r).forEach((function(e){o.append(e,r[e])}));var i="".concat(a.appName,"_oauth/oauth");Object(be.a)({endpointUrl:i,body:o,customHeaders:{"Content-Type":"application/x-www-form-urlencoded"},method:"post",handleError:!1}).then((function(e){if(void 0===e.data.entry[0].content.error){var t=e.data.entry[0].content.access_token,n=e.data.entry[0].content.instance_url,r=e.data.entry[0].content.refresh_token;return a.datadict.instance_url=n,a.datadict.refresh_token=r,a.datadict.access_token=t,a.isResponse=!0,!0}return a.setErrorMsg(e.data.entry[0].content.error),a.isError=!0,a.isResponse=!0,!1})).catch((function(){return a.setErrorMsg("Error occurred while trying to authenticate. Please try Again."),a.isError=!0,a.isResponse=!0,!1}))})),E()(f()(a),"waitForAuthentication",function(){var e=o()(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t-=1,!0!==a.isCalled){e.next=3;break}return e.abrupt("return",!0);case 3:if(0!==t&&!a.childWin.closed){e.next=6;break}return a.isError=!0,e.abrupt("return",!1);case 6:return e.next=8,a.sleep(a.waitForAuthentication,t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E()(f()(a),"waitForBackendResponse",function(){var e=o()(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t+=1,!0!==a.isResponse){e.next=3;break}return e.abrupt("return",!0);case 3:if(60!==t){e.next=5;break}return e.abrupt("return",!1);case 5:return e.next=7,a.sleep(a.waitForBackendResponse,t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E()(f()(a),"sleep",function(){var e=o()(C.a.mark((function e(t){var n,r,o,i=arguments;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.timeout(1e3);case 2:for(n=i.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=i[o];return e.abrupt("return",t.apply(void 0,r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E()(f()(a),"timeout",(function(e){return new Promise((function(t){return setTimeout(t,e)}))})),E()(f()(a),"renderGroupElements",(function(){var e=null;return a.groups&&a.groups.length&&(e=a.groups.map((function(e){var t,n=(null===(t=e.fields)||void 0===t?void 0:t.length)&&e.fields.map((function(e){return a.entities.map((function(t){if(t.field===e){var n=a.state.data[t.field];return S.a.createElement(ct,{key:t.field,utilityFuncts:a.utilControlWrapper,value:n.value,display:n.display,error:n.error,entity:t,serviceName:a.props.serviceName,mode:a.props.mode,disabled:n.disabled,markdownMessage:n.markdownMessage,dependencyValues:n.dependencyValues||null})}return null}))}));return e.options.isExpandable?S.a.createElement(Ot,{title:e.label},S.a.createElement("div",{className:"collapsible-element"},n)):S.a.createElement(S.a.Fragment,null,S.a.createElement(Et,null,e.label),S.a.createElement("div",null,n))}))),e})),a.flag=!0,a.state={},a.currentInput={};var i=Object(ge.d)();a.appName=i.meta.name,a.endpoint=e.mode===ht.d||e.mode===ht.b?"".concat(a.props.serviceName,"/").concat(encodeURIComponent(a.props.stanzaName)):"".concat(a.props.serviceName),a.util={setState:function(e){a.onSavePromise=new Promise((function(t){a.setState((function(t){return e(t)}),t)}))},setErrorFieldMsg:a.setErrorFieldMsg,clearAllErrorMsg:a.clearAllErrorMsg,setErrorMsg:a.setErrorMsg},a.utilControlWrapper={handleChange:a.handleChange,addCustomValidator:a.addCustomValidator,utilCustomFunctions:a.util},e.page===mt.b?i.pages.inputs.services.forEach((function(t){t.name===e.serviceName&&(a.groups=t.groups,a.entities=t.entity,a.updateEntitiesForGroup(t),a.options=t.options,t.hook&&(a.hookDeferred=a.loadHook(t.hook.src,t.hook.type,i)),e.mode!==ht.d&&e.mode!==ht.a||(a.currentInput=r.rowData[e.serviceName][e.stanzaName]))})):i.pages.configuration.tabs.forEach((function(t){(t.table?t.name===e.serviceName:t.name===e.stanzaName)&&(a.entities=t.entity,a.options=t.options,t.hook&&(a.hookDeferred=a.loadHook(t.hook.src,t.hook.type,i)),!t.table||e.mode!==ht.d&&e.mode!==ht.a?e.mode===ht.b?(a.currentInput=e.currentServiceState,a.mode_config_title=t.title):a.currentInput=r.rowData[e.serviceName]:a.currentInput=r.rowData[e.serviceName][e.stanzaName])})),a.dependencyMap=new Map,a.isOAuth=!1,a.isAuthVal=!1,a.authMap={};var c={},u=[];a.entities.forEach((function(t){if("oauth"===t.type){if(a.isOAuth=!0,e.page===mt.a&&"account"===e.serviceName){var n,r,o,i=null==t||null===(n=t.options)||void 0===n?void 0:n.auth_type;if(a.isoauthState=void 0!==(null==t||null===(r=t.options)||void 0===r?void 0:r.oauth_state_enabled)?null==t||null===(o=t.options)||void 0===o?void 0:o.oauth_state_enabled:null,i.length>1){a.isAuthVal=!0;var l={};l.value=void 0!==a.currentInput.auth_type?a.currentInput.auth_type:i[0],l.display=!0,l.error=!1,l.disabled=!1,c.auth_type=l;var s={field:"auth_type",type:"singleSelect",label:"Auth Type"},d={basic:"Basic Authentication",oauth:"OAuth 2.0 Authentication"};s.options={},s.options.hideClearBtn=!0,s.options.autoCompleteFields=i.map((function(e){return{label:d[e],value:e}})),u.push(s)}else a.isSingleOauth=i.includes("oauth");if(i.forEach((function(n){var r=[],o=null==t?void 0:t.options[n];o&&(o.forEach((function(t){var o={};if(e.mode===ht.c)o.value=void 0!==(null==t?void 0:t.defaultValue)?t.defaultValue:null;else{var i=void 0!==(null==t?void 0:t.encrypted)&&(null==t?void 0:t.encrypted);o.value=i?"":a.currentInput[t.field]}o.display=void 0===c.auth_type||n===c.auth_type.value,o.error=!1,o.disabled=!1,c[t.field]=o,t.type=void 0!==(null==t?void 0:t.type)?t.type:"text","redirect_url"===t.field&&(o.value=window.location.href.split("?")[0].replace("configuration","".concat(a.appName.toLowerCase(),"_redirect")),o.disabled=!0),u.push(t),r.push(t.field)})),a.authMap[n]=r)})),i.includes("oauth")){var p={};p.popupWidth=t.options.oauth_popup_width?t.options.oauth_popup_width:600,p.popupHeight=t.options.oauth_popup_height?t.options.oauth_popup_height:600,p.authTimeout=t.options.oauth_timeout?t.options.oauth_timeout:180,p.authCodeEndpoint=t.options.auth_code_endpoint?t.options.auth_code_endpoint:null,p.accessTokenEndpoint=t.options.access_token_endpoint?t.options.access_token_endpoint:null,a.oauthConf=p}}}else{var f,h,m={};if(t.encrypted=void 0!==t.encrypted&&t.encrypted,e.mode===ht.c)m.value=void 0!==t.defaultValue?t.defaultValue:null,m.display=void 0===(null==t||null===(h=t.options)||void 0===h?void 0:h.display)||t.options.display,m.error=!1,m.disabled=!1,c[t.field]=m;else if(e.mode===ht.d){var v,b;m.value=void 0!==a.currentInput[t.field]?a.currentInput[t.field]:null,m.value=t.encrypted?"":m.value,m.display=void 0===(null==t||null===(v=t.options)||void 0===v?void 0:v.display)||t.options.display,m.error=!1,m.disabled=!1,"name"===t.field?m.disabled=!0:void 0!==(null==t||null===(b=t.options)||void 0===b?void 0:b.disableonEdit)&&(m.disabled=t.options.disableonEdit),c[t.field]=m}else if(e.mode===ht.a){var g;m.value="name"===t.field||t.encrypted?"":a.currentInput[t.field],m.display=void 0===(null==t||null===(g=t.options)||void 0===g?void 0:g.display)||t.options.display,m.error=!1,m.disabled=!1,c[t.field]=m}else{if(e.mode!==ht.b)throw new Error("Invalid mode :",e.mode);var y,O;t.defaultValue=void 0!==t.defaultValue?t.defaultValue:null,m.value=void 0!==a.currentInput[t.field]?a.currentInput[t.field]:t.defaultValue,m.value=t.encrypted?"":m.value,m.display=void 0===(null==t||null===(y=t.options)||void 0===y?void 0:y.display)||t.options.display,m.error=!1,m.disabled=!1,"name"===t.field?m.disabled=!0:void 0!==(null==t||null===(O=t.options)||void 0===O?void 0:O.disableonEdit)&&(m.disabled=t.options.disableonEdit),c[t.field]=m}var j=null===(f=t.options)||void 0===f?void 0:f.dependencies;j&&j.forEach((function(e){var n=a.dependencyMap.get(e);n?n[t.field]=j:a.dependencyMap.set(e,E()({},t.field,j))})),u.push(t)}})),a.entities=u;var d={};a.dependencyMap.forEach((function(e){d=gt(gt({},d),e)}));var p={};return Object.keys(d).forEach((function(e){var t=d[e],n={},r=!0;t.forEach((function(e){var t=!!a.entities.find((function(t){return t.field===e})).required,o=c[e].value;t&&!o?(r=!1,n[e]=null):n[e]=o})),r&&(p[e]={dependencyValues:{$set:n}})})),c=M()(c,p),a.state={data:c,errorMsg:"",warningMsg:""},a.hookDeferred&&a.hookDeferred.then((function(){if("function"==typeof a.hook.onCreate)try{a.hook.onCreate()}catch(e){console.error(e)}})),a}return d()(n,[{key:"render",value:function(){var e=this;return this.flag&&(this.hookDeferred&&this.hookDeferred.then((function(){if("function"==typeof e.hook.onRender)try{e.hook.onRender()}catch(e){console.error(e)}})),this.props.mode===ht.d&&this.hookDeferred&&this.hookDeferred.then((function(){if("function"==typeof e.hook.onEditLoad)try{e.hook.onEditLoad()}catch(e){console.error(e)}})),this.flag=!1),S.a.createElement("div",null,S.a.createElement("form",{style:this.props.mode===ht.b?{marginTop:"25px"}:{}},this.generateWarningMessage(),this.generateErrorMessage(),this.renderGroupElements(),this.entities.map((function(t){if(t.isGrouping)return null;var n=e.state.data[t.field];return n.placeholder&&(t=gt(gt({},t),{},{options:gt(gt({},t.options),{},{placeholder:n.placeholder})})),S.a.createElement(ct,{key:t.field,utilityFuncts:e.utilControlWrapper,value:n.value,display:n.display,error:n.error,entity:t,serviceName:e.props.serviceName,mode:e.props.mode,disabled:n.disabled,markdownMessage:n.markdownMessage,dependencyValues:n.dependencyValues||null})}))))}}]),n}(R.PureComponent);E()(jt,"contextType",vt.b),jt.propTypes={page:N.a.string,serviceName:N.a.string,stanzaName:N.a.string,currentServiceState:N.a.object,mode:N.a.string,handleFormSubmit:N.a.func};t.a=jt},316:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r="page",a="modal"},323:function(e,t,n){"use strict";var r=n(251),a=n.n(r),o=n(63),i=n.n(o),l=n(0),c=n.n(l),s=n(281),u=n.n(s),d=n(74),p=n.n(d),f=n(3),h=n.n(f),m=n(68),v=n(257),b=n(40),g=n(317),y=n.n(g),O=n(282),E=n.n(O),j=n(6),k=n(284),w=n(256),C=n(43),R=n(13),S=n.n(R),x=n(412),N=n.n(x),P=n(1),M=n(28),_=n.n(M),T=n(29),F=n.n(T),D=n(119),V=n.n(D),q=n(31),A=n.n(q),z=n(32),I=n.n(z),B=n(20),L=n.n(B),H=n(34);function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L()(e);if(t){var a=L()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return I()(this,n)}}var $=function(e){A()(n,e);var t=U(n);function n(e){var r;return _()(this,n),r=t.call(this,e),a()(V()(r),"loadCustomControl",(function(){return new Promise((function(e){if("external"===r.props.type)import("".concat(Object(H.a)(),"/custom/").concat(r.props.fileName,".js")).then((function(t){var n=t.default;e(n)}));else{var t=Object(b.d)().meta.name;require(["app/".concat(t,"/js/build/custom/").concat(r.props.fileName)],(function(t){return e(t)}))}}))})),r.state={loading:!0},r.shouldRender=!0,r}return F()(n,[{key:"componentDidMount",value:function(){var e=this,t=Object(b.d)();this.setState({loading:!0}),this.loadCustomControl().then((function(n){e.customControl=new n(t,e.props.serviceName,e.el,e.props.row,e.props.field),e.setState({loading:!1})}))}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.row!==e.row||!(t.loading||!this.shouldRender)&&(this.shouldRender=!1,!0)}},{key:"render",value:function(){var e=this;if(!this.state.loading)try{this.customControl.render(this.props.row,this.props.field)}catch(e){console.error(e)}return c.a.createElement(c.a.Fragment,null,this.state.loading&&Object(j._)("Loading..."),c.a.createElement("span",{ref:function(t){e.el=t},style:{visibility:this.state.loading?"hidden":"visible"}}))}}]),n}(l.Component);$.propTypes={serviceName:h.a.string.isRequired,row:h.a.object.isRequired,field:h.a.string,fileName:h.a.string.isRequired,type:h.a.string};var W,K=$,Z=Object(P.default)(E.a.Cell)(W||(W=S()(["\n    border-top: none;\n"])));function G(e,t,n){var r=Object(b.d)().pages.inputs.table.customRow;return c.a.createElement(E.a.Row,{key:"".concat(t.id,"-expansion")},c.a.createElement(Z,{colSpan:e},r&&r.src?c.a.createElement(c.a.Fragment,null,c.a.createElement(K,{serviceName:t.serviceName,row:t,fileName:r.src})):c.a.createElement(N.a,{termWidth:250},function(e,t){var n=[];return null!=t&&t.length&&t.forEach((function(t){var r=Object(j._)(t.label);t.field in e&&null!==e[t.field]&&""!==e[t.field]&&(n.push(c.a.createElement(N.a.Term,{key:t.field},r)),n.push(c.a.createElement(N.a.Description,{key:"".concat(t.field,"_decr")},t.mapping&&t.mapping[e[t.field]]?t.mapping[e[t.field]]:String(e[t.field]))))})),n}(t,n))))}var X,J,Q=n(316),Y=n(67),ee=n.n(Y),te=n(263),ne=n.n(te),re=n(319),ae=n.n(re),oe=n(283),ie=n.n(oe),le=n(413),ce=n.n(le),se=n(414),ue=n.n(se),de=n(415),pe=n.n(de),fe=Object(P.default)(E.a.Cell)(X||(X=S()(["\n    padding: 2px;\n"]))),he=P.default.div(J||(J=S()(["\n    display: flex;\n\n    .toggle_switch {\n        padding: 0;\n        margin-right: 10px;\n    }\n"])));function me(e){var t=e.row,n=e.columns,r=e.headerMapping,a=e.handleToggleActionClick,o=e.handleEditActionClick,i=e.handleCloneActionClick,s=e.handleDeleteActionClick,u=Object(l.useCallback)((function(e){return c.a.createElement(fe,{"data-column":"actions",key:e.id},c.a.createElement(ae.a,null,c.a.createElement(ie.a,{content:Object(j._)("Edit")},c.a.createElement(m.a,{appearance:"flat",icon:c.a.createElement(ce.a,{screenReaderText:null,size:1}),onClick:function(){return o(e)},className:"editBtn"})),c.a.createElement(ie.a,{content:Object(j._)("Clone")},c.a.createElement(m.a,{appearance:"flat",icon:c.a.createElement(ue.a,{screenReaderText:null,size:1}),onClick:function(){return i(e)},className:"cloneBtn"})),c.a.createElement(ie.a,{content:Object(j._)("Delete")},c.a.createElement(m.a,{appearance:"destructive",icon:c.a.createElement(pe.a,{screenReaderText:null,size:1}),onClick:function(){return s(e)},className:"deleteBtn"}))))}),[o,i,s]),d="Enabled";return t.__toggleShowSpinner?d=c.a.createElement(ee.a,null):t.disabled&&(d=null!=r&&r.disabled&&r.disabled[t.disabled]?r.disabled[t.disabled]:"Disabled"),c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a.Row,y()({key:t.id},e),n&&n.length&&n.map((function(e){var n="";if(e.customCell&&e.customCell.src)n=c.a.createElement(E.a.Cell,{"data-column":e.field,key:e.field},function(e,n){return c.a.createElement(K,{serviceName:t.serviceName,field:n.field,row:e,fileName:n.customCell.src,type:n.customCell.type})}(t,e));else if("disabled"===e.field){var o,i;n=c.a.createElement(E.a.Cell,{"data-column":e.field,key:e.field},c.a.createElement(he,null,c.a.createElement(ne.a,{key:t.name,value:t.disabled,onClick:function(){return a(t)},selected:!t.disabled,disabled:t.__toggleShowSpinner,appearance:"toggle",className:"toggle_switch",selectedLabel:Object(j._)(null!=r&&null!==(o=r.disabled)&&void 0!==o&&o.false?r.disabled.false:"Enabled"),unselectedLabel:Object(j._)(null!=r&&null!==(i=r.disabled)&&void 0!==i&&i.true?r.disabled.true:"Disabled")}),c.a.createElement("span",{"data-test":"status"},d)))}else n="actions"===e.field?u(t):c.a.createElement(E.a.Cell,{"data-column":e.field,key:e.field},r[e.field]&&Object.prototype.hasOwnProperty.call(r[e.field],t[e.field])?r[e.field][t[e.field]]:t[e.field]);return n}))))}me.propTypes={row:h.a.any,columns:h.a.array,headerMapping:h.a.object,handleToggleActionClick:h.a.func,handleEditActionClick:h.a.func,handleCloneActionClick:h.a.func,handleDeleteActionClick:h.a.func};var ve,be=c.a.memo(me),ge=n(285),ye=n(30),Oe=n.n(ye),Ee=n(25),je=n.n(Ee),ke=n(83),we=n.n(ke),Ce=n(255),Re=n(7);function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L()(e);if(t){var a=L()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return I()(this,n)}}var Pe=Object(P.default)(je.a)(ve||(ve=S()(["\n    width: 800px;\n"]))),Me=function(e){A()(n,e);var t=Ne(n);function n(e){var r;return _()(this,n),r=t.call(this,e),a()(V()(r),"handleRequestClose",(function(){r.state.ErrorMsg="",r.props.handleRequestClose()})),a()(V()(r),"handleDelete",(function(){r.setState((function(e){return xe(xe({},e),{},{isDeleting:!0,ErrorMsg:""})}),(function(){Object(v.a)({serviceName:"".concat(r.props.serviceName,"/").concat(encodeURIComponent(r.props.stanzaName)),customHeaders:{"Content-Type":"application/x-www-form-urlencoded"},method:"delete",handleError:!1}).catch((function(e){var t=Object(Re.b)(e);return r.setState({ErrorMsg:t,isDeleting:!1}),Promise.reject(e)})).then((function(){r.context.setRowData(u()(r.context.rowData,a()({},r.props.serviceName,{$unset:[r.props.stanzaName]}))),r.setState({isDeleting:!1}),r.handleRequestClose(),Object(b.c)('Deleted "'.concat(r.props.stanzaName,'"'),"success")}))}))})),a()(V()(r),"generateErrorMessage",(function(){return r.state.ErrorMsg?c.a.createElement("div",null,c.a.createElement(we.a,{appearance:"fill",type:"error"},r.state.ErrorMsg)):null})),r.state={isDeleting:!1,ErrorMsg:""},r}return F()(n,[{key:"render",value:function(){var e;return e=this.props.page===C.b?Object(Re.a)(103,[this.props.stanzaName]):Object(Re.a)(102,[this.props.stanzaName]),c.a.createElement(Pe,{open:this.props.open},c.a.createElement(je.a.Header,{title:Object(Re.a)(101),onRequestClose:this.handleRequestClose}),c.a.createElement(je.a.Body,{className:"deletePrompt"},this.generateErrorMessage(),c.a.createElement("p",null,e)),c.a.createElement(je.a.Footer,null,c.a.createElement(Oe.a,{appearance:"secondary",onClick:this.handleRequestClose,label:Object(j._)("Cancel"),disabled:this.state.isDeleting}),c.a.createElement(Oe.a,{appearance:"primary",label:this.state.isDeleting?c.a.createElement(ee.a,null):Object(j._)("Delete"),onClick:this.handleDelete,disabled:this.state.isDeleting})))}}]),n}(l.Component);a()(Me,"contextType",Ce.b),Me.propTypes={page:h.a.string.isRequired,open:h.a.bool,handleRequestClose:h.a.func,serviceName:h.a.string,stanzaName:h.a.string};var _e=Me;function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e){var t=e.page,n=e.serviceName,r=e.data,a=e.handleToggleActionClick,o=e.handleOpenPageStyleDialog,s=e.handleSort,u=e.sortDir,d=e.sortKey,p=Object(b.d)(),f=Object(l.useState)({open:!1}),h=i()(f,2),v=h[0],g=h[1],O=Object(l.useState)({open:!1}),R=i()(O,2),S=R[0],x=R[1],N=Object(l.useContext)(Ce.b).rowData,P=t===C.b?p.pages.inputs.table:p.pages.configuration.tabs.filter((function(e){return e.name===n}))[0].table,M=P.moreInfo,_=P.header,T=P.header,F={};_.forEach((function(e){F[e.field]=e.mapping}));var D={};t===C.b&&p.pages.inputs.services.forEach((function(e){D[e.name]=e.style===Q.b?Q.b:Q.a}));var V=Object(k.a)();Object(l.useEffect)((function(){if(V&&(V.get("tab")===n||void 0===n))if(V.get("record")&&!v.open){var e=Object.keys(N).find((function(e){return void 0!==N[e][V.get("record")]}));if(e){var t=N[e][V.get("record")];g(Fe(Fe({},v),{},{open:!0,serviceName:t.serviceName,stanzaName:t.name,mode:w.d}))}}else!V.get("record")&&v.open&&g(Fe(Fe({},v),{},{open:!1}))}),[]);var q,A=function(){g(Fe(Fe({},v),{},{open:!1}))},z=Object(l.useCallback)((function(e){"page"===D[e.serviceName]?o(e,w.d):g(Fe(Fe({},v),{},{open:!0,serviceName:e.serviceName,stanzaName:e.name,mode:w.d}))}),[v]),I=function(){x(Fe(Fe({},S),{},{open:!1}))},B=Object(l.useCallback)((function(e){"page"===D[e.serviceName]?o(e,w.a):g(Fe(Fe({},v),{},{open:!0,serviceName:e.serviceName,stanzaName:e.name,mode:w.a}))}),[v]),L=Object(l.useCallback)((function(e){x(Fe(Fe({},S),{},{open:!0,stanzaName:e.name,serviceName:e.serviceName}))}),[S]),H=(q=[],T&&T.length&&T.forEach((function(e){q.push(Fe(Fe({},e),{},{sortKey:e.field||null}))})),q.push({label:"Actions",field:"actions",sortKey:""}),q),U=Object(l.useCallback)((function(){return c.a.createElement(E.a.Head,null,H&&H.length&&H.map((function(e){return c.a.createElement(E.a.HeadCell,{key:e.field,onSort:e.sortKey?s:null,sortKey:e.sortKey?e.sortKey:null,sortDir:e.sortKey&&e.sortKey===d?u:"none"},e.label)})))}),[H,s,u,d]);return c.a.createElement(c.a.Fragment,null,H&&H.length&&c.a.createElement(E.a,y()({stripeRows:!0},M?{rowExpansion:"single"}:{}),U(),c.a.createElement(E.a.Body,null,r&&r.length&&r.map((function(e){return c.a.createElement(be,y()({key:e.id,row:e,columns:H,headerMapping:F,handleEditActionClick:z,handleCloneActionClick:B,handleDeleteActionClick:L,handleToggleActionClick:a},M?{expansionRow:G(H.length,e,M)}:{}))})))),r.length?null:c.a.createElement(m.b,null,"No records found"),function(){if(v.open){var e,n,r,a,o;if("inputs"===t)e=null===(r=(null===(n=p.pages)||void 0===n?void 0:n.inputs).services.find((function(e){return e.name===v.serviceName})))||void 0===r?void 0:r.title;else e=null===(o=(null===(a=p.pages)||void 0===a?void 0:a.configuration).tabs.find((function(e){return e.name===v.serviceName})))||void 0===o?void 0:o.title;return c.a.createElement(ge.a,{page:t,open:v.open,handleRequestClose:A,serviceName:v.serviceName,stanzaName:v.stanzaName,mode:v.mode,formLabel:v.mode===w.a?Object(j._)("Clone ")+e:Object(j._)("Update ")+e})}return null}(),c.a.createElement(_e,{page:t,open:S.open,handleRequestClose:I,serviceName:S.serviceName,stanzaName:S.stanzaName}))}De.propTypes={page:h.a.string.isRequired,serviceName:h.a.string,data:h.a.array.isRequired,handleToggleActionClick:h.a.func,handleOpenPageStyleDialog:h.a.func,handleSort:h.a.func,sortDir:h.a.string,sortKey:h.a.string};var Ve=Object(l.memo)(De),qe=n(322),Ae=n.n(qe),ze=n(451),Ie=n.n(ze),Be=n(260),Le=n.n(Be);function He(e){var t,n,r;return c.a.createElement(Le.a,{appearance:"search",placeholder:"filter",onChange:(t=e.handleChange,n=200,function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];var i=function(){r=null,t.apply(void 0,a)};clearTimeout(r),r=setTimeout(i,n)})})}He.propTypes={handleChange:h.a.func};var Ue,$e,We=He,Ke=P.default.div(Ue||(Ue=S()(["\n    display: flex;\n    justify-content: space-between;\n    border-top: 1px solid #ccc;\n    padding-top: 5px;\n    margin-bottom: 5px;\n"]))),Ze=P.default.div($e||($e=S()(["\n    max-width: 300px;\n    width: 100%;\n"])));function Ge(e){var t=e.page,n=e.services,r=e.totalElement,a=e.handleRequestModalOpen,o=Object(l.useContext)(Ce.b),i=o.pageSize,s=o.currentPage,u=o.setCurrentPage,d=o.setPageSize,p=o.searchType,f=o.setSearchType,h=o.setSearchText,v=t===C.b?"Input":"Item";return c.a.createElement(Ke,null,c.a.createElement("div",null,c.a.createElement("span",{className:"inputNumber"},r,r>1?Object(j._)(" ".concat(v,"s")):Object(j._)(" ".concat(v))),t===C.b?c.a.createElement(m.c,null,c.a.createElement(Ae.a,{value:i,className:"dropdownPage",onChange:function(e,t){var n=t.value;u(0),d(n)}},c.a.createElement(Ae.a.Option,{key:"10",label:Object(j._)("10 Per Page"),value:10}),c.a.createElement(Ae.a.Option,{key:"25",label:Object(j._)("25 Per Page"),value:25}),c.a.createElement(Ae.a.Option,{key:"50",label:Object(j._)("50 Per Page"),value:50})),function(){if(n.length<2)return null;var e=[];return(e=n.map((function(e){return c.a.createElement(Ae.a.Option,{key:e.name,label:e.title,value:e.name})}))).unshift(c.a.createElement(Ae.a.Option,{key:"all",label:Object(j._)("All"),value:"all"})),c.a.createElement(Ae.a,{value:p,className:"dropdownInput",onChange:function(e,t){var n=t.value;u(0),f(n)}},e)}()):null),c.a.createElement(Ze,null,c.a.createElement(We,{handleChange:function(e,t){var n=t.value;u(0),h(n)}})),c.a.createElement("div",null,c.a.createElement(Ie.a,{onChange:function(e,t){var n=t.page;return u(n-1)},current:s+1,alwaysShowLastPageLink:!0,totalPages:Math.ceil(r/i)}),t===C.b?null:c.a.createElement(Oe.a,{label:Object(j._)("Add"),appearance:"primary",onClick:a})))}Ge.propTypes={page:h.a.string,services:h.a.array,totalElement:h.a.number,handleRequestModalOpen:h.a.func};var Xe=Ge;function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ye(e){var t=e.page,n=e.serviceName,r=e.handleRequestModalOpen,o=e.handleOpenPageStyleDialog,s=Object(l.useState)("name"),d=i()(s,2),f=d[0],h=d[1],g=Object(l.useState)("asc"),y=i()(g,2),O=y[0],E=y[1],j=Object(l.useState)(!0),k=i()(j,2),w=k[0],R=k[1],S=Object(l.useState)(null),x=i()(S,2),N=x[0],P=x[1],M=Object(l.useContext)(Ce.b),_=M.rowData,T=M.setRowData,F=M.pageSize,D=M.currentPage,V=M.searchText,q=M.searchType,A=Object(b.d)(),z=t===C.b?A.pages.inputs.table:A.pages.configuration.tabs.filter((function(e){return e.name===n}))[0].table,I=z.header,B=z.moreInfo,L=t===C.b?A.pages.inputs.services:A.pages.configuration.tabs.filter((function(e){return e.name===n})),H=function(){var e=[];L.forEach((function(t){e.push(Object(v.a)({serviceName:t.name,params:{count:-1}}))})),p.a.all(e).catch((function(e){var n="",r="";return e.response?(n="Error received from server: ".concat(e.response.data.messages[0].text),r=t===C.b?"ERR000X":"ERR0002"):e.request?(n="No response received while making request to ".concat(t," services"),r="ERR0003"):(n="Error making request to ".concat(t," services"),r="ERR0004"),e.uccErrorCode=r,Object(b.c)(n),R(!1),P(e),Promise.reject(e)})).then((function(e){var t,n;t=e.map((function(e){return e.data.entry})),n={},L.forEach((function(e,r){if(e&&e.name&&t){var a={};t[r].forEach((function(t){a[t.name]=Qe(Qe({},t.content),{},{id:t.id,name:t.name,serviceName:e.name})})),n[e.name]=a}})),T(n),R(!1)}))};Object(l.useEffect)((function(){H()}),[]);var U=function(e){var t=[],n=[];return I.forEach((function(e){n.push(e.field)})),null==B||B.forEach((function(e){n.push(e.field)})),Object.keys(e).forEach((function(r){var a=!1;Object.keys(e[r]).forEach((function(o){n.includes(o)&&"string"==typeof e[r][o]&&e[r][o].toLowerCase().includes(V.toLowerCase().trim())&&!a&&(t.push(e[r]),a=!0)}))})),t};if(null!=N&&N.uccErrorCode)throw N;if(w)return c.a.createElement(m.d,null);var $=function(){var e=[];"all"===q?Object.keys(_).forEach((function(t){var n=[];n=V&&V.length?U(_[t]):Object.keys(_[t]).map((function(e){return _[t][e]})),e=e.concat(n)})):e=U(_[q]);var t=e.sort((function(e,t){if("asc"===O)return(void 0===e[f]?"":e[f])>(void 0===t[f]?"":t[f])?1:-1;if("desc"===O){var n=void 0===e[f]?"":e[f];return(void 0===t[f]?"":t[f])>n?1:-1}return 0})),n=t.slice(D*F,(D+1)*F);return D>0&&!n.length&&(n=t.slice((D-1)*F,F)),[n,e.length]}(),W=i()($,2),K=W[0],Z=W[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(Xe,{page:t,services:L,totalElement:Z,handleRequestModalOpen:r}),c.a.createElement(Ve,{page:t,serviceName:n,data:K,handleToggleActionClick:function(e){return function(e){T((function(t){return u()(t,a()({},e.serviceName,a()({},e.name,{__toggleShowSpinner:{$set:!0}})))}));var t=new URLSearchParams;t.append("disabled",!e.disabled),Object(v.a)({serviceName:"".concat(e.serviceName,"/").concat(e.name),body:t,customHeaders:{"Content-Type":"application/x-www-form-urlencoded"},method:"post",handleError:!0,callbackOnError:function(){T((function(t){return u()(t,a()({},e.serviceName,a()({},e.name,{__toggleShowSpinner:{$set:!1}})))}))}}).then((function(t){T((function(n){return u()(n,a()({},e.serviceName,a()({},e.name,{disabled:{$set:Object(b.f)(t.data.entry[0].content.disabled)},__toggleShowSpinner:{$set:!1}})))}))}))}(e)},handleSort:function(e,t){var n=f===t.sortKey?O:"none";E("asc"===n?"desc":"asc"),h(t.sortKey)},sortDir:O,sortKey:f,handleOpenPageStyleDialog:o}))}Ye.propTypes={page:h.a.string,serviceName:h.a.string,handleRequestModalOpen:h.a.func,handleOpenPageStyleDialog:h.a.func};t.a=Object(l.memo)(Ye)},324:function(e,t,n){"use strict";var r=n(28),a=n.n(r),o=n(29),i=n.n(o),l=n(31),c=n.n(l),s=n(32),u=n.n(s),d=n(20),p=n.n(d),f=n(0),h=n.n(f),m=n(3),v=n.n(m),b=n(307),g=n.n(b),y=n(6),O=n(457),E=n.n(O),j=n(129),k=n.n(j),w=n(120),C=n.n(w),R={ERR0002:"Configuration page failed to load, the server reported internal errors which may indicate you do not have access to this page.",ERR0003:"Failed to load content due to no response from server!",ERR0004:"Failed to load content due to failed request processing!",ERR0005:"Failed to load current state for selected entity in form!"};function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var x=function(e){c()(n,e);var t=S(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={errorCode:null,error:null,errorInfo:null},r}return i()(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){var e;return this.state.error?h.a.createElement("div",{align:"center",style:{marginTop:"10%"}},h.a.createElement(E.a,{style:{boxShadow:"10px 10px 5px #aaaaaa"}},h.a.createElement(E.a.Header,null,h.a.createElement(g.a,{style:{textAlign:"center"},level:2},h.a.createElement(k.a,{style:{fontSize:"120px",color:"#ff9900"}}),h.a.createElement("br",null),h.a.createElement("br",null),"ERR000Y"===this.state.errorCode?Object(y._)("Failed to load Inputs Page"):Object(y._)("Something went wrong!"))),h.a.createElement(E.a.Body,null,this.state.errorCode?h.a.createElement(h.a.Fragment,null,Object(y._)(R[this.state.errorCode]),h.a.createElement("br",null),h.a.createElement("br",null)):null,h.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},null===(e=this.state.error)||void 0===e?void 0:e.toString())),h.a.createElement(E.a.Footer,{showBorder:!1},this.state.errorCode?this.state.errorCode:null))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{errorCode:e.uccErrorCode}}}]),n}(h.a.Component);x.propTypes={children:v.a.oneOfType([v.a.arrayOf(v.a.node),v.a.node]).isRequired};t.a=x}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvY29udGV4dC9UYWJsZUNvbnRleHQuanN4Iiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC9jb25zdGFudHMvbW9kZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4vd2ViYXBwL3V0aWwvYXhpb3NDYWxsV3JhcHBlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvcGFnZXMvSW5wdXQvSW5wdXRQYWdlU3R5bGUuanN4Iiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC9ob29rcy91c2VRdWVyeS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvY29tcG9uZW50cy9FbnRpdHlNb2RhbC5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4vd2ViYXBwL2NvbXBvbmVudHMvTWFya2Rvd25NZXNzYWdlLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvY29tcG9uZW50cy9IZWxwTGlua0NvbXBvbmVudC5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4vd2ViYXBwL2NvbXBvbmVudHMvVGV4dENvbXBvbmVudC5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4vd2ViYXBwL2NvbXBvbmVudHMvU2luZ2xlSW5wdXRDb21wb25lbnQuanN4Iiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC9jb21wb25lbnRzL011bHRpSW5wdXRDb21wb25lbnQuanN4Iiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC9jb21wb25lbnRzL0NoZWNrQm94Q29tcG9uZW50LmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvY29tcG9uZW50cy9SYWRpb0NvbXBvbmVudC5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4vd2ViYXBwL2NvbXBvbmVudHMvUGxhY2Vob2xkZXJDb21wb25lbnQuanN4Iiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC9jb21wb25lbnRzL0N1c3RvbUNvbnRyb2wuanN4Iiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC9jb25zdGFudHMvQ29udHJvbFR5cGVNYXAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4vd2ViYXBwL2NvbXBvbmVudHMvQ29udHJvbFdyYXBwZXIuanN4Iiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC9jb25zdGFudHMvcHJlRGVmaW5lZFJlZ2V4LmpzIiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC91dGlsL1ZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvY29tcG9uZW50cy9CYXNlRm9ybVZpZXcuanN4Iiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC9jb25zdGFudHMvb0F1dGhFcnJvck1lc3NhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4vd2ViYXBwL2NvbnN0YW50cy9kaWFsb2dTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4vd2ViYXBwL2NvbXBvbmVudHMvdGFibGUvQ3VzdG9tVGFibGVDb250cm9sLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvY29tcG9uZW50cy90YWJsZS9UYWJsZUV4cGFuc2lvblJvdy5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4vd2ViYXBwL2NvbXBvbmVudHMvdGFibGUvQ3VzdG9tVGFibGVSb3cuanN4Iiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC9jb21wb25lbnRzL0RlbGV0ZU1vZGFsLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvY29tcG9uZW50cy90YWJsZS9DdXN0b21UYWJsZS5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4vd2ViYXBwL2NvbXBvbmVudHMvdGFibGUvVGFibGVGaWx0ZXIuanN4Iiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC9jb21wb25lbnRzL3RhYmxlL1RhYmxlSGVhZGVyLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvY29tcG9uZW50cy90YWJsZS9UYWJsZVdyYXBwZXIuanN4Iiwid2VicGFjazovLy8uL3NyYy9tYWluL3dlYmFwcC9jb25zdGFudHMvZXJyb3JDb2Rlcy5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4vd2ViYXBwL2NvbXBvbmVudHMvRXJyb3JCb3VuZGFyeS5qc3giXSwibmFtZXMiOlsiVGFibGVDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsInJvd0RhdGEiLCJzZXRSb3dEYXRhIiwiVGFibGVDb250ZXh0UHJvdmlkZXIiLCJjaGlsZHJlbiIsInVzZVN0YXRlIiwic2VhcmNoVGV4dCIsInNldFNlYXJjaFRleHQiLCJzZWFyY2hUeXBlIiwic2V0U2VhcmNoVHlwZSIsInBhZ2VTaXplIiwic2V0UGFnZVNpemUiLCJjdXJyZW50UGFnZSIsInNldEN1cnJlbnRQYWdlIiwiUHJvdmlkZXIiLCJ2YWx1ZSIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsIm9uZU9mVHlwZSIsImFycmF5T2YiLCJub2RlIiwiaXNSZXF1aXJlZCIsIk1PREVfQ0xPTkUiLCJNT0RFX0NSRUFURSIsIk1PREVfRURJVCIsIk1PREVfQ09ORklHIiwiYXhpb3NDYWxsV3JhcHBlciIsInNlcnZpY2VOYW1lIiwiZW5kcG9pbnRVcmwiLCJwYXJhbXMiLCJib2R5IiwiY2FuY2VsVG9rZW4iLCJjdXN0b21IZWFkZXJzIiwibWV0aG9kIiwiaGFuZGxlRXJyb3IiLCJjYWxsYmFja09uRXJyb3IiLCJlbmRwb2ludCIsImdlbmVyYXRlRW5kUG9pbnRVcmwiLCJhcHBEYXRhIiwiYXBwIiwib3duZXIiLCJiYXNlSGVhZGVycyIsIkNTUkZUb2tlbiIsImhlYWRlcnMiLCJPYmplY3QiLCJhc3NpZ24iLCJ1cmwiLCJjcmVhdGVSRVNUVVJMIiwibmV3UGFyYW1zIiwib3V0cHV0X21vZGUiLCJvcHRpb25zIiwiY3JlZGVudGlhbHMiLCJkYXRhIiwiYXhpb3MiLCJlcnJvciIsIm1lc3NhZ2UiLCJpc0NhbmNlbCIsInJlc3BvbnNlIiwibWVzc2FnZXMiLCJ0ZXh0IiwicmVxdWVzdCIsImdlbmVyYXRlVG9hc3QiLCJQcm9taXNlIiwicmVqZWN0IiwiVGl0bGVDb21wb25lbnQiLCJzdHlsZWQiLCJkaXYiLCJhdHRycyIsImNsYXNzTmFtZSIsInZhcmlhYmxlcyIsImZvbnRTaXplWFhMYXJnZSIsIlN1YlRpdGxlQ29tcG9uZW50IiwiZm9udFNpemUiLCJ1c2VRdWVyeSIsIlVSTFNlYXJjaFBhcmFtcyIsInVzZUxvY2F0aW9uIiwic2VhcmNoIiwiTW9kYWxXcmFwcGVyIiwiTW9kYWwiLCJFbnRpdHlNb2RhbCIsInByb3BzIiwiaGFuZGxlUmVxdWVzdENsb3NlIiwiZm9ybSIsImN1cnJlbnQiLCJoYW5kbGVTdWJtaXQiLCJzZXQiLCJjbG9zZSIsInNldFN0YXRlIiwiaXNTdWJtaXRpdG5nIiwiUmVhY3QiLCJjcmVhdGVSZWYiLCJzdGF0ZSIsIm1vZGUiLCJidXR0b25UZXh0IiwiXyIsIm9wZW4iLCJ0aGlzIiwiSGVhZGVyIiwidGl0bGUiLCJmb3JtTGFiZWwiLCJvblJlcXVlc3RDbG9zZSIsIkJvZHkiLCJyZWYiLCJwYWdlIiwic3RhbnphTmFtZSIsImhhbmRsZUZvcm1TdWJtaXQiLCJGb290ZXIiLCJhcHBlYXJhbmNlIiwib25DbGljayIsImxhYmVsIiwiZGlzYWJsZWQiLCJDb21wb25lbnQiLCJzdHJpbmciLCJib29sIiwiZnVuYyIsIk1hcmtkb3duV3JhcHBlciIsInNwYW4iLCJjb2xvciIsIk1hcmtkb3duTWVzc2FnZSIsImRhdGEtdGVzdCIsIm1hcmtkb3duVGV4dCIsIm1hcmtkb3duVHlwZSIsInRvIiwibGluayIsImFycmF5IiwiZm4iLCJpIiwibGVuZ3RoIiwibWFwcGluZyIsImNvbmNhdCIsImZsYXRNYXAiLCJzcGxpdCIsInRva2VuIiwicGFydCIsImtleSIsImxpbmtUZXh0IiwicG9wIiwibWVtbyIsIkhlbHBMaW5rQ29tcG9uZW50IiwiY29udHJvbE9wdGlvbnMiLCJvcGVuSW5OZXdDb250ZXh0Iiwib2JqZWN0IiwiVGV4dFdyYXBwZXIiLCJUZXh0IiwiVGV4dENvbXBvbmVudCIsImUiLCJoYW5kbGVDaGFuZ2UiLCJmaWVsZCIsImlubGluZSIsInBsYWNlaG9sZGVyIiwidG9TdHJpbmciLCJvbkNoYW5nZSIsInR5cGUiLCJlbmNyeXB0ZWQiLCJudW1iZXIiLCJTZWxlY3RXcmFwcGVyIiwiU2VsZWN0IiwiU3R5bGVkRGl2IiwiU2luZ2xlSW5wdXRDb21wb25lbnQiLCJkZXBlbmRlbmN5VmFsdWVzIiwicmVzdFByb3BzIiwiZGVueUxpc3QiLCJhbGxvd0xpc3QiLCJkZXBlbmRlbmNpZXMiLCJjcmVhdGVTZWFyY2hDaG9pY2UiLCJyZWZlcmVuY2VOYW1lIiwiZGlzYWJsZVNlYXJjaCIsImxhYmVsRmllbGQiLCJhdXRvQ29tcGxldGVGaWVsZHMiLCJoaWRlQ2xlYXJCdG4iLCJvYmoiLCJPcHRpb24iLCJDb21ib0JveCIsIkhlYWRpbmciLCJnZW5lcmF0ZU9wdGlvbnMiLCJpdGVtcyIsImZvckVhY2giLCJpdGVtIiwicHVzaCIsImNoaWxkIiwibG9hZGluZyIsInNldExvYWRpbmciLCJzZXRPcHRpb25zIiwidXNlRWZmZWN0Iiwic291cmNlIiwiQ2FuY2VsVG9rZW4iLCJjb3VudCIsInRoZW4iLCJmaWx0ZXJSZXNwb25zZSIsImVudHJ5IiwiY2FuY2VsIiwiZWZmZWN0aXZlRGlzYWJsZWQiLCJlZmZlY3RpdmVQbGFjZWhvbGRlciIsImVmZmVjdGl2ZUlzQ2xlYXJhYmxlIiwibmFtZSIsImRhdGEtdGVzdC1sb2FkaW5nIiwiZmlsdGVyIiwiaWNvbiIsInNoYXBlIiwiTXVsdGlTZWxlY3RXcmFwcGVyIiwiTXVsdGlzZWxlY3QiLCJNdWx0aUlucHV0Q29tcG9uZW50IiwiZGVsaW1pdGVyIiwiaXRlbUxpc3QiLCJtYXAiLCJnZXRGb3JtYXR0ZWRNZXNzYWdlIiwidmFsdWVMaXN0IiwidmFsdWVzIiwiYWxsb3dOZXdWYWx1ZXMiLCJqb2luIiwiQ2hlY2tCb3hDb21wb25lbnQiLCJpc0ZhbHNlIiwic2VsZWN0ZWQiLCJSYWRpb0JhcldyYXBwZXIiLCJSYWRpb0JhciIsIlJhZGlvQ29tcG9uZW50IiwiUGxhY2Vob2xkZXJDb21wb25lbnQiLCJkZWZhdWx0VmFsdWUiLCJDdXN0b21Db250cm9sIiwibW9kdWxlIiwiYXBwTmFtZSIsInJlc29sdmUiLCJpbXBvcnQiLCJnZXRCdWlsZERpclBhdGgiLCJleHRlcm5hbCIsIkNvbnRyb2wiLCJfX25vbl93ZWJwYWNrX3JlcXVpcmVfXyIsIm5ld1ZhbHVlIiwic2hvdWxkUmVuZGVyIiwiZ2xvYmFsQ29uZmlnIiwiZ2V0VW5pZmllZENvbmZpZ3MiLCJtZXRhIiwibG9hZEN1c3RvbUNvbnRyb2wiLCJzcmMiLCJjdXN0b21Db250cm9sIiwiZWwiLCJzZXRWYWx1ZSIsInV0aWxDdXN0b21GdW5jdGlvbnMiLCJyZW5kZXIiLCJ2YWxpZGF0aW9uIiwiYWRkQ3VzdG9tVmFsaWRhdG9yIiwibmV4dFByb3BzIiwibmV4dFN0YXRlIiwic3R5bGUiLCJ2aXNpYmlsaXR5Iiwic2luZ2xlU2VsZWN0IiwiaGVscExpbmsiLCJtdWx0aXBsZVNlbGVjdCIsImNoZWNrYm94IiwicmFkaW8iLCJjdXN0b20iLCJDdXN0b21FbGVtZW50IiwiQ29udHJvbEdyb3VwV3JhcHBlciIsIkNvbnRyb2xHcm91cCIsImRhdGFOYW1lIiwiQ29udHJvbFdyYXBwZXIiLCJzdHIiLCJTdHJpbmciLCJjb250cm9sVHlwZSIsImlzU3RyaW5nIiwiZW50aXR5IiwiQ09OVFJPTF9UWVBFX01BUCIsInJlcXVpcmVkIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwicm93VmlldyIsInRvb2x0aXAiLCJoZWxwIiwidXRpbGl0eUZ1bmN0cyIsIm1hcmtkb3duTWVzc2FnZSIsImNyZWF0ZUVsZW1lbnQiLCJoZWxwVGV4dCIsImRpc3BsYXkiLCJQdXJlQ29tcG9uZW50IiwiYW55IiwiUFJFREVGSU5FRF9WQUxJREFUT1JTX0RJQ1QiLCJyZWdleCIsImlucHV0VmFsdWVUeXBlIiwiZW1haWwiLCJpcHY0IiwiZGF0ZSIsIlZhbGlkYXRvciIsImVudGl0aWVzIiwiYXR0clZhbHVlIiwidW5kZWZpbmVkIiwiaXNOYW1lIiwiZmluZCIsImNoZWNrSXNGaWVsZEhhc0lucHV0IiwiZXJyb3JGaWVsZCIsImVycm9yTXNnIiwidmFsaWRhdG9yIiwicGFyc2VTdHJpbmdWYWxpZGF0b3IiLCJtaW5MZW5ndGgiLCJtYXhMZW5ndGgiLCJwYXJzZVJlZ2V4UmF3U3RyIiwicGF0dGVybiIsInJlc3VsdCIsInRlc3QiLCJwYXJzZU51bWJlclZhbGlkYXRvciIsInJhbmdlIiwidmFsIiwiTnVtYmVyIiwiaXNOYU4iLCJ0YXJnZXRWYWx1ZSIsIm5hbWVGaWVsZExhYmVsIiwic3RhcnRzV2l0aCIsInRvTG93ZXJDYXNlIiwic29tZSIsImQiLCJpbmRleE9mIiwicmV0IiwiaiIsIlJlcXVpcmVkVmFsaWRhdG9yIiwidmFsaWRhdG9ycyIsIlN0cmluZ1ZhbGlkYXRvciIsIlJlZ2V4VmFsaWRhdG9yIiwiTnVtYmVyVmFsaWRhdG9yIiwiUHJlRGVmaW5lZFJlZ2V4VmFsaWRhdG9yIiwiQ3VzdG9tVmFsaWRhdG9yIiwidmFsaWRhdG9yRnVuYyIsIkNvbGxhcHNpYmxlUGFuZWxXcmFwcGVyIiwiQ29sbGFwc2libGVQYW5lbCIsIkN1c3RvbUdyb3VwTGFiZWwiLCJCYXNlRm9ybVZpZXciLCJjb250ZXh0Iiwic2VydmljZSIsImdyb3VwcyIsImdyb3VwIiwiZmllbGRzIiwiZmllbGROYW1lIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJ1cGRhdGVkT2JqIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiaXNHcm91cGluZyIsInNwbGljZSIsImNsZWFyRXJyb3JNc2ciLCJkYXRhZGljdCIsImtleXMiLCJob29rIiwib25TYXZlIiwiZXhlY3V0ZVZhbGlkYXRpb25TdWJtaXQiLCJ0ZW1FbnRpdGllcyIsImluY2x1ZGVzIiwiQm9vbGVhbiIsInNldEVycm9yRmllbGRNc2ciLCJpc09BdXRoIiwicmVxRmllbGRzIiwiYXV0aE1hcCIsImF1dGhfdHlwZSIsImlzQXV0aFZhbCIsImRvVmFsaWRhdGlvbiIsInNhdmVWYWxpZGF0b3IiLCJmb3JtRGF0YSIsInBhcnNlRnVuY3Rpb25SYXdTdHIiLCJTYXZlVmFsaWRhdG9yIiwic2V0RXJyb3JNc2ciLCJpc1NpbmdsZU9hdXRoIiwicGFyYW1ldGVycyIsImNsaWVudF9pZCIsInJlZGlyZWN0X3VybCIsInN0YXRlRW5hYmxlZCIsImlzb2F1dGhTdGF0ZSIsInN0YXRlX2VuYWJsZWQiLCJvYXV0aF9zdGF0ZSIsInV1aWR2NCIsInJlcGxhY2UiLCJob3N0Iiwib2F1dGhDb25mIiwiYXV0aENvZGVFbmRwb2ludCIsImEiLCJpc0NhbGxlZCIsImlzRXJyb3IiLCJpc1Jlc3BvbnNlIiwiY2hpbGRXaW4iLCJ3aW5kb3ciLCJwb3B1cFdpZHRoIiwicG9wdXBIZWlnaHQiLCJnZXRNZXNzYWdlIiwiaGFuZGxlT2F1dGhUb2tlbiIsIndhaXRGb3JBdXRoZW50aWNhdGlvbiIsImF1dGhUaW1lb3V0IiwiY2xvc2VkIiwid2FpdEZvckJhY2tlbmRSZXNwb25zZSIsInNhdmVEYXRhIiwib25TYXZlUHJvbWlzZSIsImFwcGVuZCIsInRtcE9iaiIsImNvbnRlbnQiLCJpZCIsInVwZGF0ZSIsIiRtZXJnZSIsIm9uU2F2ZVN1Y2Nlc3MiLCJtb2RlX2NvbmZpZ190aXRsZSIsImVyciIsImVycm9yU3VibWl0TXNnIiwicGFyc2VFcnJvck1zZyIsIm9uU2F2ZUZhaWwiLCJjaGFuZ2VzIiwiJHNldCIsImRlcGVuZGVuY3lNYXAiLCJoYXMiLCJnZXQiLCJsb2FkRmllbGQiLCJsb2FkIiwiZGVwZW5kZW5jeSIsImN1cnJlbnRWYWx1ZSIsIm5ld0ZpZWxkcyIsInRlbXBTdGF0ZSIsImNsZWFyQWxsRXJyb3JNc2ciLCJob29rRGVmZXJyZWQiLCJ4IiwibXNnIiwicHJldmlvdXNTdGF0ZSIsIlN0YXRlIiwid2FybmluZ01zZyIsIm5ld0RhdGEiLCJ0ZW1EYXRhIiwiSG9vayIsInV0aWwiLCJjb2RlIiwic3RhdGVSZXNwb25zZSIsImRlY29kZVVSSUNvbXBvbmVudCIsImFjY2Vzc1Rva2VuRW5kcG9pbnQiLCJncmFudF90eXBlIiwiY2xpZW50X3NlY3JldCIsInJlZGlyZWN0X3VyaSIsIk9BdXRoRW5kcG9pbnQiLCJhY2Nlc3NUb2tlbiIsImFjY2Vzc190b2tlbiIsImluc3RhbmNlVXJsIiwiaW5zdGFuY2VfdXJsIiwicmVmcmVzaFRva2VuIiwicmVmcmVzaF90b2tlbiIsInNsZWVwIiwidGltZW91dCIsImFyZ3MiLCJtcyIsInNldFRpbWVvdXQiLCJjb2xscHNpYmxlRWxlbWVudCIsInRlbVN0YXRlIiwidXRpbENvbnRyb2xXcmFwcGVyIiwiaXNFeHBhbmRhYmxlIiwiZmxhZyIsImN1cnJlbnRJbnB1dCIsImVuY29kZVVSSUNvbXBvbmVudCIsImNhbGxiYWNrIiwiUEFHRV9JTlBVVCIsInBhZ2VzIiwiaW5wdXRzIiwic2VydmljZXMiLCJ1cGRhdGVFbnRpdGllc0Zvckdyb3VwIiwibG9hZEhvb2siLCJjb25maWd1cmF0aW9uIiwidGFicyIsInRhYiIsInRhYmxlIiwiY3VycmVudFNlcnZpY2VTdGF0ZSIsIk1hcCIsIlBBR0VfQ09ORiIsImF1dGhUeXBlIiwib2F1dGhfc3RhdGVfZW5hYmxlZCIsInRlbXBFbnRpdHkiLCJiYXNpYyIsIm9hdXRoIiwiYXV0aGZpZWxkcyIsImlzRW5jcnlwdGVkIiwibG9jYXRpb24iLCJocmVmIiwib2F1dGhDb25mRGF0YSIsIm9hdXRoX3BvcHVwX3dpZHRoIiwib2F1dGhfcG9wdXBfaGVpZ2h0Iiwib2F1dGhfdGltZW91dCIsImF1dGhfY29kZV9lbmRwb2ludCIsImFjY2Vzc190b2tlbl9lbmRwb2ludCIsImRpc2FibGVvbkVkaXQiLCJFcnJvciIsImNoYW5nZUZpZWxkcyIsImZsYXR0ZW5lZE1hcCIsIm9uQ3JlYXRlIiwiY29uc29sZSIsIm9uUmVuZGVyIiwib25FZGl0TG9hZCIsIm1hcmdpblRvcCIsImdlbmVyYXRlV2FybmluZ01lc3NhZ2UiLCJnZW5lcmF0ZUVycm9yTWVzc2FnZSIsInJlbmRlckdyb3VwRWxlbWVudHMiLCJTVFlMRV9QQUdFIiwiU1RZTEVfTU9EQUwiLCJDdXN0b21UYWJsZUNvbnRyb2wiLCJmaWxlTmFtZSIsInJvdyIsIlRhYmxlQ2VsbFdyYXBwZXIiLCJUYWJsZSIsIkNlbGwiLCJnZXRFeHBhbnNpb25Sb3ciLCJjb2xTcGFuIiwibW9yZUluZm8iLCJjdXN0b21Sb3ciLCJSb3ciLCJ0ZXJtV2lkdGgiLCJEZWZpbml0aW9uTGlzdHMiLCJUZXJtIiwiRGVzY3JpcHRpb24iLCJnZXRFeHBhbnNpb25Sb3dEYXRhIiwiU3dpdGNoV3JhcHBlciIsIkN1c3RvbVRhYmxlUm93IiwiY29sdW1ucyIsImhlYWRlck1hcHBpbmciLCJoYW5kbGVUb2dnbGVBY3Rpb25DbGljayIsImhhbmRsZUVkaXRBY3Rpb25DbGljayIsImhhbmRsZUNsb25lQWN0aW9uQ2xpY2siLCJoYW5kbGVEZWxldGVBY3Rpb25DbGljayIsInJvd0FjdGlvbnNQcmltYXJ5QnV0dG9uIiwidXNlQ2FsbGJhY2siLCJzZWxlY3RlZFJvdyIsImRhdGEtY29sdW1uIiwic2NyZWVuUmVhZGVyVGV4dCIsInNpemUiLCJzdGF0dXNDb250ZW50IiwiX190b2dnbGVTaG93U3Bpbm5lciIsImhlYWRlciIsImNlbGxIVE1MIiwiY3VzdG9tQ2VsbCIsImdldEN1c3RvbUNlbGwiLCJzZWxlY3RlZExhYmVsIiwidW5zZWxlY3RlZExhYmVsIiwiRGVsZXRlTW9kYWwiLCJFcnJvck1zZyIsInByZXZTdGF0ZSIsImlzRGVsZXRpbmciLCIkdW5zZXQiLCJkZWxldGVNc2ciLCJoYW5kbGVEZWxldGUiLCJDdXN0b21UYWJsZSIsImhhbmRsZU9wZW5QYWdlU3R5bGVEaWFsb2ciLCJoYW5kbGVTb3J0Iiwic29ydERpciIsInNvcnRLZXkiLCJ1bmlmaWVkQ29uZmlncyIsImVudGl0eU1vZGFsIiwic2V0RW50aXR5TW9kYWwiLCJkZWxldGVNb2RhbCIsInNldERlbGV0ZU1vZGFsIiwidXNlQ29udGV4dCIsInRhYmxlQ29uZmlnIiwic2VydmljZVRvU3R5bGVNYXAiLCJxdWVyeSIsInNlcnZpY2VLZXkiLCJjb2x1bW4iLCJoYW5kbGVFbnRpdHlDbG9zZSIsImhhbmRsZURlbGV0ZUNsb3NlIiwiZ2V0VGFibGVIZWFkZXJDZWxsIiwiSGVhZCIsImhlYWREYXRhIiwiSGVhZENlbGwiLCJvblNvcnQiLCJzdHJpcGVSb3dzIiwicm93RXhwYW5zaW9uIiwiZXhwYW5zaW9uUm93IiwiZ2VuZXJhdGVNb2RhbERpYWxvZyIsIlRhYmxlRmlsdGVyIiwid2FpdCIsImxhdGVyIiwiY2xlYXJUaW1lb3V0IiwiVGFibGVIZWFkZXJXcmFwcGVyIiwiVGFibGVGaWx0ZXJXcmFwcGVyIiwiVGFibGVIZWFkZXIiLCJ0b3RhbEVsZW1lbnQiLCJoYW5kbGVSZXF1ZXN0TW9kYWxPcGVuIiwiaXRlbUxhYmVsIiwiYXJyIiwidW5zaGlmdCIsImdldFNlYXJjaFR5cGVEcm9wZG93biIsInBhZ2VOdW1iZXIiLCJhbHdheXNTaG93TGFzdFBhZ2VMaW5rIiwidG90YWxQYWdlcyIsIk1hdGgiLCJjZWlsIiwiVGFibGVXcmFwcGVyIiwic2V0U29ydEtleSIsInNldFNvcnREaXIiLCJzZXRFcnJvciIsImZldGNoSW5wdXRzIiwicmVxdWVzdHMiLCJhbGwiLCJlcnJvckNvZGUiLCJ1Y2NFcnJvckNvZGUiLCJyZXMiLCJmaW5kQnlNYXRjaGluZ1ZhbHVlIiwidGFibGVGaWVsZHMiLCJtb3JlSW5mb0RhdGEiLCJ2IiwiZm91bmQiLCJ2diIsInRyaW0iLCJuZXdBcnIiLCJzb3J0ZWRBcnIiLCJzb3J0Iiwicm93QSIsInJvd0IiLCJyb3dBVmFsdWUiLCJ1cGRhdGVkQXJyIiwic2xpY2UiLCJnZXRSb3dEYXRhIiwiZmlsdGVyZWREYXRhIiwiY3VycmVudFJvd0RhdGEiLCJpc1RydWUiLCJjaGFuZ2VUb2dnbGVTdGF0dXMiLCJwcmV2U29ydERpciIsIkVSUjAwMDIiLCJFUlIwMDAzIiwiRVJSMDAwNCIsIkVSUjAwMDUiLCJFcnJvckJvdW5kYXJ5IiwiZXJyb3JJbmZvIiwiYWxpZ24iLCJib3hTaGFkb3ciLCJ0ZXh0QWxpZ24iLCJsZXZlbCIs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QkFHbEYsa0JBQUMsSUFBS08sS0FBTixLQUNLTCxLQUFLTCxNQUFNa2YsVUFDUixvQ0FDSy9lLFlBQUVraEIsRUFBV2hoQixLQUFLTCxNQUFNa2YsWUFDekIsNkJBQUssOEJBRVQsS0FDSiw2QkFBUzFWLE1BQU8sQ0FBRThYLFdBQVksYUFBOUIsVUFDS2poQixLQUFLTCxNQUFNckMsYUFEaEIsYUFDSyxFQUFrQmdHLGFBRzNCLGtCQUFDLElBQUs1QyxPQUFOLENBQWF3Z0IsWUFBWSxHQUNwQmxoQixLQUFLTCxNQUFNa2YsVUFBWTdlLEtBQUtMLE1BQU1rZixVQUFZLFFBT3hEN2UsS0FBS2hCLE1BQU01RSxZLHVDQTdDdEIsU0FBZ0NrRCxHQUU1QixNQUFPLENBQUV1aEIsVUFBV3ZoQixFQUFNd2hCLGtCLEdBUk5yZixJQUFNc0IsV0F1RGxDMmYsRUFBYzFsQixVQUFZLENBQ3RCWixTQUFVYSxJQUFVQyxVQUFVLENBQUNELElBQVVFLFFBQVFGLElBQVVHLE1BQU9ILElBQVVHLE9BQU9DLFlBR3hFcWxCIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5jb25zdCBUYWJsZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcbiAgICByb3dEYXRhOiB7fSxcbiAgICBzZXRSb3dEYXRhOiAoKSA9PiB7fSxcbn0pO1xuXG5leHBvcnQgY29uc3QgVGFibGVDb250ZXh0UHJvdmlkZXIgPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gICAgY29uc3QgW3Jvd0RhdGEsIHNldFJvd0RhdGFdID0gdXNlU3RhdGUoe30pO1xuICAgIGNvbnN0IFtzZWFyY2hUZXh0LCBzZXRTZWFyY2hUZXh0XSA9IHVzZVN0YXRlKCcnKTtcbiAgICBjb25zdCBbc2VhcmNoVHlwZSwgc2V0U2VhcmNoVHlwZV0gPSB1c2VTdGF0ZSgnYWxsJyk7XG4gICAgY29uc3QgW3BhZ2VTaXplLCBzZXRQYWdlU2l6ZV0gPSB1c2VTdGF0ZSgxMCk7XG4gICAgY29uc3QgW2N1cnJlbnRQYWdlLCBzZXRDdXJyZW50UGFnZV0gPSB1c2VTdGF0ZSgwKTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxUYWJsZUNvbnRleHQuUHJvdmlkZXJcbiAgICAgICAgICAgIHZhbHVlPXt7XG4gICAgICAgICAgICAgICAgcm93RGF0YSxcbiAgICAgICAgICAgICAgICBzZXRSb3dEYXRhLFxuICAgICAgICAgICAgICAgIHNlYXJjaFRleHQsXG4gICAgICAgICAgICAgICAgc2V0U2VhcmNoVGV4dCxcbiAgICAgICAgICAgICAgICBzZWFyY2hUeXBlLFxuICAgICAgICAgICAgICAgIHNldFNlYXJjaFR5cGUsXG4gICAgICAgICAgICAgICAgcGFnZVNpemUsXG4gICAgICAgICAgICAgICAgc2V0UGFnZVNpemUsXG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2UsXG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudFBhZ2UsXG4gICAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvVGFibGVDb250ZXh0LlByb3ZpZGVyPlxuICAgICk7XG59O1xuXG5UYWJsZUNvbnRleHRQcm92aWRlci5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5ub2RlKSwgUHJvcFR5cGVzLm5vZGVdKS5pc1JlcXVpcmVkLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgVGFibGVDb250ZXh0O1xuIiwiZXhwb3J0IGNvbnN0IE1PREVfQ0xPTkUgPSAnY2xvbmUnO1xuZXhwb3J0IGNvbnN0IE1PREVfQ1JFQVRFID0gJ2NyZWF0ZSc7XG5leHBvcnQgY29uc3QgTU9ERV9ERUxFVEUgPSAnZGVsZXRlJztcbmV4cG9ydCBjb25zdCBNT0RFX0VESVQgPSAnZWRpdCc7XG5leHBvcnQgY29uc3QgTU9ERV9DT05GSUcgPSAnY29uZmlnJztcbiIsImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBDU1JGVG9rZW4sIGFwcCB9IGZyb20gJ0BzcGx1bmsvc3BsdW5rLXV0aWxzL2NvbmZpZyc7XG5pbXBvcnQgeyBjcmVhdGVSRVNUVVJMIH0gZnJvbSAnQHNwbHVuay9zcGx1bmstdXRpbHMvdXJsJztcbmltcG9ydCB7IGdlbmVyYXRlRW5kUG9pbnRVcmwsIGdlbmVyYXRlVG9hc3QgfSBmcm9tICcuL3V0aWwnO1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YSBUaGUgb2JqZWN0IGNvbnRhaW5pbmcgcmVxdWlyZWQgcGFyYW1zIGZvciByZXF1ZXN0XG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YS5zZXJ2aWNlTmFtZSBzZXJ2aWNlIG5hbWUgd2hpY2ggaXMgaW5wdXQgbmFtZSBvciB0YWIgbmFtZSBiYXNlZCBvbiB0aGUgcGFnZVxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGEuZW5kcG9pbnRVcmwgcmVzdCBlbmRwb2ludCBwYXRoXG4gKiBAcGFyYW0ge29iamVjdH0gZGF0YS5wYXJhbXMgb2JqZWN0IHdpdGggcGFyYW1zIGFzIGtleSB2YWx1ZSBwYWlyc1xuICogQHBhcmFtIHtvYmplY3R9IGRhdGEuYm9keSBvYmplY3Qgd2l0aCBib2R5IGFzIGtleSB2YWx1ZSBwYWlycyBmb3IgcG9zdCByZXF1ZXN0XG4gKiBAcGFyYW0ge29iamVjdH0gZGF0YS5jdXN0b21IZWFkZXJzIGV4dHJhIGhlYWRlcnMgYXMga2V5IHZhbHVlIHBhaXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhLm1ldGhvZCByZXN0IG1ldGhvZCB0eXBlXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YS5oYW5kbGVFcnJvciB3aGV0aGVyIG9yIG5vdCBzaG93IHRvYXN0IG5vdGlmaWNhdGlvbnMgb24gZmFpbHVyZVxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGEuY2FsbGJhY2tPbkVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgYWZ0ZXIgaGFuZGxpbmcgZXJyb3IuIE9ubHkgZXhlY3V0ZWQgd2hlbiBoYW5kbGVFcnJvciBpcyBzZXQgdG8gdHJ1ZVxuICogQHJldHVybnNcbiAqL1xuY29uc3QgYXhpb3NDYWxsV3JhcHBlciA9ICh7XG4gICAgc2VydmljZU5hbWUsXG4gICAgZW5kcG9pbnRVcmwsXG4gICAgcGFyYW1zLFxuICAgIGJvZHksXG4gICAgY2FuY2VsVG9rZW4sXG4gICAgY3VzdG9tSGVhZGVycyA9IHt9LFxuICAgIG1ldGhvZCA9ICdnZXQnLFxuICAgIGhhbmRsZUVycm9yID0gZmFsc2UsXG4gICAgY2FsbGJhY2tPbkVycm9yID0gKCkgPT4ge30sXG59KSA9PiB7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBzZXJ2aWNlTmFtZSA/IGdlbmVyYXRlRW5kUG9pbnRVcmwoc2VydmljZU5hbWUpIDogZW5kcG9pbnRVcmw7XG4gICAgY29uc3QgYXBwRGF0YSA9IHtcbiAgICAgICAgYXBwLFxuICAgICAgICBvd25lcjogJ25vYm9keScsXG4gICAgfTtcbiAgICBjb25zdCBiYXNlSGVhZGVycyA9IHtcbiAgICAgICAgJ1gtU3BsdW5rLUZvcm0tS2V5JzogQ1NSRlRva2VuLFxuICAgICAgICAnWC1SZXF1ZXN0ZWQtV2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcsXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfTtcbiAgICBjb25zdCBoZWFkZXJzID0gT2JqZWN0LmFzc2lnbihiYXNlSGVhZGVycywgY3VzdG9tSGVhZGVycyk7XG4gICAgY29uc3QgdXJsID0gY3JlYXRlUkVTVFVSTChlbmRwb2ludCwgYXBwRGF0YSk7XG5cbiAgICBsZXQgbmV3UGFyYW1zID0geyBvdXRwdXRfbW9kZTogJ2pzb24nIH07XG4gICAgaWYgKHBhcmFtcykge1xuICAgICAgICBuZXdQYXJhbXMgPSB7IC4uLm5ld1BhcmFtcywgLi4ucGFyYW1zIH07XG4gICAgfVxuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgcGFyYW1zOiBuZXdQYXJhbXMsXG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgdXJsLFxuICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBjYW5jZWxUb2tlbixcbiAgICB9O1xuXG4gICAgaWYgKG1ldGhvZCA9PT0gJ3Bvc3QnKSB7XG4gICAgICAgIG9wdGlvbnMuZGF0YSA9IGJvZHk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhhbmRsZUVycm9yXG4gICAgICAgID8gYXhpb3Mob3B0aW9ucykuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgIGxldCBtZXNzYWdlID0gJyc7XG4gICAgICAgICAgICAgIGlmIChheGlvcy5pc0NhbmNlbChlcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAvLyBUaGUgcmVxdWVzdCB3YXMgbWFkZSBhbmQgdGhlIHNlcnZlciByZXNwb25kZWQgd2l0aCBhIHN0YXR1cyBjb2RlXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEVycm9yIHJlc3BvbnNlIHJlY2VpdmVkIGZyb20gc2VydmVyOiAke2Vycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZXNbMF0udGV4dH1gO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLnJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFRoZSByZXF1ZXN0IHdhcyBtYWRlIGJ1dCBubyByZXNwb25zZSB3YXMgcmVjZWl2ZWRcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgTm8gcmVzcG9uc2UgcmVjZWl2ZWQgd2hpbGUgbWFraW5nIHJlcXVlc3QgdG8gJHtlbmRwb2ludH1gO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gU29tZXRoaW5nIGhhcHBlbmVkIGluIHNldHRpbmcgdXAgdGhlIHJlcXVlc3QgdGhhdCB0cmlnZ2VyZWQgYW4gRXJyb3JcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgRXJyb3IgbWFraW5nICR7bWV0aG9kfSByZXF1ZXN0IHRvICR7ZW5kcG9pbnR9YDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBnZW5lcmF0ZVRvYXN0KG1lc3NhZ2UsICdlcnJvcicpO1xuICAgICAgICAgICAgICBjYWxsYmFja09uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgIH0pXG4gICAgICAgIDogYXhpb3Mob3B0aW9ucyk7XG59O1xuXG5leHBvcnQgeyBheGlvc0NhbGxXcmFwcGVyIH07XG4iLCJpbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IHZhcmlhYmxlcyB9IGZyb20gJ0BzcGx1bmsvdGhlbWVzJztcblxuZXhwb3J0IGNvbnN0IFRpdGxlQ29tcG9uZW50ID0gc3R5bGVkLmRpdi5hdHRycyh7XG4gICAgY2xhc3NOYW1lOiAncGFnZVRpdGxlJyxcbn0pYFxuICAgICYucGFnZVRpdGxlIHtcbiAgICAgICAgZm9udC1zaXplOiAke3ZhcmlhYmxlcy5mb250U2l6ZVhYTGFyZ2V9O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgIH1cbmA7XG5cbmV4cG9ydCBjb25zdCBTdWJUaXRsZUNvbXBvbmVudCA9IHN0eWxlZC5kaXYuYXR0cnMoe1xuICAgIGNsYXNzTmFtZTogJ3BhZ2VTdWJ0aXRsZScsXG59KWBcbiAgICAmLnBhZ2VTdWJ0aXRsZSB7XG4gICAgICAgIGZvbnQtc2l6ZTogJHt2YXJpYWJsZXMuZm9udFNpemV9O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAgIH1cbmA7XG5cbmV4cG9ydCBjb25zdCBUYWJsZUNhcHRpb25Db21wb25lbnQgPSBzdHlsZWQuZGl2YFxuICAgIC50YWJsZS1jYXB0aW9uLWlubmVyIHtcbiAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICB9XG5gO1xuIiwiaW1wb3J0IHsgdXNlTG9jYXRpb24gfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcblxuLy8gQSBjdXN0b20gaG9vayB0aGF0IGJ1aWxkcyBvbiB1c2VMb2NhdGlvbiB0byBwYXJzZSB0aGUgcXVlcnkgc3RyaW5nIGZvciB5b3UuXG5mdW5jdGlvbiB1c2VRdWVyeSgpIHtcbiAgICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtcyh1c2VMb2NhdGlvbigpLnNlYXJjaCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHVzZVF1ZXJ5O1xuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvQnV0dG9uJztcbmltcG9ydCBNb2RhbCBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL01vZGFsJztcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IFdhaXRTcGlubmVyIGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvV2FpdFNwaW5uZXInO1xuaW1wb3J0IHsgXyB9IGZyb20gJ0BzcGx1bmsvdWktdXRpbHMvaTE4bic7XG5cbmltcG9ydCB7IE1PREVfQ0xPTkUsIE1PREVfQ1JFQVRFLCBNT0RFX0VESVQgfSBmcm9tICcuLi9jb25zdGFudHMvbW9kZXMnO1xuaW1wb3J0IEJhc2VGb3JtVmlldyBmcm9tICcuL0Jhc2VGb3JtVmlldyc7XG5cbmNvbnN0IE1vZGFsV3JhcHBlciA9IHN0eWxlZChNb2RhbClgXG4gICAgd2lkdGg6IDgwMHB4O1xuYDtcblxuY2xhc3MgRW50aXR5TW9kYWwgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgLy8gUmVmIGlzIHVzZWQgaGVyZSB0byBjYWxsIHN1Ym1pdCBtZXRob2Qgb2YgZm9ybSBvbmx5XG4gICAgICAgIHRoaXMuZm9ybSA9IFJlYWN0LmNyZWF0ZVJlZigpOyAvLyBub3NlbWdyZXA6IHR5cGVzY3JpcHQucmVhY3Quc2VjdXJpdHkuYXVkaXQucmVhY3Qtbm8tcmVmcy5yZWFjdC1uby1yZWZzXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7IGlzU3VibWl0aXRuZzogZmFsc2UgfTtcblxuICAgICAgICBpZiAocHJvcHMubW9kZSA9PT0gTU9ERV9DUkVBVEUpIHtcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uVGV4dCA9IF8oJ0FkZCcpO1xuICAgICAgICB9IGVsc2UgaWYgKHByb3BzLm1vZGUgPT09IE1PREVfQ0xPTkUpIHtcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uVGV4dCA9IF8oJ1NhdmUnKTtcbiAgICAgICAgfSBlbHNlIGlmIChwcm9wcy5tb2RlID09PSBNT0RFX0VESVQpIHtcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uVGV4dCA9IF8oJ1VwZGF0ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5idXR0b25UZXh0ID0gXygnU3VibWl0Jyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVSZXF1ZXN0Q2xvc2UgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMuaGFuZGxlUmVxdWVzdENsb3NlKCk7XG4gICAgfTtcblxuICAgIGhhbmRsZVN1Ym1pdCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5mb3JtLmN1cnJlbnQuaGFuZGxlU3VibWl0KCk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUmVxdWVzdENsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLypcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNldDogd2hldGhlciBmb3JtIGlzIHN1Ym1pdHRpbmdcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsb3NlIDogY2xvc2UgdGhlIEVudGl0eSBtb2RhbFxuICAgICAqL1xuICAgIGhhbmRsZUZvcm1TdWJtaXQgPSAoc2V0LCBjbG9zZSkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNTdWJtaXRpdG5nOiBzZXQgfSk7XG4gICAgICAgIGlmIChjbG9zZSkge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVSZXF1ZXN0Q2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8TW9kYWxXcmFwcGVyIG9wZW49e3RoaXMucHJvcHMub3Blbn0+XG4gICAgICAgICAgICAgICAgPE1vZGFsLkhlYWRlclxuICAgICAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5mb3JtTGFiZWx9XG4gICAgICAgICAgICAgICAgICAgIG9uUmVxdWVzdENsb3NlPXt0aGlzLmhhbmRsZVJlcXVlc3RDbG9zZX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxNb2RhbC5Cb2R5PlxuICAgICAgICAgICAgICAgICAgICA8QmFzZUZvcm1WaWV3IC8vIG5vc2VtZ3JlcDogdHlwZXNjcmlwdC5yZWFjdC5zZWN1cml0eS5hdWRpdC5yZWFjdC1uby1yZWZzLnJlYWN0LW5vLXJlZnNcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17dGhpcy5mb3JtfVxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZT17dGhpcy5wcm9wcy5wYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZU5hbWU9e3RoaXMucHJvcHMuc2VydmljZU5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlPXt0aGlzLnByb3BzLm1vZGV9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFuemFOYW1lPXt0aGlzLnByb3BzLnN0YW56YU5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVGb3JtU3VibWl0PXt0aGlzLmhhbmRsZUZvcm1TdWJtaXR9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Nb2RhbC5Cb2R5PlxuICAgICAgICAgICAgICAgIDxNb2RhbC5Gb290ZXI+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVhcmFuY2U9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVSZXF1ZXN0Q2xvc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17XygnQ2FuY2VsJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc1N1Ym1pdGl0bmd9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNhdmVCdG5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZWFyYW5jZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e3RoaXMuc3RhdGUuaXNTdWJtaXRpdG5nID8gPFdhaXRTcGlubmVyIC8+IDogdGhpcy5idXR0b25UZXh0fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVTdWJtaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc1N1Ym1pdGl0bmd9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Nb2RhbC5Gb290ZXI+XG4gICAgICAgICAgICA8L01vZGFsV3JhcHBlcj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbkVudGl0eU1vZGFsLnByb3BUeXBlcyA9IHtcbiAgICBwYWdlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIG9wZW46IFByb3BUeXBlcy5ib29sLFxuICAgIGhhbmRsZVJlcXVlc3RDbG9zZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgc2VydmljZU5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgbW9kZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBzdGFuemFOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGZvcm1MYWJlbDogUHJvcFR5cGVzLnN0cmluZyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEVudGl0eU1vZGFsO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCBMaW5rIGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvTGluayc7XG5cbmNvbnN0IE1hcmtkb3duV3JhcHBlciA9IHN0eWxlZC5zcGFuYFxuICAgIGNvbG9yOiAkeyhwcm9wcykgPT4gcHJvcHMuY29sb3J9O1xuYDtcblxuZnVuY3Rpb24gTWFya2Rvd25NZXNzYWdlKHByb3BzKSB7XG4gICAgLy8gZmxhdE1hcCBhZGRzIHRoZSBsaW5rIHRvIHRoZSBwYXJ0IG9mIHRleHQgdGhhdCBoYXMgYmVlbiBzcGxpdCBmcm9tIHRleHRcbiAgICAvLyBhbmQgcmV0dXJucyBhIG5ldyBhcnJheSBmb3JtZWQgYnkgYXBwbHlpbmcgYSBnaXZlbiBmdW5jdGlvbiB0byBlYWNoIGVsZW1lbnQgb2YgdGhlIGFycmF5LFxuICAgIC8vIGFuZCB0aGVuIGZsYXR0ZW5pbmcgdGhlIHJlc3VsdCBieSBvbmUgbGV2ZWxcbiAgICBmdW5jdGlvbiBmbGF0TWFwKGFycmF5LCBmbikge1xuICAgICAgICBsZXQgbWFya2Rvd25UZXh0ID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hcHBpbmcgPSBmbihhcnJheVtpXSk7XG4gICAgICAgICAgICBtYXJrZG93blRleHQgPSBtYXJrZG93blRleHQuY29uY2F0KG1hcHBpbmcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXJrZG93blRleHQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0TWFya2Rvd25UZXh0KCkge1xuICAgICAgICBsZXQgbWFya2Rvd25UZXh0ID0gcHJvcHMudGV4dDtcbiAgICAgICAgaWYgKHByb3BzLm1hcmtkb3duVHlwZSA9PT0gJ2xpbmsnKSB7XG4gICAgICAgICAgICBtYXJrZG93blRleHQgPSA8TGluayB0bz17cHJvcHMubGlua30+e3Byb3BzLnRleHR9PC9MaW5rPjtcbiAgICAgICAgfSBlbHNlIGlmIChwcm9wcy5tYXJrZG93blR5cGUgPT09ICdoeWJyaWQnKSB7XG4gICAgICAgICAgICAvLyBtYXJrZG93blR5cGUgaHlicmlkIGlzIGZvciBzdXBwb3J0IG9mIGJvdGggdGV4dCBhbmQgbGlua1xuICAgICAgICAgICAgbWFya2Rvd25UZXh0ID0gZmxhdE1hcChtYXJrZG93blRleHQuc3BsaXQocHJvcHMudG9rZW4pLCAocGFydCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIHBhcnQsXG4gICAgICAgICAgICAgICAgICAgIDxMaW5rIGtleT17cGFydH0gdG89e3Byb3BzLmxpbmt9PlxuICAgICAgICAgICAgICAgICAgICAgICAge3Byb3BzLmxpbmtUZXh0fVxuICAgICAgICAgICAgICAgICAgICA8L0xpbms+LFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG1hcmtkb3duVGV4dC5wb3AoKTtcbiAgICAgICAgfSBlbHNlIGlmIChwcm9wcy5tYXJrZG93blR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgbWFya2Rvd25UZXh0ID0gPE1hcmtkb3duV3JhcHBlciBjb2xvcj17cHJvcHMuY29sb3J9Pntwcm9wcy50ZXh0fTwvTWFya2Rvd25XcmFwcGVyPjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXJrZG93blRleHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIDxkaXYgZGF0YS10ZXN0PVwibXNnLW1hcmtkb3duXCI+e2dldE1hcmtkb3duVGV4dCgpfTwvZGl2Pjtcbn1cblxuTWFya2Rvd25NZXNzYWdlLnByb3BUeXBlcyA9IHtcbiAgICB0ZXh0OiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGxpbms6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgbWFya2Rvd25UeXBlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIHRva2VuOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGxpbmtUZXh0OiBQcm9wVHlwZXMuc3RyaW5nLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgUmVhY3QubWVtbyhNYXJrZG93bk1lc3NhZ2UpO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgTGluayBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL0xpbmsnO1xuXG5mdW5jdGlvbiBIZWxwTGlua0NvbXBvbmVudChwcm9wcykge1xuICAgIGNvbnN0IHsgdGV4dCwgbGluayB9ID0gcHJvcHMuY29udHJvbE9wdGlvbnM7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8TGluayB0bz17bGlua30gb3BlbkluTmV3Q29udGV4dD5cbiAgICAgICAgICAgIHt0ZXh0fVxuICAgICAgICA8L0xpbms+XG4gICAgKTtcbn1cblxuSGVscExpbmtDb21wb25lbnQucHJvcFR5cGVzID0ge1xuICAgIGNvbnRyb2xPcHRpb25zOiBQcm9wVHlwZXMub2JqZWN0XG59O1xuXG5leHBvcnQgZGVmYXVsdCBIZWxwTGlua0NvbXBvbmVudDtcbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFRleHQgZnJvbSAnQHNwbHVuay9yZWFjdC11aS9UZXh0JztcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuXG5jb25zdCBUZXh0V3JhcHBlciA9IHN0eWxlZChUZXh0KWBcbiAgICB3aWR0aDogMzIwcHggIWltcG9ydGFudDtcbmA7XG5cbmNsYXNzIFRleHRDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGhhbmRsZUNoYW5nZSA9IChlLCB7IHZhbHVlIH0pID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVDaGFuZ2UodGhpcy5wcm9wcy5maWVsZCwgdmFsdWUpO1xuICAgIH07XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8VGV4dFdyYXBwZXJcbiAgICAgICAgICAgICAgICBpbmxpbmVcbiAgICAgICAgICAgICAgICBlcnJvcj17dGhpcy5wcm9wcy5lcnJvcn1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17dGhpcy5wcm9wcz8uY29udHJvbE9wdGlvbnM/LnBsYWNlaG9sZGVyfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5maWVsZH1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICB2YWx1ZT17XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMudmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHRoaXMucHJvcHMudmFsdWUgPT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMucHJvcHMudmFsdWUudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgdHlwZT17dGhpcy5wcm9wcy5lbmNyeXB0ZWQgPyAncGFzc3dvcmQnIDogJ3RleHQnfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblRleHRDb21wb25lbnQucHJvcFR5cGVzID0ge1xuICAgIC8vIE51bWJlciBpcyBleHBlY3RlZCBpZiBwcm92aWRlZCBudW1iZXIgaW4gZ2xvYmFsQ29uZmlnLmpzb24gaW5zdGVhZCBvZiBhIHN0cmluZy5cbiAgICB2YWx1ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm51bWJlcl0pLFxuICAgIGhhbmRsZUNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBmaWVsZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBlcnJvcjogUHJvcFR5cGVzLmJvb2wsXG4gICAgY29udHJvbE9wdGlvbnM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgZW5jcnlwdGVkOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBUZXh0Q29tcG9uZW50O1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFNlbGVjdCBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL1NlbGVjdCc7XG5pbXBvcnQgQ29tYm9Cb3ggZnJvbSAnQHNwbHVuay9yZWFjdC11aS9Db21ib0JveCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvQnV0dG9uJztcbmltcG9ydCBDbGVhciBmcm9tICdAc3BsdW5rL3JlYWN0LWljb25zL0NsZWFyJztcbmltcG9ydCB7IF8gfSBmcm9tICdAc3BsdW5rL3VpLXV0aWxzL2kxOG4nO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuXG5pbXBvcnQgeyBheGlvc0NhbGxXcmFwcGVyIH0gZnJvbSAnLi4vdXRpbC9heGlvc0NhbGxXcmFwcGVyJztcbmltcG9ydCB7IGZpbHRlclJlc3BvbnNlIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcblxuY29uc3QgU2VsZWN0V3JhcHBlciA9IHN0eWxlZChTZWxlY3QpYFxuICAgIHdpZHRoOiAzMjBweCAhaW1wb3J0YW50O1xuYDtcblxuY29uc3QgU3R5bGVkRGl2ID0gc3R5bGVkLmRpdmBcbiAgICBkaXY6Zmlyc3QtY2hpbGQge1xuICAgICAgICB3aWR0aDogMzIwcHggIWltcG9ydGFudDtcbiAgICB9XG5gO1xuXG5mdW5jdGlvbiBTaW5nbGVJbnB1dENvbXBvbmVudChwcm9wcykge1xuICAgIGNvbnN0IHtcbiAgICAgICAgZmllbGQsXG4gICAgICAgIGRpc2FibGVkID0gZmFsc2UsXG4gICAgICAgIGVycm9yID0gZmFsc2UsXG4gICAgICAgIGNvbnRyb2xPcHRpb25zLFxuICAgICAgICBkZXBlbmRlbmN5VmFsdWVzLFxuICAgICAgICAuLi5yZXN0UHJvcHNcbiAgICB9ID0gcHJvcHM7XG4gICAgY29uc3Qge1xuICAgICAgICBlbmRwb2ludFVybCxcbiAgICAgICAgZGVueUxpc3QsXG4gICAgICAgIGFsbG93TGlzdCxcbiAgICAgICAgcGxhY2Vob2xkZXIgPSBfKCdTZWxlY3QgYSB2YWx1ZScpLFxuICAgICAgICBkZXBlbmRlbmNpZXMsXG4gICAgICAgIGNyZWF0ZVNlYXJjaENob2ljZSxcbiAgICAgICAgcmVmZXJlbmNlTmFtZSxcbiAgICAgICAgZGlzYWJsZVNlYXJjaCxcbiAgICAgICAgbGFiZWxGaWVsZCxcbiAgICAgICAgYXV0b0NvbXBsZXRlRmllbGRzLFxuICAgICAgICBoaWRlQ2xlYXJCdG4sXG4gICAgfSA9IGNvbnRyb2xPcHRpb25zO1xuXG4gICAgZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGUsIG9iaikge1xuICAgICAgICByZXN0UHJvcHMuaGFuZGxlQ2hhbmdlKGZpZWxkLCBvYmoudmFsdWUpO1xuICAgIH1cbiAgICBjb25zdCBPcHRpb24gPSBjcmVhdGVTZWFyY2hDaG9pY2UgPyBDb21ib0JveC5PcHRpb24gOiBTZWxlY3QuT3B0aW9uO1xuICAgIGNvbnN0IEhlYWRpbmcgPSBjcmVhdGVTZWFyY2hDaG9pY2UgPyBDb21ib0JveC5IZWFkaW5nIDogU2VsZWN0LkhlYWRpbmc7XG5cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZU9wdGlvbnMoaXRlbXMpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IFtdO1xuICAgICAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbS52YWx1ZSAmJiBpdGVtLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKDxPcHRpb24gbGFiZWw9e2l0ZW0ubGFiZWx9IHZhbHVlPXtpdGVtLnZhbHVlfSBrZXk9e2l0ZW0udmFsdWV9IC8+KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpdGVtLmNoaWxkcmVuICYmIGl0ZW0ubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goPEhlYWRpbmcga2V5PXtpdGVtLmxhYmVsfT57aXRlbS5sYWJlbH08L0hlYWRpbmc+KTtcbiAgICAgICAgICAgICAgICBpdGVtLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEucHVzaCg8T3B0aW9uIGxhYmVsPXtjaGlsZC5sYWJlbH0gdmFsdWU9e2NoaWxkLnZhbHVlfSBrZXk9e2NoaWxkLnZhbHVlfSAvPik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW29wdGlvbnMsIHNldE9wdGlvbnNdID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWVuZHBvaW50VXJsICYmICFyZWZlcmVuY2VOYW1lICYmIGF1dG9Db21wbGV0ZUZpZWxkcykge1xuICAgICAgICAgICAgc2V0T3B0aW9ucyhnZW5lcmF0ZU9wdGlvbnMoYXV0b0NvbXBsZXRlRmllbGRzKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3VycmVudCA9IHRydWU7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IGF4aW9zLkNhbmNlbFRva2VuLnNvdXJjZSgpO1xuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zaGFkb3dcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHsgY2FuY2VsVG9rZW46IHNvdXJjZS50b2tlbiwgaGFuZGxlRXJyb3I6IHRydWUsIHBhcmFtczogeyBjb3VudDogLTEgfSB9O1xuICAgICAgICBpZiAocmVmZXJlbmNlTmFtZSkge1xuICAgICAgICAgICAgb3B0aW9ucy5zZXJ2aWNlTmFtZSA9IHJlZmVyZW5jZU5hbWU7XG4gICAgICAgIH0gZWxzZSBpZiAoZW5kcG9pbnRVcmwpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZW5kcG9pbnRVcmwgPSBlbmRwb2ludFVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZXBlbmRlbmN5VmFsdWVzKSB7XG4gICAgICAgICAgICBvcHRpb25zLnBhcmFtcyA9IHsgLi4ub3B0aW9ucy5wYXJhbXMsIC4uLmRlcGVuZGVuY3lWYWx1ZXMgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlcGVuZGVuY2llcyB8fCBkZXBlbmRlbmN5VmFsdWVzKSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgYXhpb3NDYWxsV3JhcHBlcihvcHRpb25zKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0T3B0aW9ucyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZU9wdGlvbnMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlclJlc3BvbnNlKHJlc3BvbnNlLmRhdGEuZW50cnksIGxhYmVsRmllbGQsIGFsbG93TGlzdCwgZGVueUxpc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHNvdXJjZS5jYW5jZWwoJ09wZXJhdGlvbiBjYW5jZWxlZC4nKTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIH0sIFtkZXBlbmRlbmN5VmFsdWVzXSk7XG5cbiAgICBjb25zdCBlZmZlY3RpdmVEaXNhYmxlZCA9IGxvYWRpbmcgPyB0cnVlIDogZGlzYWJsZWQ7XG4gICAgY29uc3QgZWZmZWN0aXZlUGxhY2Vob2xkZXIgPSBsb2FkaW5nID8gXygnTG9hZGluZycpIDogcGxhY2Vob2xkZXI7XG4gICAgLy8gaGlkZUNsZWFyQnRuPXRydWUgb25seSBwYXNzZWQgZm9yIE9BdXRoIGVsc2UgaXRzIHVuZGVmaW5lZFxuICAgIGNvbnN0IGVmZmVjdGl2ZUlzQ2xlYXJhYmxlID0gZWZmZWN0aXZlRGlzYWJsZWQgPyBmYWxzZSA6ICFoaWRlQ2xlYXJCdG47XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8PlxuICAgICAgICAgICAge2NyZWF0ZVNlYXJjaENob2ljZSA/IChcbiAgICAgICAgICAgICAgICA8U3R5bGVkRGl2IGNsYXNzTmFtZT1cImRyb3Bkb3duQm94XCI+XG4gICAgICAgICAgICAgICAgICAgIDxDb21ib0JveFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3Byb3BzLnZhbHVlID09PSBudWxsID8gJycgOiBwcm9wcy52YWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9e2ZpZWxkfVxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I9e2Vycm9yfVxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2VmZmVjdGl2ZVBsYWNlaG9sZGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2VmZmVjdGl2ZURpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlubGluZVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7b3B0aW9ucyAmJiBvcHRpb25zLmxlbmd0aCA+IDAgJiYgb3B0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgPC9Db21ib0JveD5cbiAgICAgICAgICAgICAgICA8L1N0eWxlZERpdj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFdyYXBwZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duQm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdC1sb2FkaW5nPXtsb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3Byb3BzLnZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT17ZmllbGR9XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcj17ZXJyb3J9XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17ZWZmZWN0aXZlUGxhY2Vob2xkZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZWZmZWN0aXZlRGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyPXshZGlzYWJsZVNlYXJjaH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlubGluZVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7b3B0aW9ucyAmJiBvcHRpb25zLmxlbmd0aCA+IDAgJiYgb3B0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RXcmFwcGVyPlxuICAgICAgICAgICAgICAgICAgICB7ZWZmZWN0aXZlSXNDbGVhcmFibGUgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0PVwiY2xlYXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVhcmFuY2U9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxDbGVhciAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiByZXN0UHJvcHMuaGFuZGxlQ2hhbmdlKGZpZWxkLCAnJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgIDwvPlxuICAgICk7XG59XG5cblNpbmdsZUlucHV0Q29tcG9uZW50LnByb3BUeXBlcyA9IHtcbiAgICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgdmFsdWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgZXJyb3I6IFByb3BUeXBlcy5ib29sLFxuICAgIGhhbmRsZUNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBmaWVsZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBkZXBlbmRlbmN5VmFsdWVzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGNvbnRyb2xPcHRpb25zOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICBhdXRvQ29tcGxldGVGaWVsZHM6IFByb3BUeXBlcy5hcnJheSxcbiAgICAgICAgZW5kcG9pbnRVcmw6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIGRlbnlMaXN0OiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBhbGxvd0xpc3Q6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBkZXBlbmRlbmNpZXM6IFByb3BUeXBlcy5hcnJheSxcbiAgICAgICAgY3JlYXRlU2VhcmNoQ2hvaWNlOiBQcm9wVHlwZXMuYm9vbCxcbiAgICAgICAgcmVmZXJlbmNlTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgZGlzYWJsZVNlYXJjaDogUHJvcFR5cGVzLmJvb2wsXG4gICAgICAgIGxhYmVsRmllbGQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIGhpZGVDbGVhckJ0bjogUHJvcFR5cGVzLmJvb2wsXG4gICAgfSksXG59O1xuXG5leHBvcnQgZGVmYXVsdCBTaW5nbGVJbnB1dENvbXBvbmVudDtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBNdWx0aXNlbGVjdCBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL011bHRpc2VsZWN0JztcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcblxuaW1wb3J0IHsgYXhpb3NDYWxsV3JhcHBlciB9IGZyb20gJy4uL3V0aWwvYXhpb3NDYWxsV3JhcHBlcic7XG5pbXBvcnQgeyBmaWx0ZXJSZXNwb25zZSB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgeyBnZXRGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAnLi4vdXRpbC9tZXNzYWdlVXRpbCc7XG5cbmNvbnN0IE11bHRpU2VsZWN0V3JhcHBlciA9IHN0eWxlZChNdWx0aXNlbGVjdClgXG4gICAgd2lkdGg6IDMyMHB4ICFpbXBvcnRhbnQ7XG5gO1xuXG5mdW5jdGlvbiBNdWx0aUlucHV0Q29tcG9uZW50KHByb3BzKSB7XG4gICAgY29uc3Qge1xuICAgICAgICBmaWVsZCxcbiAgICAgICAgZGlzYWJsZWQgPSBmYWxzZSxcbiAgICAgICAgZXJyb3IgPSBmYWxzZSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGNvbnRyb2xPcHRpb25zLFxuICAgICAgICBkZXBlbmRlbmN5VmFsdWVzLFxuICAgICAgICAuLi5yZXN0UHJvcHNcbiAgICB9ID0gcHJvcHM7XG4gICAgY29uc3Qge1xuICAgICAgICBlbmRwb2ludFVybCxcbiAgICAgICAgZGVueUxpc3QsXG4gICAgICAgIGFsbG93TGlzdCxcbiAgICAgICAgaXRlbXMsXG4gICAgICAgIGRlcGVuZGVuY2llcyxcbiAgICAgICAgcmVmZXJlbmNlTmFtZSxcbiAgICAgICAgcGxhY2Vob2xkZXIsXG4gICAgICAgIGNyZWF0ZVNlYXJjaENob2ljZSxcbiAgICAgICAgbGFiZWxGaWVsZCxcbiAgICAgICAgZGVsaW1pdGVyID0gJywnLFxuICAgIH0gPSBjb250cm9sT3B0aW9ucztcblxuICAgIGZ1bmN0aW9uIGhhbmRsZUNoYW5nZShlLCB7IHZhbHVlcyB9KSB7XG4gICAgICAgIHJlc3RQcm9wcy5oYW5kbGVDaGFuZ2UoZmllbGQsIHZhbHVlcy5qb2luKGRlbGltaXRlcikpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlT3B0aW9ucyhpdGVtTGlzdCkge1xuICAgICAgICByZXR1cm4gaXRlbUxpc3QubWFwKChpdGVtKSA9PiAoXG4gICAgICAgICAgICA8TXVsdGlzZWxlY3QuT3B0aW9uIGxhYmVsPXtpdGVtLmxhYmVsfSB2YWx1ZT17aXRlbS52YWx1ZX0ga2V5PXtpdGVtLnZhbHVlfSAvPlxuICAgICAgICApKTtcbiAgICB9XG5cbiAgICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW29wdGlvbnMsIHNldE9wdGlvbnNdID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWVuZHBvaW50VXJsICYmIGl0ZW1zKSB7XG4gICAgICAgICAgICBzZXRPcHRpb25zKGdlbmVyYXRlT3B0aW9ucyhpdGVtcykpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGN1cnJlbnQgPSB0cnVlO1xuICAgICAgICBjb25zdCBzb3VyY2UgPSBheGlvcy5DYW5jZWxUb2tlbi5zb3VyY2UoKTtcblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7IGNhbmNlbFRva2VuOiBzb3VyY2UudG9rZW4sIGhhbmRsZUVycm9yOiB0cnVlLCBwYXJhbXM6IHsgY291bnQ6IC0xIH0gfTtcbiAgICAgICAgaWYgKHJlZmVyZW5jZU5hbWUpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuc2VydmljZU5hbWUgPSByZWZlcmVuY2VOYW1lO1xuICAgICAgICB9IGVsc2UgaWYgKGVuZHBvaW50VXJsKSB7XG4gICAgICAgICAgICBvcHRpb25zLmVuZHBvaW50VXJsID0gZW5kcG9pbnRVcmw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVwZW5kZW5jeVZhbHVlcykge1xuICAgICAgICAgICAgb3B0aW9ucy5wYXJhbXMgPSB7IC4uLm9wdGlvbnMucGFyYW1zLCAuLi5kZXBlbmRlbmN5VmFsdWVzIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZXBlbmRlbmNpZXMgfHwgZGVwZW5kZW5jeVZhbHVlcykge1xuICAgICAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgIGF4aW9zQ2FsbFdyYXBwZXIob3B0aW9ucylcbiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldE9wdGlvbnMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVPcHRpb25zKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJSZXNwb25zZShyZXNwb25zZS5kYXRhLmVudHJ5LCBsYWJlbEZpZWxkLCBhbGxvd0xpc3QsIGRlbnlMaXN0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBzb3VyY2UuY2FuY2VsKCdPcGVyYXRpb24gY2FuY2VsZWQuJyk7XG4gICAgICAgICAgICBjdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICB9LCBbZGVwZW5kZW5jeVZhbHVlc10pO1xuXG4gICAgY29uc3QgZWZmZWN0aXZlRGlzYWJsZWQgPSBsb2FkaW5nID8gdHJ1ZSA6IGRpc2FibGVkO1xuICAgIGNvbnN0IGVmZmVjdGl2ZVBsYWNlaG9sZGVyID0gbG9hZGluZyA/IGdldEZvcm1hdHRlZE1lc3NhZ2UoMTE1KSA6IHBsYWNlaG9sZGVyO1xuXG4gICAgY29uc3QgdmFsdWVMaXN0ID0gdmFsdWUgPyB2YWx1ZS5zcGxpdChkZWxpbWl0ZXIpIDogW107XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8TXVsdGlTZWxlY3RXcmFwcGVyXG4gICAgICAgICAgICB2YWx1ZXM9e3ZhbHVlTGlzdH1cbiAgICAgICAgICAgIGVycm9yPXtlcnJvcn1cbiAgICAgICAgICAgIG5hbWU9e2ZpZWxkfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2VmZmVjdGl2ZVBsYWNlaG9sZGVyfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2VmZmVjdGl2ZURpc2FibGVkfVxuICAgICAgICAgICAgYWxsb3dOZXdWYWx1ZXM9e2NyZWF0ZVNlYXJjaENob2ljZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICBpbmxpbmVcbiAgICAgICAgPlxuICAgICAgICAgICAge29wdGlvbnMgJiYgb3B0aW9ucy5sZW5ndGggPiAwICYmIG9wdGlvbnN9XG4gICAgICAgIDwvTXVsdGlTZWxlY3RXcmFwcGVyPlxuICAgICk7XG59XG5cbk11bHRpSW5wdXRDb21wb25lbnQucHJvcFR5cGVzID0ge1xuICAgIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbCxcbiAgICB2YWx1ZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBlcnJvcjogUHJvcFR5cGVzLmJvb2wsXG4gICAgaGFuZGxlQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIGZpZWxkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGRlcGVuZGVuY3lWYWx1ZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgY29udHJvbE9wdGlvbnM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgIGRlbGltaXRlcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgcGxhY2Vob2xkZXI6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIGNyZWF0ZVNlYXJjaENob2ljZTogUHJvcFR5cGVzLmJvb2wsXG4gICAgICAgIHJlZmVyZW5jZU5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIGRlcGVuZGVuY2llczogUHJvcFR5cGVzLmFycmF5LFxuICAgICAgICBlbmRwb2ludFVybDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgZGVueUxpc3Q6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIGFsbG93TGlzdDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgbGFiZWxGaWVsZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgaXRlbXM6IFByb3BUeXBlcy5hcnJheU9mKFxuICAgICAgICAgICAgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICAgICAgICBsYWJlbDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB9KVxuICAgICAgICApLFxuICAgIH0pLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgTXVsdGlJbnB1dENvbXBvbmVudDtcbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFN3aXRjaCBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL1N3aXRjaCc7XG5pbXBvcnQgeyBpc0ZhbHNlIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcblxuY2xhc3MgQ2hlY2tCb3hDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGhhbmRsZUNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMudmFsdWUgJiYgIWlzRmFsc2UodGhpcy5wcm9wcy52YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuaGFuZGxlQ2hhbmdlKHRoaXMucHJvcHMuZmllbGQsIDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVDaGFuZ2UodGhpcy5wcm9wcy5maWVsZCwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFN3aXRjaFxuICAgICAgICAgICAgICAgIGtleT17dGhpcy5wcm9wcy5maWVsZH1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy5maWVsZH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICBzZWxlY3RlZD17ISh0aGlzLnByb3BzLnZhbHVlID8gaXNGYWxzZSh0aGlzLnByb3BzLnZhbHVlKSA6IHRydWUpfVxuICAgICAgICAgICAgICAgIGFwcGVhcmFuY2U9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuQ2hlY2tCb3hDb21wb25lbnQucHJvcFR5cGVzID0ge1xuICAgIHZhbHVlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICAgIGhhbmRsZUNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBmaWVsZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBDaGVja0JveENvbXBvbmVudDtcbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJhZGlvQmFyIGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvUmFkaW9CYXInO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5cbmNvbnN0IFJhZGlvQmFyV3JhcHBlciA9IHN0eWxlZChSYWRpb0JhcilgXG4gICAgd2lkdGg6IDMyMHB4O1xuYDtcblxuY2xhc3MgUmFkaW9Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGhhbmRsZUNoYW5nZSA9IChlLCB7IHZhbHVlIH0pID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVDaGFuZ2UodGhpcy5wcm9wcy5maWVsZCwgdmFsdWUpO1xuICAgIH07XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8UmFkaW9CYXJXcmFwcGVyXG4gICAgICAgICAgICAgICAgaW5saW5lXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnByb3BzLnZhbHVlfVxuICAgICAgICAgICAgICAgIGtleT17dGhpcy5wcm9wcy5maWVsZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jb250cm9sT3B0aW9ucy5pdGVtcy5tYXAoKGl0ZW0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgPFJhZGlvQmFyLk9wdGlvbiBrZXk9e2l0ZW0udmFsdWV9IHZhbHVlPXtpdGVtLnZhbHVlfSBsYWJlbD17aXRlbS5sYWJlbH0gLz5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvUmFkaW9CYXJXcmFwcGVyPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuUmFkaW9Db21wb25lbnQucHJvcFR5cGVzID0ge1xuICAgIHZhbHVlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGhhbmRsZUNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBmaWVsZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjb250cm9sT3B0aW9uczogUHJvcFR5cGVzLm9iamVjdCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGlvQ29tcG9uZW50O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgU3RhdGljQ29udGVudCBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL1N0YXRpY0NvbnRlbnQnO1xuXG5mdW5jdGlvbiBQbGFjZWhvbGRlckNvbXBvbmVudChwcm9wcykge1xuICAgIGNvbnN0IHsgZGVmYXVsdFZhbHVlIH0gPSBwcm9wcy5jb250cm9sT3B0aW9ucztcblxuICAgIHJldHVybiA8U3RhdGljQ29udGVudD57ZGVmYXVsdFZhbHVlfTwvU3RhdGljQ29udGVudD47XG59XG5cblBsYWNlaG9sZGVyQ29tcG9uZW50LnByb3BUeXBlcyA9IHtcbiAgICBjb250cm9sT3B0aW9uczogUHJvcFR5cGVzLm9iamVjdCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBsYWNlaG9sZGVyQ29tcG9uZW50O1xuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBfIH0gZnJvbSAnQHNwbHVuay91aS11dGlscy9pMThuJztcblxuaW1wb3J0IHsgZ2V0VW5pZmllZENvbmZpZ3MgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IHsgZ2V0QnVpbGREaXJQYXRoIH0gZnJvbSAnLi4vdXRpbC9zY3JpcHQnO1xuXG5jbGFzcyBDdXN0b21Db250cm9sIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNob3VsZFJlbmRlciA9IHRydWU7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGNvbnN0IGdsb2JhbENvbmZpZyA9IGdldFVuaWZpZWRDb25maWdzKCk7XG4gICAgICAgIGNvbnN0IGFwcE5hbWUgPSBnbG9iYWxDb25maWcubWV0YS5uYW1lO1xuXG4gICAgICAgIHRoaXMubG9hZEN1c3RvbUNvbnRyb2woXG4gICAgICAgICAgICB0aGlzLnByb3BzLmNvbnRyb2xPcHRpb25zLnNyYyxcbiAgICAgICAgICAgIHRoaXMucHJvcHMuY29udHJvbE9wdGlvbnMudHlwZSxcbiAgICAgICAgICAgIGFwcE5hbWVcbiAgICAgICAgKS50aGVuKChDb250cm9sKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXN0b21Db250cm9sID0gbmV3IENvbnRyb2woXG4gICAgICAgICAgICAgICAgZ2xvYmFsQ29uZmlnLFxuICAgICAgICAgICAgICAgIHRoaXMuZWwsXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5kYXRhLFxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUsXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy51dGlsQ3VzdG9tRnVuY3Rpb25zXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY3VzdG9tQ29udHJvbC5yZW5kZXIoKTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXN0b21Db250cm9sLnZhbGlkYXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmFkZEN1c3RvbVZhbGlkYXRvcih0aGlzLnByb3BzLmZpZWxkLCBjdXN0b21Db250cm9sLnZhbGlkYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmc6IGZhbHNlIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICAgICAgaWYgKCFuZXh0U3RhdGUubG9hZGluZyAmJiB0aGlzLnNob3VsZFJlbmRlcikge1xuICAgICAgICAgICAgdGhpcy5zaG91bGRSZW5kZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBsb2FkQ3VzdG9tQ29udHJvbCA9IChtb2R1bGUsIHR5cGUsIGFwcE5hbWUpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2V4dGVybmFsJykge1xuICAgICAgICAgICAgICAgIGltcG9ydCgvKiB3ZWJwYWNrSWdub3JlOiB0cnVlICovIGAke2dldEJ1aWxkRGlyUGF0aCgpfS9jdXN0b20vJHttb2R1bGV9LmpzYCkudGhlbihcbiAgICAgICAgICAgICAgICAgICAgKGV4dGVybmFsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBDb250cm9sID0gZXh0ZXJuYWwuZGVmYXVsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoQ29udHJvbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfX25vbl93ZWJwYWNrX3JlcXVpcmVfXyhbYGFwcC8ke2FwcE5hbWV9L2pzL2J1aWxkL2N1c3RvbS8ke21vZHVsZX1gXSwgKENvbnRyb2wpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShDb250cm9sKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHNldFZhbHVlID0gKG5ld1ZhbHVlKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMuaGFuZGxlQ2hhbmdlKHRoaXMucHJvcHMuZmllbGQsIG5ld1ZhbHVlKTtcbiAgICB9O1xuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5sb2FkaW5nICYmIF8oJ0xvYWRpbmcuLi4nKX1cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIC8vIG5vc2VtZ3JlcDogdHlwZXNjcmlwdC5yZWFjdC5zZWN1cml0eS5hdWRpdC5yZWFjdC1uby1yZWZzLnJlYWN0LW5vLXJlZnNcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17KGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbCA9IGVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHZpc2liaWxpdHk6IHRoaXMuc3RhdGUubG9hZGluZyA/ICdoaWRkZW4nIDogJ3Zpc2libGUnIH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5DdXN0b21Db250cm9sLnByb3BUeXBlcyA9IHtcbiAgICBkYXRhOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGZpZWxkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGhhbmRsZUNoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgY29udHJvbE9wdGlvbnM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgYWRkQ3VzdG9tVmFsaWRhdG9yOiBQcm9wVHlwZXMuZnVuYyxcbiAgICB1dGlsQ3VzdG9tRnVuY3Rpb25zOiBQcm9wVHlwZXMub2JqZWN0LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ3VzdG9tQ29udHJvbDtcbiIsImltcG9ydCBIZWxwTGlua0NvbXBvbmVudCBmcm9tICcuLi9jb21wb25lbnRzL0hlbHBMaW5rQ29tcG9uZW50JztcbmltcG9ydCBUZXh0Q29tcG9uZW50IGZyb20gJy4uL2NvbXBvbmVudHMvVGV4dENvbXBvbmVudCc7XG5pbXBvcnQgU2luZ2xlSW5wdXRDb21wb25lbnQgZnJvbSAnLi4vY29tcG9uZW50cy9TaW5nbGVJbnB1dENvbXBvbmVudCc7XG5pbXBvcnQgTXVsdGlJbnB1dENvbXBvbmVudCBmcm9tICcuLi9jb21wb25lbnRzL011bHRpSW5wdXRDb21wb25lbnQnO1xuaW1wb3J0IENoZWNrQm94Q29tcG9uZW50IGZyb20gJy4uL2NvbXBvbmVudHMvQ2hlY2tCb3hDb21wb25lbnQnO1xuaW1wb3J0IFJhZGlvQ29tcG9uZW50IGZyb20gJy4uL2NvbXBvbmVudHMvUmFkaW9Db21wb25lbnQnO1xuaW1wb3J0IFBsYWNlaG9sZGVyQ29tcG9uZW50IGZyb20gJy4uL2NvbXBvbmVudHMvUGxhY2Vob2xkZXJDb21wb25lbnQnO1xuaW1wb3J0IEN1c3RvbUNvbnRyb2wgZnJvbSAnLi4vY29tcG9uZW50cy9DdXN0b21Db250cm9sJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIHRleHQ6IFRleHRDb21wb25lbnQsXG4gICAgc2luZ2xlU2VsZWN0OiBTaW5nbGVJbnB1dENvbXBvbmVudCxcbiAgICBoZWxwTGluazogSGVscExpbmtDb21wb25lbnQsXG4gICAgbXVsdGlwbGVTZWxlY3Q6IE11bHRpSW5wdXRDb21wb25lbnQsXG4gICAgY2hlY2tib3g6IENoZWNrQm94Q29tcG9uZW50LFxuICAgIHJhZGlvOiBSYWRpb0NvbXBvbmVudCxcbiAgICBwbGFjZWhvbGRlcjogUGxhY2Vob2xkZXJDb21wb25lbnQsXG4gICAgY3VzdG9tOiBDdXN0b21Db250cm9sLFxufTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IENvbnRyb2xHcm91cCBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL0NvbnRyb2xHcm91cCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcblxuaW1wb3J0IE1hcmtkb3duTWVzc2FnZSBmcm9tICcuL01hcmtkb3duTWVzc2FnZSc7XG5pbXBvcnQgQ09OVFJPTF9UWVBFX01BUCBmcm9tICcuLi9jb25zdGFudHMvQ29udHJvbFR5cGVNYXAnO1xuXG5jb25zdCBDdXN0b21FbGVtZW50ID0gc3R5bGVkLmRpdmBcbiAgICBtYXJnaW4tbGVmdDogMzBweDtcbmA7XG5cbmNvbnN0IENvbnRyb2xHcm91cFdyYXBwZXIgPSBzdHlsZWQoQ29udHJvbEdyb3VwKS5hdHRycygocHJvcHMpID0+ICh7XG4gICAgJ2RhdGEtbmFtZSc6IHByb3BzLmRhdGFOYW1lLFxufSkpYFxuICAgIHdpZHRoOiAxMDAlO1xuICAgIG1heC13aWR0aDogMTAwJTtcblxuICAgID4gKiB7XG4gICAgICAgICY6Zmlyc3QtY2hpbGQge1xuICAgICAgICAgICAgd2lkdGg6IDI0MHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgJjpudGgtY2hpbGQoMykge1xuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDI3MHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICB3aWR0aDogMzIwcHg7XG4gICAgICAgIH1cbiAgICB9XG5gO1xuXG5jbGFzcyBDb250cm9sV3JhcHBlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5jb250cm9sVHlwZSA9IHRoaXMuaXNTdHJpbmcocHJvcHMuZW50aXR5LnR5cGUpXG4gICAgICAgICAgICA/IENPTlRST0xfVFlQRV9NQVBbcHJvcHMuZW50aXR5LnR5cGVdXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIC8vIEFkZCAnb3B0aW9uYWwnIHBsYWNlaG9sZGVyIGZvciBvcHRpb25hbCBmaWVsZFxuICAgICAgICAvLyBOb3RlOiBmb3Igb2F1dGggZmllbGQgaXQgaXMgcG9zc2libGUgcmVxdWlyZWQgaXMgZmFsc2UgYnV0IHRoZSBmaWVsZCBpcyBhY3R1YWxseSByZXF1aXJlZFxuICAgICAgICAvLyBiYXNlZCBvbiB3aGF0IHR5cGUgb2YgYXV0aGVudGljYXRpb24gaXMgc2VsZWN0ZWRcbiAgICAgICAgdGhpcy5vcHRpb25zID0gdGhpcy5wcm9wcy5lbnRpdHkub3B0aW9ucztcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgIXRoaXMucHJvcHMuZW50aXR5LnJlcXVpcmVkICYmXG4gICAgICAgICAgICAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMucHJvcHMuZW50aXR5LCAnb2F1dGhfZmllbGQnKSAmJlxuICAgICAgICAgICAgIXRoaXMub3B0aW9ucz8ucGxhY2Vob2xkZXJcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnb3B0aW9uYWwnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzU3RyaW5nID0gKHN0cikgPT4ge1xuICAgICAgICByZXR1cm4gISEodHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgfHwgc3RyIGluc3RhbmNlb2YgU3RyaW5nKTtcbiAgICB9O1xuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IGZpZWxkLCB0eXBlLCBsYWJlbCwgdG9vbHRpcCwgaGVscCwgZW5jcnlwdGVkID0gZmFsc2UgfSA9IHRoaXMucHJvcHMuZW50aXR5O1xuICAgICAgICBjb25zdCB7IGhhbmRsZUNoYW5nZSwgYWRkQ3VzdG9tVmFsaWRhdG9yLCB1dGlsQ3VzdG9tRnVuY3Rpb25zIH0gPSB0aGlzLnByb3BzLnV0aWxpdHlGdW5jdHM7XG4gICAgICAgIC8vIFdlIGhhdmUgdG8gcHV0IGVtcHR5IG9iamVjdCBiZWNhdXNlIG1hcmtEb3duTWVzc2FnZSBwcm9wIGNhbiBiZSB1bmRlZmluZWRcbiAgICAgICAgLy8gYmVjYXVzZSB3ZSBhcmUgbm90IGV4cGxpY2l0bHkgc2V0dGluZyBpdCBidXQgZXhwZWN0aW5nIGl0IGZyb20gY3VzdG9tIGhvb2tzIG9ubHkuXG4gICAgICAgIGNvbnN0IHsgdGV4dCwgbGluaywgY29sb3IsIG1hcmtkb3duVHlwZSwgdG9rZW4sIGxpbmtUZXh0IH0gPVxuICAgICAgICAgICAgdGhpcy5wcm9wcy5tYXJrZG93bk1lc3NhZ2UgfHwge307XG4gICAgICAgIGxldCByb3dWaWV3O1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5lbnRpdHkudHlwZSA9PT0gJ2N1c3RvbScpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMucHJvcHMudmFsdWUsXG4gICAgICAgICAgICAgICAgbW9kZTogdGhpcy5wcm9wcy5tb2RlLFxuICAgICAgICAgICAgICAgIHNlcnZpY2VOYW1lOiB0aGlzLnByb3BzLnNlcnZpY2VOYW1lLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcm93VmlldyA9IHRoaXMuY29udHJvbFR5cGVcbiAgICAgICAgICAgICAgICA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQodGhpcy5jb250cm9sVHlwZSwge1xuICAgICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgIGFkZEN1c3RvbVZhbGlkYXRvcixcbiAgICAgICAgICAgICAgICAgICAgICB1dGlsQ3VzdG9tRnVuY3Rpb25zLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xPcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIDogYE5vIFZpZXcgRm91bmQgZm9yICR7dHlwZX0gdHlwZWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByb3dWaWV3ID0gdGhpcy5jb250cm9sVHlwZVxuICAgICAgICAgICAgICAgID8gUmVhY3QuY3JlYXRlRWxlbWVudCh0aGlzLmNvbnRyb2xUeXBlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnByb3BzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xPcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IHRoaXMucHJvcHMuZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRoaXMucHJvcHMuZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgICAgICAgZW5jcnlwdGVkLFxuICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY3lWYWx1ZXM6IHRoaXMucHJvcHMuZGVwZW5kZW5jeVZhbHVlcyxcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgOiBgTm8gVmlldyBGb3VuZCBmb3IgJHt0eXBlfSB0eXBlYDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGhlbHBUZXh0ID0gKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8TWFya2Rvd25NZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIHRleHQ9e3RleHQgfHwgJyd9XG4gICAgICAgICAgICAgICAgICAgIGxpbms9e2xpbmsgfHwgJyd9XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yPXtjb2xvciB8fCAnJ31cbiAgICAgICAgICAgICAgICAgICAgbWFya2Rvd25UeXBlPXttYXJrZG93blR5cGUgfHwgJyd9XG4gICAgICAgICAgICAgICAgICAgIHRva2VuPXt0b2tlbiB8fCAnJ31cbiAgICAgICAgICAgICAgICAgICAgbGlua1RleHQ9e2xpbmtUZXh0IHx8ICcnfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAge2hlbHB9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5kaXNwbGF5ICYmIChcbiAgICAgICAgICAgICAgICA8Q29udHJvbEdyb3VwV3JhcHBlclxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17bGFiZWx9XG4gICAgICAgICAgICAgICAgICAgIGhlbHA9e2hlbHBUZXh0fVxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwPXt0b29sdGlwfVxuICAgICAgICAgICAgICAgICAgICBlcnJvcj17dGhpcy5wcm9wcy5lcnJvcn1cbiAgICAgICAgICAgICAgICAgICAgZGF0YU5hbWU9e2ZpZWxkfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEN1c3RvbUVsZW1lbnQ+e3Jvd1ZpZXd9PC9DdXN0b21FbGVtZW50PlxuICAgICAgICAgICAgICAgIDwvQ29udHJvbEdyb3VwV3JhcHBlcj5cbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9XG59XG5cbkNvbnRyb2xXcmFwcGVyLnByb3BUeXBlcyA9IHtcbiAgICBtb2RlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIHV0aWxpdHlGdW5jdHM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgdmFsdWU6IFByb3BUeXBlcy5hbnksXG4gICAgZGlzcGxheTogUHJvcFR5cGVzLmJvb2wsXG4gICAgZXJyb3I6IFByb3BUeXBlcy5ib29sLFxuICAgIGVudGl0eTogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgbWFya2Rvd25NZXNzYWdlOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIHNlcnZpY2VOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGRlcGVuZGVuY3lWYWx1ZXM6IFByb3BUeXBlcy5vYmplY3QsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb250cm9sV3JhcHBlcjtcbiIsImltcG9ydCB7IGdldEZvcm1hdHRlZE1lc3NhZ2UgfSBmcm9tICcuLi91dGlsL21lc3NhZ2VVdGlsJztcblxuLy8gUmVnZXggb2YgaXB2NCwgZW1haWwgYW5kIGRhdGUgY29tZSBmcm9tXG4vLyBodHRwczovL2dpdGh1Yi5jb20vYWxkZWVkL21ldGVvci1zaW1wbGUtc2NoZW1hL2Jsb2IvNGMxZTI1NzBiMTA1NWFkNjBlMWU2NTQwNTgyYjg4MmY3NjVmZGUxMy9zaW1wbGUtc2NoZW1hLmpzI0w1MjVcbmV4cG9ydCBjb25zdCBSRUdFWF9JUFY0ID0gL14oPzooPzpbMC0xXT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSkoPzpcXC58JCkpezR9JC87XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZVxuZXhwb3J0IGNvbnN0IFJFR0VYX0VNQUlMID0gL15bYS16QS1aMC05LiEjJCUmJyorXFwvPT9eX2B7fH1+LV0rQFthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykqJC87XG5cbi8vIENvZGVRTDogVGhpcyBSZWdleCB3aWxsIGJlIGV4ZWN1dGVkIGF0IGNsaWVudCBzaWRlIGFuZCB0byBhdm9pZCByZWdyZXNzaW9uIHdlIHdvbid0IGZpeC5cbmV4cG9ydCBjb25zdCBSRUdFWF9VUkwgPSAvXig/Oig/Omh0dHBzP3xmdHB8b3BjXFwudGNwKTpcXC9cXC8pPyg/OlxcUysoPzo6XFxTKik/QCk/KD86KD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswMV1cXGR8MjJbMC0zXSkoPzpcXC4oPzoxP1xcZHsxLDJ9fDJbMC00XVxcZHwyNVswLTVdKSl7Mn0oPzpcXC4oPzpbMS05XVxcZD98MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC00XSkpfCg/Oig/OlthLXpcXHUwMGExLVxcdWZmZmYwLTldKy0/Xz8pKlthLXpcXHUwMGExLVxcdWZmZmYwLTldKykoPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSstPykqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKSooPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmXXsyLH0pKT8pKD86OlxcZHsyLDV9KT8oPzpcXC9bXlxcc10qKT8kLztcblxuLy8gRnJvbSBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9ibG9iLzIuMTcuMS9tb21lbnQuanMjTDE5ODAgbW9tZW50LmpzIGlzIHVzaW5nIHJlZ2V4IGJlbG93IGZvciBjaGVja2luZyBJU084NjAxIGRhdGUgc3RyaW5nXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbmV4cG9ydCBjb25zdCBSRUdFWF9EQVRFID0gL15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KS0oPzpcXGRcXGQtXFxkXFxkfFdcXGRcXGQtXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86OlxcZFxcZCg/OjpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoW1xcK1xcLV1cXGRcXGQoPzo6P1xcZFxcZCk/fFxccypaKT8pPyQvO1xuXG5leHBvcnQgY29uc3QgUFJFREVGSU5FRF9WQUxJREFUT1JTX0RJQ1QgPSB7XG4gICAgdXJsOiB7IHJlZ2V4OiBSRUdFWF9VUkwsIGlucHV0VmFsdWVUeXBlOiBnZXRGb3JtYXR0ZWRNZXNzYWdlKDExMSkgfSxcbiAgICBlbWFpbDogeyByZWdleDogUkVHRVhfRU1BSUwsIGlucHV0VmFsdWVUeXBlOiBnZXRGb3JtYXR0ZWRNZXNzYWdlKDExMikgfSxcbiAgICBpcHY0OiB7IHJlZ2V4OiBSRUdFWF9JUFY0LCBpbnB1dFZhbHVlVHlwZTogZ2V0Rm9ybWF0dGVkTWVzc2FnZSgxMTMpIH0sXG4gICAgZGF0ZTogeyByZWdleDogUkVHRVhfREFURSwgaW5wdXRWYWx1ZVR5cGU6IGdldEZvcm1hdHRlZE1lc3NhZ2UoMTE0KSB9LFxufTtcbiIsImltcG9ydCB7IFBSRURFRklORURfVkFMSURBVE9SU19ESUNUIH0gZnJvbSAnLi4vY29uc3RhbnRzL3ByZURlZmluZWRSZWdleCc7XG5pbXBvcnQgeyBnZXRGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAnLi9tZXNzYWdlVXRpbCc7XG5pbXBvcnQge1xuICAgIHBhcnNlTnVtYmVyVmFsaWRhdG9yLFxuICAgIHBhcnNlUmVnZXhSYXdTdHIsXG4gICAgcGFyc2VTdHJpbmdWYWxpZGF0b3IsXG4gICAgcGFyc2VGdW5jdGlvblJhd1N0cixcbn0gZnJvbSAnLi91Y2NDb25maWd1cmF0aW9uVmFsaWRhdG9ycyc7XG5cbi8vIFZhbGlkYXRlIHByb3ZpZGVkIHNhdmVWYWxpZGF0b3IgZnVuY3Rpb25cbmV4cG9ydCBmdW5jdGlvbiBTYXZlVmFsaWRhdG9yKHZhbGlkYXRvckZ1bmMsIGZvcm1EYXRhKSB7XG4gICAgY29uc3QgeyBlcnJvciwgcmVzdWx0IH0gPSBwYXJzZUZ1bmN0aW9uUmF3U3RyKHZhbGlkYXRvckZ1bmMpO1xuICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXR1cm4geyBlcnJvck1zZzogZXJyb3IgfTtcbiAgICB9XG4gICAgY29uc3QgcmV0ID0gcmVzdWx0KGZvcm1EYXRhKTtcbiAgICBpZiAodHlwZW9mIHJldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHsgZXJyb3JNc2c6IHJldCB9O1xuICAgIH1cbn1cblxuY2xhc3MgVmFsaWRhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihlbnRpdGllcykge1xuICAgICAgICB0aGlzLmVudGl0aWVzID0gZW50aXRpZXM7XG4gICAgICAgIHRoaXMuaXNOYW1lID0gZW50aXRpZXMuZmluZCgoZSkgPT4gZS5maWVsZCA9PT0gJ25hbWUnKTtcbiAgICB9XG5cbiAgICBjaGVja0lzRmllbGRIYXNJbnB1dCA9IChhdHRyVmFsdWUpID0+IHtcbiAgICAgICAgcmV0dXJuIGF0dHJWYWx1ZSAhPT0gdW5kZWZpbmVkICYmIGF0dHJWYWx1ZSAhPT0gJycgJiYgYXR0clZhbHVlICE9PSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBWYWxpZGF0ZSB0aGUgcmVxdWlyZWQgZmllbGQgaGFzIHZhbHVlXG4gICAgUmVxdWlyZWRWYWxpZGF0b3IoZmllbGQsIGxhYmVsLCBkYXRhKSB7XG4gICAgICAgIGlmICghdGhpcy5jaGVja0lzRmllbGRIYXNJbnB1dChkYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3JGaWVsZDogZmllbGQsIGVycm9yTXNnOiBnZXRGb3JtYXR0ZWRNZXNzYWdlKDYsIFtsYWJlbF0pIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHRoZSBzdHJpbmcgbGVuZ3RoIG9mIGZpZWxkXG4gICAgU3RyaW5nVmFsaWRhdG9yKGZpZWxkLCBsYWJlbCwgdmFsaWRhdG9yLCBkYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IHBhcnNlU3RyaW5nVmFsaWRhdG9yKHZhbGlkYXRvci5taW5MZW5ndGgsIHZhbGlkYXRvci5tYXhMZW5ndGgpO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGVycm9yRmllbGQ6IGZpZWxkLCBlcnJvck1zZzogZXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jaGVja0lzRmllbGRIYXNJbnB1dChkYXRhKSAmJiBkYXRhLmxlbmd0aCA+IHZhbGlkYXRvci5tYXhMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZXJyb3JGaWVsZDogZmllbGQsXG4gICAgICAgICAgICAgICAgZXJyb3JNc2c6IHZhbGlkYXRvci5lcnJvck1zZ1xuICAgICAgICAgICAgICAgICAgICA/IHZhbGlkYXRvci5lcnJvck1zZ1xuICAgICAgICAgICAgICAgICAgICA6IGdldEZvcm1hdHRlZE1lc3NhZ2UoMTgsIFtsYWJlbCwgdmFsaWRhdG9yLm1heExlbmd0aF0pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jaGVja0lzRmllbGRIYXNJbnB1dChkYXRhKSAmJiBkYXRhLmxlbmd0aCA8IHZhbGlkYXRvci5taW5MZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZXJyb3JGaWVsZDogZmllbGQsXG4gICAgICAgICAgICAgICAgZXJyb3JNc2c6IHZhbGlkYXRvci5lcnJvck1zZ1xuICAgICAgICAgICAgICAgICAgICA/IHZhbGlkYXRvci5lcnJvck1zZ1xuICAgICAgICAgICAgICAgICAgICA6IGdldEZvcm1hdHRlZE1lc3NhZ2UoMTcsIFtsYWJlbCwgdmFsaWRhdG9yLm1pbkxlbmd0aF0pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgdGhlIGZpZWxkIHNob3VsZCBtYXRjaCB0aGUgcHJvdmlkZWQgUmVnZXhcbiAgICBSZWdleFZhbGlkYXRvcihmaWVsZCwgbGFiZWwsIHZhbGlkYXRvciwgZGF0YSkge1xuICAgICAgICBjb25zdCB7IGVycm9yLCByZXN1bHQ6IHJlZ2V4IH0gPSBwYXJzZVJlZ2V4UmF3U3RyKHZhbGlkYXRvci5wYXR0ZXJuKTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4geyBlcnJvckZpZWxkOiBmaWVsZCwgZXJyb3JNc2c6IGVycm9yIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2hlY2tJc0ZpZWxkSGFzSW5wdXQoZGF0YSkgJiYgIXJlZ2V4LnRlc3QoZGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZXJyb3JGaWVsZDogZmllbGQsXG4gICAgICAgICAgICAgICAgZXJyb3JNc2c6IHZhbGlkYXRvci5lcnJvck1zZ1xuICAgICAgICAgICAgICAgICAgICA/IHZhbGlkYXRvci5lcnJvck1zZ1xuICAgICAgICAgICAgICAgICAgICA6IGdldEZvcm1hdHRlZE1lc3NhZ2UoMTUsIFtsYWJlbCwgdmFsaWRhdG9yLnBhdHRlcm5dKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHRoZSBjdXN0b20gY29tcG9uZW50XG4gICAgc3RhdGljIEN1c3RvbVZhbGlkYXRvcih2YWxpZGF0b3JGdW5jLCBmaWVsZCwgZGF0YSkge1xuICAgICAgICBjb25zdCByZXQgPSB2YWxpZGF0b3JGdW5jKGZpZWxkLCBkYXRhKTtcbiAgICAgICAgaWYgKHR5cGVvZiByZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4geyBlcnJvckZpZWxkOiBmaWVsZCwgZXJyb3JNc2c6IHJldCB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSB0aGUgZmllbGQgc2hvdWxkIG1hdGNoIHByZWRlZmluZWQgUmVnZXhlc1xuICAgIFByZURlZmluZWRSZWdleFZhbGlkYXRvcihmaWVsZCwgbGFiZWwsIHZhbGlkYXRvciwgZGF0YSwgcGF0dGVybiwgaW5wdXRWYWx1ZVR5cGUpIHtcbiAgICAgICAgY29uc3QgeyBlcnJvciwgcmVzdWx0OiByZWdleCB9ID0gcGFyc2VSZWdleFJhd1N0cihwYXR0ZXJuKTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4geyBlcnJvckZpZWxkOiBmaWVsZCwgZXJyb3JNc2c6IGVycm9yIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2hlY2tJc0ZpZWxkSGFzSW5wdXQoZGF0YSkgJiYgIXJlZ2V4LnRlc3QoZGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZXJyb3JGaWVsZDogZmllbGQsXG4gICAgICAgICAgICAgICAgZXJyb3JNc2c6IHZhbGlkYXRvci5lcnJvck1zZ1xuICAgICAgICAgICAgICAgICAgICA/IHZhbGlkYXRvci5lcnJvck1zZ1xuICAgICAgICAgICAgICAgICAgICA6IGdldEZvcm1hdHRlZE1lc3NhZ2UoMTksIFtsYWJlbCwgaW5wdXRWYWx1ZVR5cGVdKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHRoZSByYW5nZSBvZiBudW1lcmljIGZpZWxkXG4gICAgTnVtYmVyVmFsaWRhdG9yKGZpZWxkLCBsYWJlbCwgdmFsaWRhdG9yLCBkYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IHBhcnNlTnVtYmVyVmFsaWRhdG9yKHZhbGlkYXRvci5yYW5nZSk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3JGaWVsZDogZmllbGQsIGVycm9yTXNnOiBlcnJvciB9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdmFsID0gTnVtYmVyKGRhdGEpO1xuICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKHZhbCkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZXJyb3JGaWVsZDogZmllbGQsXG4gICAgICAgICAgICAgICAgZXJyb3JNc2c6IHZhbGlkYXRvci5lcnJvck1zZ1xuICAgICAgICAgICAgICAgICAgICA/IHZhbGlkYXRvci5lcnJvck1zZ1xuICAgICAgICAgICAgICAgICAgICA6IGdldEZvcm1hdHRlZE1lc3NhZ2UoMTYsIFtsYWJlbF0pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICAodGhpcy5jaGVja0lzRmllbGRIYXNJbnB1dChkYXRhKSAmJiB2YWwgPiB2YWxpZGF0b3IucmFuZ2VbMV0pIHx8XG4gICAgICAgICAgICB2YWwgPCB2YWxpZGF0b3IucmFuZ2VbMF1cbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGVycm9yRmllbGQ6IGZpZWxkLFxuICAgICAgICAgICAgICAgIGVycm9yTXNnOiB2YWxpZGF0b3IuZXJyb3JNc2dcbiAgICAgICAgICAgICAgICAgICAgPyB2YWxpZGF0b3IuZXJyb3JNc2dcbiAgICAgICAgICAgICAgICAgICAgOiBnZXRGb3JtYXR0ZWRNZXNzYWdlKDgsIFtsYWJlbCwgdmFsaWRhdG9yLnJhbmdlWzBdLCB2YWxpZGF0b3IucmFuZ2VbMV1dKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGRvVmFsaWRhdGlvbihkYXRhKSB7XG4gICAgICAgIGlmICh0aGlzLmlzTmFtZSkge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0VmFsdWUgPSBkYXRhLm5hbWU7XG4gICAgICAgICAgICBjb25zdCBuYW1lRmllbGRMYWJlbCA9IHRoaXMuaXNOYW1lLmxhYmVsO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldFZhbHVlID09PSAndW5kZWZpbmVkJyB8fCB0YXJnZXRWYWx1ZSA9PT0gJycgfHwgdGFyZ2V0VmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGVycm9yRmllbGQ6ICduYW1lJywgZXJyb3JNc2c6IGdldEZvcm1hdHRlZE1lc3NhZ2UoMCwgW25hbWVGaWVsZExhYmVsXSkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghKHR5cGVvZiB0YXJnZXRWYWx1ZSA9PT0gJ3N0cmluZycgfHwgdGFyZ2V0VmFsdWUgaW5zdGFuY2VvZiBTdHJpbmcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3JGaWVsZDogJ25hbWUnLCBlcnJvck1zZzogZ2V0Rm9ybWF0dGVkTWVzc2FnZSgxLCBbbmFtZUZpZWxkTGFiZWxdKSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHRhcmdldFZhbHVlLnN0YXJ0c1dpdGgoJ18nKSB8fFxuICAgICAgICAgICAgICAgIHRhcmdldFZhbHVlID09PSAnLicgfHxcbiAgICAgICAgICAgICAgICB0YXJnZXRWYWx1ZSA9PT0gJy4uJyB8fFxuICAgICAgICAgICAgICAgIHRhcmdldFZhbHVlLnRvTG93ZXJDYXNlKCkgPT09ICdkZWZhdWx0J1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3JGaWVsZDogJ25hbWUnLCBlcnJvck1zZzogZ2V0Rm9ybWF0dGVkTWVzc2FnZSgzLCBbbmFtZUZpZWxkTGFiZWxdKSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVnZXhNZXRhQ2hhcmFjdGVycyA9IFsnKicsICdcXFxcJywgJ1snLCAnXScsICcoJywgJyknLCAnPycsICc6J107XG4gICAgICAgICAgICBpZiAocmVnZXhNZXRhQ2hhcmFjdGVycy5zb21lKChkKSA9PiB0YXJnZXRWYWx1ZS5pbmRleE9mKGQpID4gLTEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3JGaWVsZDogJ25hbWUnLCBlcnJvck1zZzogZ2V0Rm9ybWF0dGVkTWVzc2FnZSgzLCBbbmFtZUZpZWxkTGFiZWxdKSB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGFyZ2V0VmFsdWUubGVuZ3RoID49IDEwMjQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBlcnJvckZpZWxkOiAnbmFtZScsIGVycm9yTXNnOiBnZXRGb3JtYXR0ZWRNZXNzYWdlKDIyLCBbbmFtZUZpZWxkTGFiZWxdKSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJldDtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGxldCBqO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmVudGl0aWVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbnRpdGllc1tpXS5yZXF1aXJlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldCA9IHRoaXMuUmVxdWlyZWRWYWxpZGF0b3IoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNbaV0uZmllbGQsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNbaV0ubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbdGhpcy5lbnRpdGllc1tpXS5maWVsZF1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YVt0aGlzLmVudGl0aWVzW2ldLmZpZWxkXSA9PT0gJycgfHwgZGF0YVt0aGlzLmVudGl0aWVzW2ldLmZpZWxkXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZW50aXRpZXNbaV0udmFsaWRhdG9ycykge1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCB0aGlzLmVudGl0aWVzW2ldLnZhbGlkYXRvcnMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLmVudGl0aWVzW2ldLnZhbGlkYXRvcnNbal0udHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQgPSB0aGlzLlN0cmluZ1ZhbGlkYXRvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllc1tpXS5maWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllc1tpXS5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllc1tpXS52YWxpZGF0b3JzW2pdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW3RoaXMuZW50aXRpZXNbaV0uZmllbGRdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVnZXgnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHRoaXMuUmVnZXhWYWxpZGF0b3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNbaV0uZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNbaV0ubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNbaV0udmFsaWRhdG9yc1tqXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVt0aGlzLmVudGl0aWVzW2ldLmZpZWxkXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gdGhpcy5OdW1iZXJWYWxpZGF0b3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNbaV0uZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNbaV0ubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNbaV0udmFsaWRhdG9yc1tqXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVt0aGlzLmVudGl0aWVzW2ldLmZpZWxkXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3VybCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gdGhpcy5QcmVEZWZpbmVkUmVnZXhWYWxpZGF0b3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNbaV0uZmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNbaV0ubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNbaV0udmFsaWRhdG9yc1tqXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVt0aGlzLmVudGl0aWVzW2ldLmZpZWxkXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJFREVGSU5FRF9WQUxJREFUT1JTX0RJQ1QudXJsLnJlZ2V4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUkVERUZJTkVEX1ZBTElEQVRPUlNfRElDVC51cmwuaW5wdXRWYWx1ZVR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQgPSB0aGlzLlByZURlZmluZWRSZWdleFZhbGlkYXRvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllc1tpXS5maWVsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllc1tpXS5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllc1tpXS52YWxpZGF0b3JzW2pdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW3RoaXMuZW50aXRpZXNbaV0uZmllbGRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUkVERUZJTkVEX1ZBTElEQVRPUlNfRElDVC5kYXRlLnJlZ2V4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUkVERUZJTkVEX1ZBTElEQVRPUlNfRElDVC5kYXRlLmlucHV0VmFsdWVUeXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZW1haWwnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHRoaXMuUHJlRGVmaW5lZFJlZ2V4VmFsaWRhdG9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzW2ldLmZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzW2ldLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzW2ldLnZhbGlkYXRvcnNbal0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbdGhpcy5lbnRpdGllc1tpXS5maWVsZF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBSRURFRklORURfVkFMSURBVE9SU19ESUNULmVtYWlsLnJlZ2V4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUkVERUZJTkVEX1ZBTElEQVRPUlNfRElDVC5lbWFpbC5pbnB1dFZhbHVlVHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2lwdjQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHRoaXMuUHJlRGVmaW5lZFJlZ2V4VmFsaWRhdG9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzW2ldLmZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzW2ldLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzW2ldLnZhbGlkYXRvcnNbal0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbdGhpcy5lbnRpdGllc1tpXS5maWVsZF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBSRURFRklORURfVkFMSURBVE9SU19ESUNULmlwdjQucmVnZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBSRURFRklORURfVkFMSURBVE9SU19ESUNULmlwdjQuaW5wdXRWYWx1ZVR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjdXN0b20nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IFZhbGlkYXRvci5DdXN0b21WYWxpZGF0b3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXNbaV0udmFsaWRhdG9yc1tqXS52YWxpZGF0b3JGdW5jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzW2ldLmZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW3RoaXMuZW50aXRpZXNbaV0uZmllbGRdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWYWxpZGF0b3I7XG4iLCJpbXBvcnQgUmVhY3QsIHsgUHVyZUNvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgdXBkYXRlIGZyb20gJ2ltbXV0YWJpbGl0eS1oZWxwZXInO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5cbmltcG9ydCBDb2xsYXBzaWJsZVBhbmVsIGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvQ29sbGFwc2libGVQYW5lbCc7XG5pbXBvcnQgTWVzc2FnZSBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL01lc3NhZ2UnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5cbmltcG9ydCBDb250cm9sV3JhcHBlciBmcm9tICcuL0NvbnRyb2xXcmFwcGVyJztcbmltcG9ydCBWYWxpZGF0b3IsIHsgU2F2ZVZhbGlkYXRvciB9IGZyb20gJy4uL3V0aWwvVmFsaWRhdG9yJztcbmltcG9ydCB7IGdldFVuaWZpZWRDb25maWdzLCBnZW5lcmF0ZVRvYXN0IH0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCB7IE1PREVfQ0xPTkUsIE1PREVfQ1JFQVRFLCBNT0RFX0VESVQsIE1PREVfQ09ORklHIH0gZnJvbSAnLi4vY29uc3RhbnRzL21vZGVzJztcbmltcG9ydCB7IFBBR0VfSU5QVVQsIFBBR0VfQ09ORiB9IGZyb20gJy4uL2NvbnN0YW50cy9wYWdlcyc7XG5pbXBvcnQgeyBheGlvc0NhbGxXcmFwcGVyIH0gZnJvbSAnLi4vdXRpbC9heGlvc0NhbGxXcmFwcGVyJztcbmltcG9ydCB7IHBhcnNlRXJyb3JNc2csIGdldEZvcm1hdHRlZE1lc3NhZ2UgfSBmcm9tICcuLi91dGlsL21lc3NhZ2VVdGlsJztcbmltcG9ydCB7IGdldEJ1aWxkRGlyUGF0aCB9IGZyb20gJy4uL3V0aWwvc2NyaXB0JztcblxuaW1wb3J0IHtcbiAgICBFUlJPUl9SRVFVRVNUX1RJTUVPVVRfVFJZX0FHQUlOLFxuICAgIEVSUk9SX1JFUVVFU1RfVElNRU9VVF9BQ0NFU1NfVE9LRU5fVFJZX0FHQUlOLFxuICAgIEVSUk9SX09DQ1VSUkVEX1RSWV9BR0FJTixcbiAgICBFUlJPUl9BVVRIX1BST0NFU1NfVEVSTUlOQVRFRF9UUllfQUdBSU4sXG4gICAgRVJST1JfU1RBVEVfTUlTU0lOR19UUllfQUdBSU4sXG59IGZyb20gJy4uL2NvbnN0YW50cy9vQXV0aEVycm9yTWVzc2FnZSc7XG5pbXBvcnQgVGFibGVDb250ZXh0IGZyb20gJy4uL2NvbnRleHQvVGFibGVDb250ZXh0JztcblxuY29uc3QgQ29sbGFwc2libGVQYW5lbFdyYXBwZXIgPSBzdHlsZWQoQ29sbGFwc2libGVQYW5lbClgXG4gICAgc3BhbiB7XG4gICAgICAgIGJ1dHRvbiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgICAgIG1hcmdpbjogMTBweCAwO1xuXG4gICAgICAgICAgICAmOmhvdmVyOm5vdChbZGlzYWJsZWRdKSxcbiAgICAgICAgICAgICY6Zm9jdXM6bm90KFtkaXNhYmxlZF0pLFxuICAgICAgICAgICAgJjphY3RpdmU6bm90KFtkaXNhYmxlZF0pIHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgICAgICAgICBib3gtc2hhZG93OiBub25lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLmNvbGxhcHNpYmxlLWVsZW1lbnQge1xuICAgICAgICBwYWRkaW5nLXRvcDogMTVweDtcbiAgICB9XG5gO1xuXG5jb25zdCBDdXN0b21Hcm91cExhYmVsID0gc3R5bGVkLmRpdmBcbiAgICBwYWRkaW5nOiA2cHggMTBweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmNGY1O1xuYDtcblxuY2xhc3MgQmFzZUZvcm1WaWV3IGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIGNvbnRleHRUeXBlID0gVGFibGVDb250ZXh0O1xuXG4gICAgY29uc3RydWN0b3IocHJvcHMsIGNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICAvLyBmbGFnIGZvciB0byByZW5kZXIgaG9vayBtZXRob2QgZm9yIG9uY2VcbiAgICAgICAgdGhpcy5mbGFnID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xuICAgICAgICB0aGlzLmN1cnJlbnRJbnB1dCA9IHt9O1xuICAgICAgICBjb25zdCBnbG9iYWxDb25maWcgPSBnZXRVbmlmaWVkQ29uZmlncygpO1xuICAgICAgICB0aGlzLmFwcE5hbWUgPSBnbG9iYWxDb25maWcubWV0YS5uYW1lO1xuICAgICAgICB0aGlzLmVuZHBvaW50ID1cbiAgICAgICAgICAgIHByb3BzLm1vZGUgPT09IE1PREVfRURJVCB8fCBwcm9wcy5tb2RlID09PSBNT0RFX0NPTkZJR1xuICAgICAgICAgICAgICAgID8gYCR7dGhpcy5wcm9wcy5zZXJ2aWNlTmFtZX0vJHtlbmNvZGVVUklDb21wb25lbnQodGhpcy5wcm9wcy5zdGFuemFOYW1lKX1gXG4gICAgICAgICAgICAgICAgOiBgJHt0aGlzLnByb3BzLnNlcnZpY2VOYW1lfWA7XG5cbiAgICAgICAgdGhpcy51dGlsID0ge1xuICAgICAgICAgICAgc2V0U3RhdGU6IChjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25TYXZlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoKHByZXZpb3VzU3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhwcmV2aW91c1N0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgcmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0RXJyb3JGaWVsZE1zZzogdGhpcy5zZXRFcnJvckZpZWxkTXNnLFxuICAgICAgICAgICAgY2xlYXJBbGxFcnJvck1zZzogdGhpcy5jbGVhckFsbEVycm9yTXNnLFxuICAgICAgICAgICAgc2V0RXJyb3JNc2c6IHRoaXMuc2V0RXJyb3JNc2csXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy51dGlsQ29udHJvbFdyYXBwZXIgPSB7XG4gICAgICAgICAgICBoYW5kbGVDaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlLFxuICAgICAgICAgICAgYWRkQ3VzdG9tVmFsaWRhdG9yOiB0aGlzLmFkZEN1c3RvbVZhbGlkYXRvcixcbiAgICAgICAgICAgIHV0aWxDdXN0b21GdW5jdGlvbnM6IHRoaXMudXRpbCxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAocHJvcHMucGFnZSA9PT0gUEFHRV9JTlBVVCkge1xuICAgICAgICAgICAgZ2xvYmFsQ29uZmlnLnBhZ2VzLmlucHV0cy5zZXJ2aWNlcy5mb3JFYWNoKChzZXJ2aWNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHNlcnZpY2UubmFtZSA9PT0gcHJvcHMuc2VydmljZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ncm91cHMgPSBzZXJ2aWNlLmdyb3VwcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllcyA9IHNlcnZpY2UuZW50aXR5O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUVudGl0aWVzRm9yR3JvdXAoc2VydmljZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IHNlcnZpY2Uub3B0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZpY2UuaG9vaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob29rRGVmZXJyZWQgPSB0aGlzLmxvYWRIb29rKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2UuaG9vay5zcmMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZS5ob29rLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsQ29uZmlnXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wcy5tb2RlID09PSBNT0RFX0VESVQgfHwgcHJvcHMubW9kZSA9PT0gTU9ERV9DTE9ORSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5wdXQgPSBjb250ZXh0LnJvd0RhdGFbcHJvcHMuc2VydmljZU5hbWVdW3Byb3BzLnN0YW56YU5hbWVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbG9iYWxDb25maWcucGFnZXMuY29uZmlndXJhdGlvbi50YWJzLmZvckVhY2goKHRhYikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZsYWcgPSB0YWIudGFibGVcbiAgICAgICAgICAgICAgICAgICAgPyB0YWIubmFtZSA9PT0gcHJvcHMuc2VydmljZU5hbWVcbiAgICAgICAgICAgICAgICAgICAgOiB0YWIubmFtZSA9PT0gcHJvcHMuc3RhbnphTmFtZTtcbiAgICAgICAgICAgICAgICBpZiAoZmxhZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzID0gdGFiLmVudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gdGFiLm9wdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWIuaG9vaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob29rRGVmZXJyZWQgPSB0aGlzLmxvYWRIb29rKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYi5ob29rLnNyYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWIuaG9vay50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbENvbmZpZ1xuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGFiLnRhYmxlICYmIChwcm9wcy5tb2RlID09PSBNT0RFX0VESVQgfHwgcHJvcHMubW9kZSA9PT0gTU9ERV9DTE9ORSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudElucHV0ID0gY29udGV4dC5yb3dEYXRhW3Byb3BzLnNlcnZpY2VOYW1lXVtwcm9wcy5zdGFuemFOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9wcy5tb2RlID09PSBNT0RFX0NPTkZJRykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5wdXQgPSBwcm9wcy5jdXJyZW50U2VydmljZVN0YXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlX2NvbmZpZ190aXRsZSA9IHRhYi50aXRsZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudElucHV0ID0gY29udGV4dC5yb3dEYXRhW3Byb3BzLnNlcnZpY2VOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jeU1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5pc09BdXRoID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNBdXRoVmFsID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYXV0aE1hcCA9IHt9O1xuICAgICAgICBsZXQgdGVtU3RhdGUgPSB7fTtcbiAgICAgICAgY29uc3QgdGVtRW50aXRpZXMgPSBbXTtcblxuICAgICAgICB0aGlzLmVudGl0aWVzLmZvckVhY2goKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChlLnR5cGUgPT09ICdvYXV0aCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzT0F1dGggPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChwcm9wcy5wYWdlID09PSBQQUdFX0NPTkYgJiYgcHJvcHMuc2VydmljZU5hbWUgPT09ICdhY2NvdW50Jykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdXRoVHlwZSA9IGU/Lm9wdGlvbnM/LmF1dGhfdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc29hdXRoU3RhdGUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGU/Lm9wdGlvbnM/Lm9hdXRoX3N0YXRlX2VuYWJsZWQgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBlPy5vcHRpb25zPy5vYXV0aF9zdGF0ZV9lbmFibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdXRoVHlwZS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQXV0aFZhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWZpbmluZyBzdGF0ZSBmb3IgYXV0aF90eXBlIGluIGNhc2Ugb2YgbXVsdGlwbGUgQXV0aGVudGljYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBFbnRpdHkgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBFbnRpdHkudmFsdWUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiB0aGlzLmN1cnJlbnRJbnB1dC5hdXRoX3R5cGUgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5jdXJyZW50SW5wdXQuYXV0aF90eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYXV0aFR5cGVbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wRW50aXR5LmRpc3BsYXkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS5lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtU3RhdGUuYXV0aF90eXBlID0gdGVtcEVudGl0eTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVmaW5pbmcgRW50aXR5IGZvciBhdXRoX3R5cGUgaW4gZW50aXR5bGlzdCBvZiBnbG9iYWxDb25maWdcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudGl0eSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LmZpZWxkID0gJ2F1dGhfdHlwZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkudHlwZSA9ICdzaW5nbGVTZWxlY3QnO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LmxhYmVsID0gJ0F1dGggVHlwZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2ljOiAnQmFzaWMgQXV0aGVudGljYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9hdXRoOiAnT0F1dGggMi4wIEF1dGhlbnRpY2F0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkub3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5Lm9wdGlvbnMuaGlkZUNsZWFyQnRuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS5vcHRpb25zLmF1dG9Db21wbGV0ZUZpZWxkcyA9IGF1dGhUeXBlLm1hcCgodHlwZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGxhYmVsOiBjb250ZW50W3R5cGVdLCB2YWx1ZTogdHlwZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1FbnRpdGllcy5wdXNoKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzU2luZ2xlT2F1dGggPSBhdXRoVHlwZS5pbmNsdWRlcygnb2F1dGgnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZGluZyBTdGF0ZSBhbmQgRW50aXR5KGluIGVudGl0eWxpc3QpIGZvciBldmVyeSBGaWVsZHMgb2YgXCJvYXV0aFwiIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgLy8gSXRlcmF0aW5nIG92ZXIgZXZlcnl0eXBlIG9mIEF1dGhlbnRpY2F0aW9uIHVuZGVyIFwib2F1dGhcIiB0eXBlXG4gICAgICAgICAgICAgICAgICAgIGF1dGhUeXBlLmZvckVhY2goKHR5cGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1dGhmaWVsZHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkcyA9IGU/Lm9wdGlvbnNbdHlwZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIFBhcnRpY2F1bGFyIHR5cGUgaXRlcmF0aW5nIG92ZXIgZmllbGRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRzLmZvckVhY2goKGZpZWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV2ZXJ5IGZpZWxkIGZvciBhdXRoIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcEVudGl0eSA9IHt9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wcy5tb2RlID09PSBNT0RFX0NSRUFURSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS52YWx1ZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGZpZWxkPy5kZWZhdWx0VmFsdWUgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZmllbGQuZGVmYXVsdFZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzRW5jcnlwdGVkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgZmllbGQ/LmVuY3J5cHRlZCAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmaWVsZD8uZW5jcnlwdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wRW50aXR5LnZhbHVlID0gaXNFbmNyeXB0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmN1cnJlbnRJbnB1dFtmaWVsZC5maWVsZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS5kaXNwbGF5ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiB0ZW1TdGF0ZS5hdXRoX3R5cGUgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0eXBlID09PSB0ZW1TdGF0ZS5hdXRoX3R5cGUudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBFbnRpdHkuZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1TdGF0ZVtmaWVsZC5maWVsZF0gPSB0ZW1wRW50aXR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQudHlwZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgZmllbGQ/LnR5cGUgIT09ICd1bmRlZmluZWQnID8gZmllbGQudHlwZSA6ICd0ZXh0JztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGVkIHNwZWNpYWwgY2FzZSBmb3IgcmVkaXJlY3RfdXJsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZC5maWVsZCA9PT0gJ3JlZGlyZWN0X3VybCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBFbnRpdHkudmFsdWUgPSB3aW5kb3cubG9jYXRpb24uaHJlZlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnPycpWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjb25maWd1cmF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7dGhpcy5hcHBOYW1lLnRvTG93ZXJDYXNlKCl9X3JlZGlyZWN0YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wRW50aXR5LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1FbnRpdGllcy5wdXNoKGZpZWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aGZpZWxkcy5wdXNoKGZpZWxkLmZpZWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF1dGhNYXBbdHlwZV0gPSBhdXRoZmllbGRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF1dGhUeXBlLmluY2x1ZGVzKCdvYXV0aCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvYXV0aENvbmZEYXRhID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yaW5nIE8tQXV0aCBDb25maWd1cmF0aW9uIGRhdGEgdG8gY2xhc3MgdmFyaWFibGUgdG8gdXNlIGxhdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYXV0aENvbmZEYXRhLnBvcHVwV2lkdGggPSBlLm9wdGlvbnMub2F1dGhfcG9wdXBfd2lkdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGUub3B0aW9ucy5vYXV0aF9wb3B1cF93aWR0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogNjAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2F1dGhDb25mRGF0YS5wb3B1cEhlaWdodCA9IGUub3B0aW9ucy5vYXV0aF9wb3B1cF9oZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGUub3B0aW9ucy5vYXV0aF9wb3B1cF9oZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDYwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9hdXRoQ29uZkRhdGEuYXV0aFRpbWVvdXQgPSBlLm9wdGlvbnMub2F1dGhfdGltZW91dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZS5vcHRpb25zLm9hdXRoX3RpbWVvdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDE4MDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9hdXRoQ29uZkRhdGEuYXV0aENvZGVFbmRwb2ludCA9IGUub3B0aW9ucy5hdXRoX2NvZGVfZW5kcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGUub3B0aW9ucy5hdXRoX2NvZGVfZW5kcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYXV0aENvbmZEYXRhLmFjY2Vzc1Rva2VuRW5kcG9pbnQgPSBlLm9wdGlvbnMuYWNjZXNzX3Rva2VuX2VuZHBvaW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBlLm9wdGlvbnMuYWNjZXNzX3Rva2VuX2VuZHBvaW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9hdXRoQ29uZiA9IG9hdXRoQ29uZkRhdGE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBFbnRpdHkgPSB7fTtcbiAgICAgICAgICAgICAgICBlLmVuY3J5cHRlZCA9IHR5cGVvZiBlLmVuY3J5cHRlZCAhPT0gJ3VuZGVmaW5lZCcgPyBlLmVuY3J5cHRlZCA6IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHByb3BzLm1vZGUgPT09IE1PREVfQ1JFQVRFKSB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBFbnRpdHkudmFsdWUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGUuZGVmYXVsdFZhbHVlICE9PSAndW5kZWZpbmVkJyA/IGUuZGVmYXVsdFZhbHVlIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS5kaXNwbGF5ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBlPy5vcHRpb25zPy5kaXNwbGF5ICE9PSAndW5kZWZpbmVkJyA/IGUub3B0aW9ucy5kaXNwbGF5IDogdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS5lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wRW50aXR5LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRlbVN0YXRlW2UuZmllbGRdID0gdGVtcEVudGl0eTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByb3BzLm1vZGUgPT09IE1PREVfRURJVCkge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wRW50aXR5LnZhbHVlID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiB0aGlzLmN1cnJlbnRJbnB1dFtlLmZpZWxkXSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuY3VycmVudElucHV0W2UuZmllbGRdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wRW50aXR5LnZhbHVlID0gZS5lbmNyeXB0ZWQgPyAnJyA6IHRlbXBFbnRpdHkudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS5kaXNwbGF5ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBlPy5vcHRpb25zPy5kaXNwbGF5ICE9PSAndW5kZWZpbmVkJyA/IGUub3B0aW9ucy5kaXNwbGF5IDogdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS5lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wRW50aXR5LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmZpZWxkID09PSAnbmFtZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBFbnRpdHkuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBlPy5vcHRpb25zPy5kaXNhYmxlb25FZGl0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS5kaXNhYmxlZCA9IGUub3B0aW9ucy5kaXNhYmxlb25FZGl0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRlbVN0YXRlW2UuZmllbGRdID0gdGVtcEVudGl0eTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByb3BzLm1vZGUgPT09IE1PREVfQ0xPTkUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS52YWx1ZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICBlLmZpZWxkID09PSAnbmFtZScgfHwgZS5lbmNyeXB0ZWQgPyAnJyA6IHRoaXMuY3VycmVudElucHV0W2UuZmllbGRdO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wRW50aXR5LmRpc3BsYXkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGU/Lm9wdGlvbnM/LmRpc3BsYXkgIT09ICd1bmRlZmluZWQnID8gZS5vcHRpb25zLmRpc3BsYXkgOiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wRW50aXR5LmVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBFbnRpdHkuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGVtU3RhdGVbZS5maWVsZF0gPSB0ZW1wRW50aXR5O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJvcHMubW9kZSA9PT0gTU9ERV9DT05GSUcpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5kZWZhdWx0VmFsdWUgPSB0eXBlb2YgZS5kZWZhdWx0VmFsdWUgIT09ICd1bmRlZmluZWQnID8gZS5kZWZhdWx0VmFsdWUgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wRW50aXR5LnZhbHVlID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiB0aGlzLmN1cnJlbnRJbnB1dFtlLmZpZWxkXSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuY3VycmVudElucHV0W2UuZmllbGRdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBlLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS52YWx1ZSA9IGUuZW5jcnlwdGVkID8gJycgOiB0ZW1wRW50aXR5LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wRW50aXR5LmRpc3BsYXkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGU/Lm9wdGlvbnM/LmRpc3BsYXkgIT09ICd1bmRlZmluZWQnID8gZS5vcHRpb25zLmRpc3BsYXkgOiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wRW50aXR5LmVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBFbnRpdHkuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuZmllbGQgPT09ICduYW1lJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEVudGl0eS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGU/Lm9wdGlvbnM/LmRpc2FibGVvbkVkaXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wRW50aXR5LmRpc2FibGVkID0gZS5vcHRpb25zLmRpc2FibGVvbkVkaXQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGVtU3RhdGVbZS5maWVsZF0gPSB0ZW1wRW50aXR5O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtb2RlIDonLCBwcm9wcy5tb2RlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgZGVwZW5kZW50IGZpZWxkc1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkcyA9IGUub3B0aW9ucz8uZGVwZW5kZW5jaWVzO1xuICAgICAgICAgICAgICAgIGlmIChmaWVsZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRzLmZvckVhY2goKGZpZWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFuZ2VGaWVsZHMgPSB0aGlzLmRlcGVuZGVuY3lNYXAuZ2V0KGZpZWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VGaWVsZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VGaWVsZHNbZS5maWVsZF0gPSBmaWVsZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVwZW5kZW5jeU1hcC5zZXQoZmllbGQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2UuZmllbGRdOiBmaWVsZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0ZW1FbnRpdGllcy5wdXNoKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmVudGl0aWVzID0gdGVtRW50aXRpZXM7XG5cbiAgICAgICAgLy8gZmxhdHRlbiB0aGUgZGVwZW5kZW5jeU1hcCB0byByZW1vdmUgcmVkdW5kYW50IGl0ZXJhdGlvbnMgZm9yIHJlc29sdmluZyB0aGVtXG4gICAgICAgIC8vIG9uZS1ieS1vbmUgaW4gZm9sbG93aW5nIGxvb3BcbiAgICAgICAgbGV0IGZsYXR0ZW5lZE1hcCA9IHt9O1xuICAgICAgICB0aGlzLmRlcGVuZGVuY3lNYXAuZm9yRWFjaCgodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGZsYXR0ZW5lZE1hcCA9IHsgLi4uZmxhdHRlbmVkTWFwLCAuLi52YWx1ZSB9O1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBjaGFuZ2VzID0ge307XG4gICAgICAgIE9iamVjdC5rZXlzKGZsYXR0ZW5lZE1hcCkuZm9yRWFjaCgoZmllbGQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGZsYXR0ZW5lZE1hcFtmaWVsZF07XG4gICAgICAgICAgICBjb25zdCBkYXRhID0ge307XG4gICAgICAgICAgICBsZXQgbG9hZCA9IHRydWU7XG5cbiAgICAgICAgICAgIHZhbHVlcy5mb3JFYWNoKChkZXBlbmRlbmN5KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVxdWlyZWQgPSAhIXRoaXMuZW50aXRpZXMuZmluZCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS5maWVsZCA9PT0gZGVwZW5kZW5jeTtcbiAgICAgICAgICAgICAgICB9KS5yZXF1aXJlZDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IHRlbVN0YXRlW2RlcGVuZGVuY3ldLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChyZXF1aXJlZCAmJiAhY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtkZXBlbmRlbmN5XSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtkZXBlbmRlbmN5XSA9IGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGxvYWQpIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VzW2ZpZWxkXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jeVZhbHVlczogeyAkc2V0OiBkYXRhIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYXBwbHkgZGVwZW5kZW5jeSBmaWVsZCBjaGFuZ2VzIGluIHN0YXRlXG4gICAgICAgIHRlbVN0YXRlID0gdXBkYXRlKHRlbVN0YXRlLCBjaGFuZ2VzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGRhdGE6IHRlbVN0YXRlLFxuICAgICAgICAgICAgZXJyb3JNc2c6ICcnLFxuICAgICAgICAgICAgd2FybmluZ01zZzogJycsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSG9vayBvbiBjcmVhdGUgbWV0aG9kIGNhbGxcbiAgICAgICAgaWYgKHRoaXMuaG9va0RlZmVycmVkKSB7XG4gICAgICAgICAgICB0aGlzLmhvb2tEZWZlcnJlZC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuaG9vay5vbkNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob29rLm9uQ3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlRW50aXRpZXNGb3JHcm91cCA9IChzZXJ2aWNlKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmdyb3VwcyAmJiB0aGlzLmdyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBzLmZvckVhY2goKGdyb3VwKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwICYmIGdyb3VwLmZpZWxkcz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwLmZpZWxkcy5mb3JFYWNoKChmaWVsZE5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gc2VydmljZS5lbnRpdHkuZmluZEluZGV4KChlKSA9PiBlLmZpZWxkID09PSBmaWVsZE5hbWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZE9iaiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc2VydmljZS5lbnRpdHlbaW5kZXhdKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZE9iai5pc0dyb3VwaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzLnNwbGljZShpbmRleCwgMSwgdXBkYXRlZE9iaik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGhhbmRsZVN1Ym1pdCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5jbGVhckVycm9yTXNnKCk7XG4gICAgICAgIHRoaXMucHJvcHMuaGFuZGxlRm9ybVN1Ym1pdCgvKiBpc1N1Ym1pdHRpbmcgKi8gdHJ1ZSwgLyogY2xvc2VFbnRpdHkgKi8gZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuZGF0YWRpY3QgPSB7fTtcblxuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLnN0YXRlLmRhdGEpLmZvckVhY2goKGZpZWxkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRhdGFkaWN0W2ZpZWxkXSA9IHRoaXMuc3RhdGUuZGF0YVtmaWVsZF0udmFsdWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLmhvb2sgJiYgdHlwZW9mIHRoaXMuaG9vay5vblNhdmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb25QYXNzID0gdGhpcy5ob29rLm9uU2F2ZSh0aGlzLmRhdGFkaWN0KTtcbiAgICAgICAgICAgIGlmICghdmFsaWRhdGlvblBhc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmhhbmRsZUZvcm1TdWJtaXQoLyogaXNTdWJtaXR0aW5nICovIGZhbHNlLCAvKiBjbG9zZUVudGl0eSAqLyBmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV4ZWN1dGVWYWxpZGF0aW9uU3VibWl0ID0gKCkgPT4ge1xuICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5zdGF0ZS5kYXRhKS5mb3JFYWNoKChmaWVsZCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YWRpY3RbZmllbGRdID0gdGhpcy5zdGF0ZS5kYXRhW2ZpZWxkXS52YWx1ZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyB2YWxpZGF0aW9uIGZvciB1bmlxdWUgbmFtZVxuICAgICAgICAgICAgaWYgKFtNT0RFX0NSRUFURSwgTU9ERV9DTE9ORV0uaW5jbHVkZXModGhpcy5wcm9wcy5tb2RlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzRXhpc3RpbmdOYW1lID0gQm9vbGVhbihcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLmNvbnRleHQucm93RGF0YSkuZmluZCgodmFsKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXModmFsKS5maW5kKChuYW1lKSA9PiBuYW1lID09PSB0aGlzLmRhdGFkaWN0Lm5hbWUpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzRXhpc3RpbmdOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5lbnRpdGllcy5maW5kSW5kZXgoKGUpID0+IGUuZmllbGQgPT09ICduYW1lJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RXJyb3JGaWVsZE1zZyhcbiAgICAgICAgICAgICAgICAgICAgICAgICduYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldEZvcm1hdHRlZE1lc3NhZ2UoMiwgW3RoaXMuZW50aXRpZXNbaW5kZXhdLmxhYmVsLCB0aGlzLmRhdGFkaWN0Lm5hbWVdKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmhhbmRsZUZvcm1TdWJtaXQoLyogaXNTdWJtaXR0aW5nICovIGZhbHNlLCAvKiBjbG9zZUVudGl0eSAqLyBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHZhbGlkYXRpb24gY29uZGl0aW9uIG9mIHJlcXVpcmVkIGZpZWxkcyBpbiBPLUF1dGhcbiAgICAgICAgICAgIGxldCB0ZW1FbnRpdGllcztcbiAgICAgICAgICAgIGlmICh0aGlzLmlzT0F1dGgpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVxRmllbGRzID0gW107XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5hdXRoTWFwKS5mb3JFYWNoKCh0eXBlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGBpc0F1dGhWYWxgIGlzIHJlcXVpcmVkIGluIGEgY2FzZSB3aGVyZSBvbmx5IHNpbmdsZSBhdXRoIHR5cGUgaXMgcHJvdmlkZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IHRoaXMuZGF0YWRpY3QuYXV0aF90eXBlIHx8ICF0aGlzLmlzQXV0aFZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxRmllbGRzID0gWy4uLnJlcUZpZWxkcywgLi4udGhpcy5hdXRoTWFwW3R5cGVdXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRlbUVudGl0aWVzID0gdGhpcy5lbnRpdGllcy5tYXAoKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcUZpZWxkcy5pbmNsdWRlcyhlLmZpZWxkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxsIG9hdXRoIGZpZWxkcyBhcmUgcmVxdWlyZWQgZXhjZXB0IGlmIGV4cGxpY2l0ZWx5IGByZXF1aXJlZGAgaXMgc2V0IHRvIGBmYWxzZWBcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHJlcXVpcmVkOiB0cnVlLCAuLi5lIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRlbUVudGl0aWVzID0gdGhpcy5lbnRpdGllcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVmFsaWRhdGlvbiBvZiBmb3JtIGZpZWxkcyBvbiBTdWJtaXRcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBWYWxpZGF0b3IodGVtRW50aXRpZXMpO1xuICAgICAgICAgICAgbGV0IGVycm9yID0gdmFsaWRhdG9yLmRvVmFsaWRhdGlvbih0aGlzLmRhdGFkaWN0KTtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RXJyb3JGaWVsZE1zZyhlcnJvci5lcnJvckZpZWxkLCBlcnJvci5lcnJvck1zZyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMuc2F2ZVZhbGlkYXRvcikge1xuICAgICAgICAgICAgICAgIGVycm9yID0gU2F2ZVZhbGlkYXRvcih0aGlzLm9wdGlvbnMuc2F2ZVZhbGlkYXRvciwgdGhpcy5kYXRhZGljdCk7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RXJyb3JNc2coZXJyb3IuZXJyb3JNc2cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVGb3JtU3VibWl0KC8qIGlzU3VibWl0dGluZyAqLyBmYWxzZSwgLyogY2xvc2VFbnRpdHkgKi8gZmFsc2UpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICB0aGlzLmlzT0F1dGggJiZcbiAgICAgICAgICAgICAgICAodGhpcy5pc1NpbmdsZU9hdXRoIHx8ICh0aGlzLmlzQXV0aFZhbCAmJiB0aGlzLmRhdGFkaWN0LmF1dGhfdHlwZSA9PT0gJ29hdXRoJykpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgb2F1dGggQXV0aGVudGljYXRpb25cbiAgICAgICAgICAgICAgICAvLyBQb3B1bGF0ZSB0aGUgcGFyYW1ldGVyIHN0cmluZyB3aXRoIGNsaWVudF9pZCwgcmVkaXJlY3RfdXJsIGFuZCByZXNwb25zZV90eXBlXG4gICAgICAgICAgICAgICAgbGV0IHBhcmFtZXRlcnMgPSBgP3Jlc3BvbnNlX3R5cGU9Y29kZSZjbGllbnRfaWQ9JHt0aGlzLmRhdGFkaWN0LmNsaWVudF9pZH0mcmVkaXJlY3RfdXJpPSR7dGhpcy5kYXRhZGljdC5yZWRpcmVjdF91cmx9YDtcbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIHZhbHVlIGZvciBzdGF0ZV9lbmFibGVkXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdGVFbmFibGVkID0gdGhpcy5pc29hdXRoU3RhdGUgIT0gbnVsbCA/IHRoaXMuaXNvYXV0aFN0YXRlIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlRW5hYmxlZCA9PT0gJ3RydWUnIHx8IHN0YXRlRW5hYmxlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlX2VuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAvLyBHZW5lcmF0aW5nIGEgY3J5cHRvZ3JhcGhpY2FsbHkgc3Ryb25nIHN0YXRlIHBhcmFtZXRlciwgd2hpY2ggd2lsbCBiZSB1c2VkIE9OTFkgZHVyaW5nIGNvbmZpZ3VyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vYXV0aF9zdGF0ZSA9IHV1aWR2NCgpLnJlcGxhY2UoLy0vZywgJycpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFwcGVuZGluZyB0aGUgc3RhdGUgaW4gdGhlIGhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVycyA9IGAke3BhcmFtZXRlcnN9JnN0YXRlPSR7dGhpcy5vYXV0aF9zdGF0ZX1gO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGhvc3QgPSBgaHR0cHM6Ly8ke3RoaXMuZGF0YWRpY3QuZW5kcG9pbnR9JHt0aGlzLm9hdXRoQ29uZi5hdXRoQ29kZUVuZHBvaW50fSR7cGFyYW1ldGVyc31gO1xuICAgICAgICAgICAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNSZXNwb25zZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgYXV0aF90eXBlIGVsZW1lbnQgZnJvbSBnbG9iYWwgY29uZmlnIGpzb25cblxuICAgICAgICAgICAgICAgICAgICAvLyBPcGVuIGEgcG9wdXAgdG8gbWFrZSBhdXRoIHJlcXVlc3RcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZFdpbiA9IHdpbmRvdy5vcGVuKFxuICAgICAgICAgICAgICAgICAgICAgICAgaG9zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGAke3RoaXMuYXBwTmFtZX0gT0F1dGhgLFxuICAgICAgICAgICAgICAgICAgICAgICAgYHdpZHRoPSR7dGhpcy5vYXV0aENvbmYucG9wdXBXaWR0aH0sIGhlaWdodD0ke3RoaXMub2F1dGhDb25mLnBvcHVwSGVpZ2h0fWBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FsbGJhY2sgdG8gcmVjZWl2ZSBkYXRhIGZyb20gcmVkaXJlY3QgdXJsXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5nZXRNZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT24gQ2FsbCBiYWNrIHdpdGggQXV0aCBjb2RlIHRoaXMgbWV0aG9kIHdpbGwgYmUgY2FsbGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVPYXV0aFRva2VuKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAvLyBXYWl0IHRpbGwgd2UgZ2V0IGF1dGhfY29kZSBmcm9tIGNhbGxpbmcgc2l0ZSB0aHJvdWdoIHJlZGlyZWN0IHVybCwgd2Ugd2lsbCB3YWl0IGZvciAzIG1pbnNcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yQXV0aGVudGljYXRpb24odGhpcy5vYXV0aENvbmYuYXV0aFRpbWVvdXQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0NhbGxlZCAmJiB0aGlzLmNoaWxkV2luLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGVycm9yIG1lc3NhZ2UgaWYgdGhlIHVzZXIgaGFzIGNsb3NlIHRoZSBhdXRoZW50aWNhdGlvbiB3aW5kb3cgd2l0aG91dCB0YWtpbmcgYW55IGFjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRFcnJvck1zZyhFUlJPUl9BVVRIX1BST0NFU1NfVEVSTUlOQVRFRF9UUllfQUdBSU4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVGb3JtU3VibWl0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGlzU3VibWl0dGluZyAqLyBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBjbG9zZUVudGl0eSAqLyBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0NhbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRpbWVvdXQgZXJyb3IgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRFcnJvck1zZyhFUlJPUl9SRVFVRVNUX1RJTUVPVVRfVFJZX0FHQUlOKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuaGFuZGxlRm9ybVN1Ym1pdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBpc1N1Ym1pdHRpbmcgKi8gZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogY2xvc2VFbnRpdHkgKi8gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBSZXNldCBjYWxsZWQgZmxhZyBhcyB3ZSBoYXZlIHRvIHdhaXQgdGlsbCB3ZSBnZXQgdGhlIGFjY2Vzc190b2tlbiwgcmVmcmVzaF90b2tlbiBhbmQgaW5zdGFuY2VfdXJsXG4gICAgICAgICAgICAgICAgICAgIC8vIFdhaXQgdGlsbCB3ZSBnZXQgdGhlIHJlc3BvbnNlLCBoZXJlIHdlIGhhdmUgYWRkZWQgd2FpdCBmb3IgMzAgc2Vjc1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndhaXRGb3JCYWNrZW5kUmVzcG9uc2UoMzApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc1Jlc3BvbnNlICYmICF0aGlzLmlzRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCBlcnJvciBtZXNzYWdlIHRvIHByZXZlbnQgc2F2aW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0Vycm9yID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRpbWVvdXQgZXJyb3IgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRFcnJvck1zZyhFUlJPUl9SRVFVRVNUX1RJTUVPVVRfQUNDRVNTX1RPS0VOX1RSWV9BR0FJTik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmhhbmRsZUZvcm1TdWJtaXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogaXNTdWJtaXR0aW5nICovIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGNsb3NlRW50aXR5ICovIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0pKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmVEYXRhKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmhhbmRsZUZvcm1TdWJtaXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogaXNTdWJtaXR0aW5nICovIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGNsb3NlRW50aXR5ICovIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2F2ZURhdGEoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5ob29rICYmXG4gICAgICAgICAgICB0eXBlb2YgdGhpcy5ob29rLm9uU2F2ZSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAgICAgdHlwZW9mIHRoaXMub25TYXZlUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLm9uU2F2ZVByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgZXhlY3V0ZVZhbGlkYXRpb25TdWJtaXQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXhlY3V0ZVZhbGlkYXRpb25TdWJtaXQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBzYXZlRGF0YSA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgYm9keSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5kYXRhZGljdCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhZGljdFtrZXldICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBib2R5LmFwcGVuZChrZXksIHRoaXMuZGF0YWRpY3Rba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGNsZWFyIG91dCBmaWVsZHMgb2Ygb3RoZXIgYXV0aGVudGljYXRpb24gbWV0aG9kcyB3aGVuIHVzaW5nIG9uZVxuICAgICAgICBpZiAodGhpcy5pc0F1dGhWYWwpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuYXV0aE1hcCkuZm9yRWFjaCgodHlwZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdGFkaWN0LmF1dGhfdHlwZSAhPT0gdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1dGhNYXBbdHlwZV0uZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keS5zZXQoZSwgJycpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzT0F1dGgpIHtcbiAgICAgICAgICAgIC8vIFByZXZlbnQgcGFzc2luZyByZWRpcmVjdF91cmwgZmllbGQgdXNlZCBpbiBPQXV0aCB0byBiYWNrZW5kIGNvbmYgZmlsZVxuICAgICAgICAgICAgYm9keS5kZWxldGUoJ3JlZGlyZWN0X3VybCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnByb3BzLm1vZGUgPT09IE1PREVfRURJVCkge1xuICAgICAgICAgICAgYm9keS5kZWxldGUoJ25hbWUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF4aW9zQ2FsbFdyYXBwZXIoe1xuICAgICAgICAgICAgc2VydmljZU5hbWU6IHRoaXMuZW5kcG9pbnQsXG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgY3VzdG9tSGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgfSxcbiAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICAgICAgaGFuZGxlRXJyb3I6IGZhbHNlLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsID0gcmVzcG9uc2U/LmRhdGE/LmVudHJ5WzBdO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm1vZGUgIT09IE1PREVfQ09ORklHKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRtcE9iaiA9IHt9O1xuXG4gICAgICAgICAgICAgICAgICAgIHRtcE9ialt2YWwubmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBRERPTi0zODU4MTogYGRhdGFkaWN0YCBwcm92aWRlcyBmYWxsYmFjayB2YWx1ZXMgaWYgcmggc2tpcHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuZGF0YWRpY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi52YWwuY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB2YWwuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB2YWwubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VOYW1lOiB0aGlzLnByb3BzLnNlcnZpY2VOYW1lLFxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zZXRSb3dEYXRhKFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlKHRoaXMuY29udGV4dC5yb3dEYXRhLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3RoaXMucHJvcHMuc2VydmljZU5hbWVdOiB7ICRtZXJnZTogdG1wT2JqIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ob29rICYmIHR5cGVvZiB0aGlzLmhvb2sub25TYXZlU3VjY2VzcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvb2sub25TYXZlU3VjY2VzcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5tb2RlID09PSBNT0RFX0VESVQpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVUb2FzdChgVXBkYXRlZCBcIiR7dmFsLm5hbWV9XCJgLCAnc3VjY2VzcycpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5tb2RlID09PSBNT0RFX0NPTkZJRykge1xuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZVRvYXN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgYFVwZGF0ZWQgXCIke3RoaXMubW9kZV9jb25maWdfdGl0bGUgPyB0aGlzLm1vZGVfY29uZmlnX3RpdGxlIDogdmFsLm5hbWV9XCJgLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVUb2FzdChgQ3JlYXRlZCBcIiR7dmFsLm5hbWV9XCJgLCAnc3VjY2VzcycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmhhbmRsZUZvcm1TdWJtaXQoLyogaXNTdWJtaXR0aW5nICovIGZhbHNlLCAvKiBjbG9zZUVudGl0eSAqLyB0cnVlKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yU3VibWl0TXNnID0gcGFyc2VFcnJvck1zZyhlcnIpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJvck1zZzogZXJyb3JTdWJtaXRNc2cgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaG9vayAmJiB0eXBlb2YgdGhpcy5ob29rLm9uU2F2ZUZhaWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ob29rLm9uU2F2ZUZhaWwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVGb3JtU3VibWl0KC8qIGlzU3VibWl0dGluZyAqLyBmYWxzZSwgLyogY2xvc2VFbnRpdHkgKi8gZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGhhbmRsZUNoYW5nZSA9IChmaWVsZCwgdGFyZ2V0VmFsdWUpID0+IHtcbiAgICAgICAgY29uc3QgY2hhbmdlcyA9IHt9O1xuICAgICAgICBpZiAoZmllbGQgPT09ICdhdXRoX3R5cGUnKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmF1dGhNYXApLmZvckVhY2goKHR5cGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gdGFyZ2V0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXRoTWFwW3R5cGVdLmZvckVhY2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZXNbZV0gPSB7IGRpc3BsYXk6IHsgJHNldDogdHJ1ZSB9IH07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV0aE1hcFt0eXBlXS5mb3JFYWNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VzW2VdID0geyBkaXNwbGF5OiB7ICRzZXQ6IGZhbHNlIH0gfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kZXBlbmRlbmN5TWFwLmhhcyhmaWVsZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5kZXBlbmRlbmN5TWFwLmdldChmaWVsZCk7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh2YWx1ZSkuZm9yRWFjaCgobG9hZEZpZWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgIGxldCBsb2FkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHZhbHVlW2xvYWRGaWVsZF0uZm9yRWFjaCgoZGVwZW5kZW5jeSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXF1aXJlZCA9ICEhdGhpcy5lbnRpdGllcy5maW5kKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS5maWVsZCA9PT0gZGVwZW5kZW5jeTtcbiAgICAgICAgICAgICAgICAgICAgfSkucmVxdWlyZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY3kgPT09IGZpZWxkID8gdGFyZ2V0VmFsdWUgOiB0aGlzLnN0YXRlLmRhdGFbZGVwZW5kZW5jeV0udmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXF1aXJlZCAmJiAhY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2RlcGVuZGVuY3ldID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbZGVwZW5kZW5jeV0gPSBjdXJyZW50VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChsb2FkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZXNbbG9hZEZpZWxkXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY3lWYWx1ZXM6IHsgJHNldDogZGF0YSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHsgJHNldDogbnVsbCB9LFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNoYW5nZXNbZmllbGRdID0geyB2YWx1ZTogeyAkc2V0OiB0YXJnZXRWYWx1ZSB9IH07XG5cbiAgICAgICAgY29uc3QgbmV3RmllbGRzID0gdXBkYXRlKHRoaXMuc3RhdGUsIHsgZGF0YTogY2hhbmdlcyB9KTtcbiAgICAgICAgY29uc3QgdGVtcFN0YXRlID0gdGhpcy5jbGVhckFsbEVycm9yTXNnKG5ld0ZpZWxkcyk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUodGVtcFN0YXRlKTtcblxuICAgICAgICBpZiAodGhpcy5ob29rRGVmZXJyZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaG9va0RlZmVycmVkLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5ob29rLm9uQ2hhbmdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaG9vay5vbkNoYW5nZShmaWVsZCwgdGFyZ2V0VmFsdWUsIHRlbXBTdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYWRkQ3VzdG9tVmFsaWRhdG9yID0gKGZpZWxkLCB2YWxpZGF0b3JGdW5jKSA9PiB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5lbnRpdGllcy5maW5kSW5kZXgoKHgpID0+IHguZmllbGQgPT09IGZpZWxkKTtcbiAgICAgICAgY29uc3QgdmFsaWRhdG9yID0gW3sgdHlwZTogJ2N1c3RvbScsIHZhbGlkYXRvckZ1bmMgfV07XG4gICAgICAgIHRoaXMuZW50aXRpZXNbaW5kZXhdLnZhbGlkYXRvcnMgPSB2YWxpZGF0b3I7XG4gICAgfTtcblxuICAgIC8vIFNldCBlcnJvciBtZXNzYWdlIHRvIGRpc3BsYXkgYW5kIHNldCBlcnJvciBpbiBwZXJ0aWN1bGFyIGZpZWxkXG4gICAgc2V0RXJyb3JGaWVsZE1zZyA9IChmaWVsZCwgbXNnKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoKHByZXZpb3VzU3RhdGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0ZpZWxkcyA9IHVwZGF0ZShwcmV2aW91c1N0YXRlLCB7XG4gICAgICAgICAgICAgICAgZGF0YTogeyBbZmllbGRdOiB7IGVycm9yOiB7ICRzZXQ6IHRydWUgfSB9IH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5ld0ZpZWxkcy5lcnJvck1zZyA9IG1zZztcbiAgICAgICAgICAgIHJldHVybiBuZXdGaWVsZHM7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBTZXQgZXJyb3IgaW4gcGVydGljdWxhciBmaWVsZFxuICAgIHNldEVycm9yRmllbGQgPSAoZmllbGQpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSgocHJldmlvdXNTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZShwcmV2aW91c1N0YXRlLCB7IGRhdGE6IHsgW2ZpZWxkXTogeyBlcnJvcjogeyAkc2V0OiB0cnVlIH0gfSB9IH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gQ2xlYXIgZXJyb3IgbWVzc2FnZVxuICAgIGNsZWFyRXJyb3JNc2cgPSAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmVycm9yTXNnKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKChwcmV2aW91c1N0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ucHJldmlvdXNTdGF0ZSwgZXJyb3JNc2c6ICcnIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBTZXQgZXJyb3IgbWVzc2FnZVxuICAgIHNldEVycm9yTXNnID0gKG1zZykgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKChwcmV2aW91c1N0YXRlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5wcmV2aW91c1N0YXRlLCBlcnJvck1zZzogbXNnIH07XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBDbGVhciBlcnJvci93YXJuaW5nIG1lc3NhZ2UgYW5kIGVycm9ycyBmcm9tIGZpZWxkc1xuICAgIGNsZWFyQWxsRXJyb3JNc2cgPSAoU3RhdGUpID0+IHtcbiAgICAgICAgY29uc3QgbmV3RmllbGRzID0gU3RhdGUgPyB7IC4uLlN0YXRlIH0gOiB7IC4uLnRoaXMuc3RhdGUgfTtcbiAgICAgICAgbmV3RmllbGRzLmVycm9yTXNnID0gJyc7XG4gICAgICAgIG5ld0ZpZWxkcy53YXJuaW5nTXNnID0gJyc7XG4gICAgICAgIGNvbnN0IG5ld0RhdGEgPSBTdGF0ZSA/IHsgLi4uU3RhdGUuZGF0YSB9IDogeyAuLi50aGlzLnN0YXRlLmRhdGEgfTtcbiAgICAgICAgY29uc3QgdGVtRGF0YSA9IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyhuZXdEYXRhKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIGlmIChuZXdEYXRhW2tleV0uZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0ZW1EYXRhW2tleV0gPSB7IC4uLm5ld0RhdGFba2V5XSwgZXJyb3I6IGZhbHNlIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRlbURhdGFba2V5XSA9IG5ld0RhdGFba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG5ld0ZpZWxkcy5kYXRhID0gdGVtRGF0YTtcbiAgICAgICAgcmV0dXJuIFN0YXRlID8gbmV3RmllbGRzIDogbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gRGlzcGxheSBlcnJvciBtZXNzYWdlXG4gICAgZ2VuZXJhdGVFcnJvck1lc3NhZ2UgPSAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmVycm9yTXNnKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxNZXNzYWdlIGFwcGVhcmFuY2U9XCJmaWxsXCIgdHlwZT1cImVycm9yXCI+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmVycm9yTXNnfVxuICAgICAgICAgICAgICAgIDwvTWVzc2FnZT5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIGdlbmVyYXRlV2FybmluZ01lc3NhZ2UgPSAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLndhcm5pbmdNc2cpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPE1lc3NhZ2UgYXBwZWFyYW5jZT1cImZpbGxcIiB0eXBlPVwid2FybmluZ1wiPlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS53YXJuaW5nTXNnfVxuICAgICAgICAgICAgICAgIDwvTWVzc2FnZT5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIC8vIGdlbmVyYXRlc3VibWl0TWVzc2FnZVxuICAgIGxvYWRIb29rID0gKG1vZHVsZSwgdHlwZSwgZ2xvYmFsQ29uZmlnKSA9PiB7XG4gICAgICAgIGNvbnN0IG15UHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2V4dGVybmFsJykge1xuICAgICAgICAgICAgICAgIGltcG9ydCgvKiB3ZWJwYWNrSWdub3JlOiB0cnVlICovIGAke2dldEJ1aWxkRGlyUGF0aCgpfS9jdXN0b20vJHttb2R1bGV9LmpzYCkudGhlbihcbiAgICAgICAgICAgICAgICAgICAgKGV4dGVybmFsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBIb29rID0gZXh0ZXJuYWwuZGVmYXVsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG9vayA9IG5ldyBIb29rKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbENvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNlcnZpY2VOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5tb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXRpbFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoSG9vayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfX25vbl93ZWJwYWNrX3JlcXVpcmVfXyhcbiAgICAgICAgICAgICAgICAgICAgW2BhcHAvJHt0aGlzLmFwcE5hbWV9L2pzL2J1aWxkL2N1c3RvbS8ke21vZHVsZX1gXSxcbiAgICAgICAgICAgICAgICAgICAgKEhvb2spID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG9vayA9IG5ldyBIb29rKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbENvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNlcnZpY2VOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5tb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXRpbFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoSG9vayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG15UHJvbWlzZTtcbiAgICB9O1xuXG4gICAgLypcbiAgICAgKiBGdW5jdGlvbiB0byBnZXQgYWNjZXNzIHRva2VuLCByZWZyZXNoIHRva2VuIGFuZCBpbnN0YW5jZSB1cmxcbiAgICAgKiB1c2luZyByZXN0IGNhbGwgb25jZSBvYXV0aCBjb2RlIHJlY2VpdmVkIGZyb20gY2hpbGQgd2luZG93XG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gICAgaGFuZGxlT2F1dGhUb2tlbiA9IChtZXNzYWdlKSA9PiB7XG4gICAgICAgIC8vIENoZWNrIG1lc3NhZ2UgZm9yIGVycm9yLiBJZiBlcnJvciBzaG93IGVycm9yIG1lc3NhZ2UuXG4gICAgICAgIGlmICghbWVzc2FnZSB8fCAobWVzc2FnZSAmJiBtZXNzYWdlLmVycm9yKSB8fCBtZXNzYWdlLmNvZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRFcnJvck1zZyhFUlJPUl9PQ0NVUlJFRF9UUllfQUdBSU4pO1xuICAgICAgICAgICAgdGhpcy5pc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuaXNSZXNwb25zZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdGVSZXNwb25zZSA9IG1lc3NhZ2Uuc3RhdGU7XG5cbiAgICAgICAgaWYgKHRoaXMuc3RhdGVfZW5hYmxlZCA9PT0gdHJ1ZSAmJiB0aGlzLm9hdXRoX3N0YXRlICE9PSBzdGF0ZVJlc3BvbnNlKSB7XG4gICAgICAgICAgICB0aGlzLnNldEVycm9yTXNnKEVSUk9SX1NUQVRFX01JU1NJTkdfVFJZX0FHQUlOKTtcbiAgICAgICAgICAgIHRoaXMuaXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmlzUmVzcG9uc2UgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudChtZXNzYWdlLmNvZGUpO1xuICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICB1cmw6IGBodHRwczovLyR7dGhpcy5kYXRhZGljdC5lbmRwb2ludH0ke3RoaXMub2F1dGhDb25mLmFjY2Vzc1Rva2VuRW5kcG9pbnR9YCxcbiAgICAgICAgICAgIGdyYW50X3R5cGU6ICdhdXRob3JpemF0aW9uX2NvZGUnLFxuICAgICAgICAgICAgY2xpZW50X2lkOiB0aGlzLmRhdGFkaWN0LmNsaWVudF9pZCxcbiAgICAgICAgICAgIGNsaWVudF9zZWNyZXQ6IHRoaXMuZGF0YWRpY3QuY2xpZW50X3NlY3JldCxcbiAgICAgICAgICAgIGNvZGUsXG4gICAgICAgICAgICByZWRpcmVjdF91cmk6IHRoaXMuZGF0YWRpY3QucmVkaXJlY3RfdXJsLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGJvZHkgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgYm9keS5hcHBlbmQoa2V5LCBkYXRhW2tleV0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBPQXV0aEVuZHBvaW50ID0gYCR7dGhpcy5hcHBOYW1lfV9vYXV0aC9vYXV0aGA7XG4gICAgICAgIC8vIEludGVybmFsIGhhbmRsZXIgY2FsbCB0byBnZXQgdGhlIGFjY2VzcyB0b2tlbiBhbmQgb3RoZXIgdmFsdWVzXG4gICAgICAgIGF4aW9zQ2FsbFdyYXBwZXIoe1xuICAgICAgICAgICAgZW5kcG9pbnRVcmw6IE9BdXRoRW5kcG9pbnQsXG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgY3VzdG9tSGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgfSxcbiAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICAgICAgaGFuZGxlRXJyb3I6IGZhbHNlLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZW50cnlbMF0uY29udGVudC5lcnJvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gcmVzcG9uc2UuZGF0YS5lbnRyeVswXS5jb250ZW50LmFjY2Vzc190b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5zdGFuY2VVcmwgPSByZXNwb25zZS5kYXRhLmVudHJ5WzBdLmNvbnRlbnQuaW5zdGFuY2VfdXJsO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWZyZXNoVG9rZW4gPSByZXNwb25zZS5kYXRhLmVudHJ5WzBdLmNvbnRlbnQucmVmcmVzaF90b2tlbjtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFkaWN0Lmluc3RhbmNlX3VybCA9IGluc3RhbmNlVXJsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFkaWN0LnJlZnJlc2hfdG9rZW4gPSByZWZyZXNoVG9rZW47XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YWRpY3QuYWNjZXNzX3Rva2VuID0gYWNjZXNzVG9rZW47XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNSZXNwb25zZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNldEVycm9yTXNnKHJlc3BvbnNlLmRhdGEuZW50cnlbMF0uY29udGVudC5lcnJvcik7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzUmVzcG9uc2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RXJyb3JNc2coRVJST1JfT0NDVVJSRURfVFJZX0FHQUlOKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNSZXNwb25zZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIEZ1bmN0aW9uIHRvIHdhaXQgZm9yIGF1dGhlbnRpY2F0aW9uIGNhbGwgYmFjayBpbiBjaGlsZCB3aW5kb3cuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gICAgd2FpdEZvckF1dGhlbnRpY2F0aW9uID0gYXN5bmMgKGNvdW50KSA9PiB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBjb3VudCAtPSAxO1xuICAgICAgICAvLyBDaGVjayBpZiBjYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgaWYgY2FsbGVkIHRoZW4gZXhpdCBmcm9tIHdhaXRcbiAgICAgICAgaWYgKHRoaXMuaXNDYWxsZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIG5vdCBjYWxsZWQgYW5kIGNvdW50IGlzIG5vdCByZWFjaGVkIHRvIDE4MCB0aGVuIHJldHVybiBlcnJvciBmb3IgdGltZW91dFxuICAgICAgICBpZiAoY291bnQgPT09IDAgfHwgdGhpcy5jaGlsZFdpbi5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZWxzZSBjYWxsIHNsZWVwIGFuZCByZWNhbGwgdGhlIHNhbWUgZnVuY3Rpb25cbiAgICAgICAgYXdhaXQgdGhpcy5zbGVlcCh0aGlzLndhaXRGb3JBdXRoZW50aWNhdGlvbiwgY291bnQpO1xuICAgIH07XG5cbiAgICAvLyBGdW5jdGlvbiB0byB3YWl0IGZvciBiYWNrZW5kIGNhbGwgZ2V0IHJlc3BvbnNlIGZyb20gYmFja2VuZFxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gICAgd2FpdEZvckJhY2tlbmRSZXNwb25zZSA9IGFzeW5jIChjb3VudCkgPT4ge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgY291bnQgKz0gMTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgY2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIGlmIGNhbGxlZCB0aGVuIGV4aXQgZnJvbSB3YWl0XG4gICAgICAgIGlmICh0aGlzLmlzUmVzcG9uc2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIG5vdCBjYWxsZWQgYW5kIGNvdW50IGlzIG5vdCByZWFjaGVkIHRvIDYwIHRoZW4gcmV0dXJuIGVycm9yIGZvciB0aW1lb3V0XG4gICAgICAgIGlmIChjb3VudCA9PT0gNjApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlbHNlIGNhbGwgc2xlZXAgYW5kIHJlY2FsbCB0aGUgc2FtZSBmdW5jdGlvblxuICAgICAgICBhd2FpdCB0aGlzLnNsZWVwKHRoaXMud2FpdEZvckJhY2tlbmRSZXNwb25zZSwgY291bnQpO1xuICAgIH07XG5cbiAgICAvKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gZmlyc3QgYWRkIHNsZWVwIGZvciAxIHNlY3MgYW5kIHRoZSBjYWxsIHRoZSBmdW5jdGlvbiBwYXNzZWQgaW4gYXJndW1lbnRcbiAgICAgKi9cbiAgICBzbGVlcCA9IGFzeW5jIChmbiwgLi4uYXJncykgPT4ge1xuICAgICAgICBhd2FpdCB0aGlzLnRpbWVvdXQoMTAwMCk7XG4gICAgICAgIHJldHVybiBmbiguLi5hcmdzKTtcbiAgICB9O1xuXG4gICAgLypcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgcmVzb2x2ZSB0aGUgcHJvbWlzZSBvbmNlIHRoZSBwcm92aWRlZCB0aW1lb3V0IG9jY3Vyc1xuICAgICAqL1xuICAgIHRpbWVvdXQgPSAobXMpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG4gICAgfTtcblxuICAgIHJlbmRlckdyb3VwRWxlbWVudHMgPSAoKSA9PiB7XG4gICAgICAgIGxldCBlbCA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmdyb3VwcyAmJiB0aGlzLmdyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGVsID0gdGhpcy5ncm91cHMubWFwKChncm91cCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbGxwc2libGVFbGVtZW50ID1cbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAuZmllbGRzPy5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAuZmllbGRzLm1hcCgoZmllbGROYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbnRpdGllcy5tYXAoKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5maWVsZCA9PT0gZmllbGROYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbVN0YXRlID0gdGhpcy5zdGF0ZS5kYXRhW2UuZmllbGRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbnRyb2xXcmFwcGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtlLmZpZWxkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxpdHlGdW5jdHM9e3RoaXMudXRpbENvbnRyb2xXcmFwcGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0ZW1TdGF0ZS52YWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5PXt0ZW1TdGF0ZS5kaXNwbGF5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yPXt0ZW1TdGF0ZS5lcnJvcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHk9e2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZU5hbWU9e3RoaXMucHJvcHMuc2VydmljZU5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZT17dGhpcy5wcm9wcy5tb2RlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0ZW1TdGF0ZS5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZG93bk1lc3NhZ2U9e3RlbVN0YXRlLm1hcmtkb3duTWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmN5VmFsdWVzPXt0ZW1TdGF0ZS5kZXBlbmRlbmN5VmFsdWVzIHx8IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBncm91cC5vcHRpb25zLmlzRXhwYW5kYWJsZSA/IChcbiAgICAgICAgICAgICAgICAgICAgPENvbGxhcHNpYmxlUGFuZWxXcmFwcGVyIHRpdGxlPXtncm91cC5sYWJlbH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbGxhcHNpYmxlLWVsZW1lbnRcIj57Y29sbHBzaWJsZUVsZW1lbnR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvQ29sbGFwc2libGVQYW5lbFdyYXBwZXI+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxDdXN0b21Hcm91cExhYmVsPntncm91cC5sYWJlbH08L0N1c3RvbUdyb3VwTGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2Pntjb2xscHNpYmxlRWxlbWVudH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9O1xuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICAvLyBvblJlbmRlciBtZXRob2Qgb2YgSG9va1xuICAgICAgICBpZiAodGhpcy5mbGFnKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ob29rRGVmZXJyZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhvb2tEZWZlcnJlZC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmhvb2sub25SZW5kZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob29rLm9uUmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5tb2RlID09PSBNT0RFX0VESVQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ob29rRGVmZXJyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ob29rRGVmZXJyZWQudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuaG9vay5vbkVkaXRMb2FkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob29rLm9uRWRpdExvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5mbGFnID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGZvcm0gc3R5bGU9e3RoaXMucHJvcHMubW9kZSA9PT0gTU9ERV9DT05GSUcgPyB7IG1hcmdpblRvcDogJzI1cHgnIH0gOiB7fX0+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLmdlbmVyYXRlV2FybmluZ01lc3NhZ2UoKX1cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2VuZXJhdGVFcnJvck1lc3NhZ2UoKX1cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucmVuZGVyR3JvdXBFbGVtZW50cygpfVxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5lbnRpdGllcy5tYXAoKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiBudWxsIGlmIHdlIG5lZWQgdG8gc2hvdyBlbGVtZW50IGluIGEgZ3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmlzR3JvdXBpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbVN0YXRlID0gdGhpcy5zdGF0ZS5kYXRhW2UuZmllbGRdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtU3RhdGUucGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7IC4uLmUub3B0aW9ucywgcGxhY2Vob2xkZXI6IHRlbVN0YXRlLnBsYWNlaG9sZGVyIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29udHJvbFdyYXBwZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtlLmZpZWxkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsaXR5RnVuY3RzPXt0aGlzLnV0aWxDb250cm9sV3JhcHBlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RlbVN0YXRlLnZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5PXt0ZW1TdGF0ZS5kaXNwbGF5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcj17dGVtU3RhdGUuZXJyb3J9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eT17ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZU5hbWU9e3RoaXMucHJvcHMuc2VydmljZU5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU9e3RoaXMucHJvcHMubW9kZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RlbVN0YXRlLmRpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZG93bk1lc3NhZ2U9e3RlbVN0YXRlLm1hcmtkb3duTWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jeVZhbHVlcz17dGVtU3RhdGUuZGVwZW5kZW5jeVZhbHVlcyB8fCBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbkJhc2VGb3JtVmlldy5wcm9wVHlwZXMgPSB7XG4gICAgcGFnZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBzZXJ2aWNlTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBzdGFuemFOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGN1cnJlbnRTZXJ2aWNlU3RhdGU6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgbW9kZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBoYW5kbGVGb3JtU3VibWl0OiBQcm9wVHlwZXMuZnVuYyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJhc2VGb3JtVmlldztcbiIsImV4cG9ydCBjb25zdCBFUlJPUl9SRVFVRVNUX1RJTUVPVVRfVFJZX0FHQUlOID0gJ1JlcXVlc3QgdGltZSBvdXQgd2hpbGUgYXV0aGVudGljYXRpbmcuIFBsZWFzZSB0cnkgYWdhaW4uJztcbmV4cG9ydCBjb25zdCBFUlJPUl9SRVFVRVNUX1RJTUVPVVRfQUNDRVNTX1RPS0VOX1RSWV9BR0FJTiA9ICdSZXF1ZXN0IHRpbWUgb3V0IHdoaWxlIGdldHRpbmcgYWNjZXNzdG9rZW4uIFBsZWFzZSB0cnkgYWdhaW4uJztcbmV4cG9ydCBjb25zdCBFUlJPUl9PQ0NVUlJFRF9UUllfQUdBSU4gPSBcIkVycm9yIG9jY3VycmVkIHdoaWxlIHRyeWluZyB0byBhdXRoZW50aWNhdGUuIFBsZWFzZSB0cnkgQWdhaW4uXCI7XG5leHBvcnQgY29uc3QgRVJST1JfQVVUSF9QUk9DRVNTX1RFUk1JTkFURURfVFJZX0FHQUlOID0gXCJBdXRoZW50aWNhdGlvbiBwcm9jZXNzIGludGVycnVwdGVkLiBQbGVhc2UgdHJ5IGFnYWluLlwiO1xuZXhwb3J0IGNvbnN0IEVSUk9SX1NUQVRFX01JU1NJTkdfVFJZX0FHQUlOID0gXCJSZXNwb25zZSBub3QgcmVjZWl2ZWQgZnJvbSB0aGUgZXhwZWN0ZWQgc2VuZGVyLiBQbGVhc2UgdHJ5IGFnYWluLlwiOyIsImV4cG9ydCBjb25zdCBTVFlMRV9QQUdFID0gJ3BhZ2UnO1xuZXhwb3J0IGNvbnN0IFNUWUxFX01PREFMID0gJ21vZGFsJztcbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgXyB9IGZyb20gJ0BzcGx1bmsvdWktdXRpbHMvaTE4bic7XG5cbmltcG9ydCB7IGdldFVuaWZpZWRDb25maWdzIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsJztcbmltcG9ydCB7IGdldEJ1aWxkRGlyUGF0aCB9IGZyb20gJy4uLy4uL3V0aWwvc2NyaXB0JztcblxuY2xhc3MgQ3VzdG9tVGFibGVDb250cm9sIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNob3VsZFJlbmRlciA9IHRydWU7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGNvbnN0IGdsb2JhbENvbmZpZyA9IGdldFVuaWZpZWRDb25maWdzKCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBsb2FkaW5nOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLmxvYWRDdXN0b21Db250cm9sKCkudGhlbigoQ29udHJvbCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jdXN0b21Db250cm9sID0gbmV3IENvbnRyb2woXG4gICAgICAgICAgICAgICAgZ2xvYmFsQ29uZmlnLFxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc2VydmljZU5hbWUsXG4gICAgICAgICAgICAgICAgdGhpcy5lbCxcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnJvdyxcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmZpZWxkXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmc6IGZhbHNlIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucm93ICE9PSBuZXh0UHJvcHMucm93KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5leHRTdGF0ZS5sb2FkaW5nICYmIHRoaXMuc2hvdWxkUmVuZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNob3VsZFJlbmRlciA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGxvYWRDdXN0b21Db250cm9sID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnR5cGUgPT09ICdleHRlcm5hbCcpIHtcbiAgICAgICAgICAgICAgICBpbXBvcnQoXG4gICAgICAgICAgICAgICAgICAgIC8qIHdlYnBhY2tJZ25vcmU6IHRydWUgKi8gYCR7Z2V0QnVpbGREaXJQYXRoKCl9L2N1c3RvbS8ke1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5maWxlTmFtZVxuICAgICAgICAgICAgICAgICAgICB9LmpzYFxuICAgICAgICAgICAgICAgICkudGhlbigoZXh0ZXJuYWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgQ29udHJvbCA9IGV4dGVybmFsLmRlZmF1bHQ7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoQ29udHJvbCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdsb2JhbENvbmZpZyA9IGdldFVuaWZpZWRDb25maWdzKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYXBwTmFtZSA9IGdsb2JhbENvbmZpZy5tZXRhLm5hbWU7XG4gICAgICAgICAgICAgICAgX19ub25fd2VicGFja19yZXF1aXJlX18oXG4gICAgICAgICAgICAgICAgICAgIFtgYXBwLyR7YXBwTmFtZX0vanMvYnVpbGQvY3VzdG9tLyR7dGhpcy5wcm9wcy5maWxlTmFtZX1gXSxcbiAgICAgICAgICAgICAgICAgICAgKENvbnRyb2wpID0+IHJlc29sdmUoQ29udHJvbClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBpZiAoIXRoaXMuc3RhdGUubG9hZGluZykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbUNvbnRyb2wucmVuZGVyKHRoaXMucHJvcHMucm93LCB0aGlzLnByb3BzLmZpZWxkKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmxvYWRpbmcgJiYgXygnTG9hZGluZy4uLicpfVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gLy8gbm9zZW1ncmVwOiB0eXBlc2NyaXB0LnJlYWN0LnNlY3VyaXR5LmF1ZGl0LnJlYWN0LW5vLXJlZnMucmVhY3Qtbm8tcmVmc1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXsoZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsID0gZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgdmlzaWJpbGl0eTogdGhpcy5zdGF0ZS5sb2FkaW5nID8gJ2hpZGRlbicgOiAndmlzaWJsZScgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbkN1c3RvbVRhYmxlQ29udHJvbC5wcm9wVHlwZXMgPSB7XG4gICAgc2VydmljZU5hbWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICByb3c6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBmaWVsZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBmaWxlTmFtZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIHR5cGU6IFByb3BUeXBlcy5zdHJpbmcsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBDdXN0b21UYWJsZUNvbnRyb2w7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IERMIGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvRGVmaW5pdGlvbkxpc3QnO1xuaW1wb3J0IFRhYmxlIGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvVGFibGUnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBfIH0gZnJvbSAnQHNwbHVuay91aS11dGlscy9pMThuJztcblxuaW1wb3J0IEN1c3RvbVRhYmxlQ29udHJvbCBmcm9tICcuL0N1c3RvbVRhYmxlQ29udHJvbCc7XG5pbXBvcnQgeyBnZXRVbmlmaWVkQ29uZmlncyB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5cbmNvbnN0IFRhYmxlQ2VsbFdyYXBwZXIgPSBzdHlsZWQoVGFibGUuQ2VsbClgXG4gICAgYm9yZGVyLXRvcDogbm9uZTtcbmA7XG5cbmZ1bmN0aW9uIGdldEV4cGFuc2lvblJvd0RhdGEocm93LCBtb3JlSW5mbykge1xuICAgIGNvbnN0IERlZmluaXRpb25MaXN0cyA9IFtdO1xuXG4gICAgaWYgKG1vcmVJbmZvPy5sZW5ndGgpIHtcbiAgICAgICAgbW9yZUluZm8uZm9yRWFjaCgodmFsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IF8odmFsLmxhYmVsKTtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBleHRyYSByb3dzIHdoaWNoIGFyZSBlbXB0eSBpbiBtb3JlSW5mb1xuICAgICAgICAgICAgaWYgKHZhbC5maWVsZCBpbiByb3cgJiYgcm93W3ZhbC5maWVsZF0gIT09IG51bGwgJiYgcm93W3ZhbC5maWVsZF0gIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgRGVmaW5pdGlvbkxpc3RzLnB1c2goPERMLlRlcm0ga2V5PXt2YWwuZmllbGR9PntsYWJlbH08L0RMLlRlcm0+KTtcbiAgICAgICAgICAgICAgICBEZWZpbml0aW9uTGlzdHMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgPERMLkRlc2NyaXB0aW9uIGtleT17YCR7dmFsLmZpZWxkfV9kZWNyYH0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dmFsLm1hcHBpbmcgJiYgdmFsLm1hcHBpbmdbcm93W3ZhbC5maWVsZF1dXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB2YWwubWFwcGluZ1tyb3dbdmFsLmZpZWxkXV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFN0cmluZyhyb3dbdmFsLmZpZWxkXSl9XG4gICAgICAgICAgICAgICAgICAgIDwvREwuRGVzY3JpcHRpb24+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBEZWZpbml0aW9uTGlzdHM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFeHBhbnNpb25Sb3coY29sU3Bhbiwgcm93LCBtb3JlSW5mbykge1xuICAgIGNvbnN0IHsgY3VzdG9tUm93IH0gPSBnZXRVbmlmaWVkQ29uZmlncygpLnBhZ2VzLmlucHV0cy50YWJsZTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxUYWJsZS5Sb3cga2V5PXtgJHtyb3cuaWR9LWV4cGFuc2lvbmB9PlxuICAgICAgICAgICAgPFRhYmxlQ2VsbFdyYXBwZXIgY29sU3Bhbj17Y29sU3Bhbn0+XG4gICAgICAgICAgICAgICAge2N1c3RvbVJvdyAmJiBjdXN0b21Sb3cuc3JjID8gKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAge1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ3VzdG9tVGFibGVDb250cm9sLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZU5hbWU6IHJvdy5zZXJ2aWNlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWU6IGN1c3RvbVJvdy5zcmMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPERMIHRlcm1XaWR0aD17MjUwfT57Z2V0RXhwYW5zaW9uUm93RGF0YShyb3csIG1vcmVJbmZvKX08L0RMPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L1RhYmxlQ2VsbFdyYXBwZXI+XG4gICAgICAgIDwvVGFibGUuUm93PlxuICAgICk7XG59XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5pbXBvcnQgV2FpdFNwaW5uZXIgZnJvbSAnQHNwbHVuay9yZWFjdC11aS9XYWl0U3Bpbm5lcic7XG5pbXBvcnQgU3dpdGNoIGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvU3dpdGNoJztcbmltcG9ydCBUYWJsZSBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL1RhYmxlJztcbmltcG9ydCBCdXR0b25Hcm91cCBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL0J1dHRvbkdyb3VwJztcbmltcG9ydCBUb29sdGlwIGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvVG9vbHRpcCc7XG5pbXBvcnQgUGVuY2lsIGZyb20gJ0BzcGx1bmsvcmVhY3QtaWNvbnMvUGVuY2lsJztcbmltcG9ydCBDbG9uZSBmcm9tICdAc3BsdW5rL3JlYWN0LWljb25zL0Nsb25lJztcbmltcG9ydCBUcmFzaCBmcm9tICdAc3BsdW5rL3JlYWN0LWljb25zL1RyYXNoJztcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgXyB9IGZyb20gJ0BzcGx1bmsvdWktdXRpbHMvaTE4bic7XG5cbmltcG9ydCBDdXN0b21UYWJsZUNvbnRyb2wgZnJvbSAnLi9DdXN0b21UYWJsZUNvbnRyb2wnO1xuaW1wb3J0IHsgQWN0aW9uQnV0dG9uQ29tcG9uZW50IH0gZnJvbSAnLi9DdXN0b21UYWJsZVN0eWxlJztcblxuY29uc3QgVGFibGVDZWxsV3JhcHBlciA9IHN0eWxlZChUYWJsZS5DZWxsKWBcbiAgICBwYWRkaW5nOiAycHg7XG5gO1xuXG5jb25zdCBTd2l0Y2hXcmFwcGVyID0gc3R5bGVkLmRpdmBcbiAgICBkaXNwbGF5OiBmbGV4O1xuXG4gICAgLnRvZ2dsZV9zd2l0Y2gge1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gICAgfVxuYDtcblxuZnVuY3Rpb24gQ3VzdG9tVGFibGVSb3cocHJvcHMpIHtcbiAgICBjb25zdCB7XG4gICAgICAgIHJvdyxcbiAgICAgICAgY29sdW1ucyxcbiAgICAgICAgaGVhZGVyTWFwcGluZyxcbiAgICAgICAgaGFuZGxlVG9nZ2xlQWN0aW9uQ2xpY2ssXG4gICAgICAgIGhhbmRsZUVkaXRBY3Rpb25DbGljayxcbiAgICAgICAgaGFuZGxlQ2xvbmVBY3Rpb25DbGljayxcbiAgICAgICAgaGFuZGxlRGVsZXRlQWN0aW9uQ2xpY2ssXG4gICAgfSA9IHByb3BzO1xuXG4gICAgY29uc3QgZ2V0Q3VzdG9tQ2VsbCA9IChjdXN0b21Sb3csIGhlYWRlcikgPT4ge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDdXN0b21UYWJsZUNvbnRyb2wsIHtcbiAgICAgICAgICAgIHNlcnZpY2VOYW1lOiByb3cuc2VydmljZU5hbWUsXG4gICAgICAgICAgICBmaWVsZDogaGVhZGVyLmZpZWxkLFxuICAgICAgICAgICAgcm93OiBjdXN0b21Sb3csXG4gICAgICAgICAgICBmaWxlTmFtZTogaGVhZGVyLmN1c3RvbUNlbGwuc3JjLFxuICAgICAgICAgICAgdHlwZTogaGVhZGVyLmN1c3RvbUNlbGwudHlwZSxcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJvd0FjdGlvbnNQcmltYXJ5QnV0dG9uID0gdXNlQ2FsbGJhY2soXG4gICAgICAgIChzZWxlY3RlZFJvdykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8VGFibGVDZWxsV3JhcHBlciBkYXRhLWNvbHVtbj1cImFjdGlvbnNcIiBrZXk9e3NlbGVjdGVkUm93LmlkfT5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbkdyb3VwPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRvb2x0aXAgY29udGVudD17XygnRWRpdCcpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QWN0aW9uQnV0dG9uQ29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVhcmFuY2U9XCJmbGF0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj17PFBlbmNpbCBzY3JlZW5SZWFkZXJUZXh0PXtudWxsfSBzaXplPXsxfSAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlRWRpdEFjdGlvbkNsaWNrKHNlbGVjdGVkUm93KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZWRpdEJ0blwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxUb29sdGlwIGNvbnRlbnQ9e18oJ0Nsb25lJyl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBY3Rpb25CdXR0b25Db21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZWFyYW5jZT1cImZsYXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPXs8Q2xvbmUgc2NyZWVuUmVhZGVyVGV4dD17bnVsbH0gc2l6ZT17MX0gLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUNsb25lQWN0aW9uQ2xpY2soc2VsZWN0ZWRSb3cpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9uZUJ0blwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxUb29sdGlwIGNvbnRlbnQ9e18oJ0RlbGV0ZScpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QWN0aW9uQnV0dG9uQ29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVhcmFuY2U9XCJkZXN0cnVjdGl2ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxUcmFzaCBzY3JlZW5SZWFkZXJUZXh0PXtudWxsfSBzaXplPXsxfSAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlRGVsZXRlQWN0aW9uQ2xpY2soc2VsZWN0ZWRSb3cpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkZWxldGVCdG5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uR3JvdXA+XG4gICAgICAgICAgICAgICAgPC9UYWJsZUNlbGxXcmFwcGVyPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgW2hhbmRsZUVkaXRBY3Rpb25DbGljaywgaGFuZGxlQ2xvbmVBY3Rpb25DbGljaywgaGFuZGxlRGVsZXRlQWN0aW9uQ2xpY2tdXG4gICAgKTtcblxuICAgIGxldCBzdGF0dXNDb250ZW50ID0gJ0VuYWJsZWQnO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlcnNjb3JlLWRhbmdsZVxuICAgIGlmIChyb3cuX190b2dnbGVTaG93U3Bpbm5lcikge1xuICAgICAgICBzdGF0dXNDb250ZW50ID0gPFdhaXRTcGlubmVyIC8+O1xuICAgIH0gZWxzZSBpZiAocm93LmRpc2FibGVkKSB7XG4gICAgICAgIHN0YXR1c0NvbnRlbnQgPVxuICAgICAgICAgICAgaGVhZGVyTWFwcGluZz8uZGlzYWJsZWQgJiYgaGVhZGVyTWFwcGluZy5kaXNhYmxlZFtyb3cuZGlzYWJsZWRdXG4gICAgICAgICAgICAgICAgPyBoZWFkZXJNYXBwaW5nLmRpc2FibGVkW3Jvdy5kaXNhYmxlZF1cbiAgICAgICAgICAgICAgICA6ICdEaXNhYmxlZCc7XG4gICAgfVxuXG4gICAgLy8gRml4IHNldCBvZiBwcm9wcyBhcmUgcGFzc2VkIHRvIFRhYmxlLlJvdyBlbGVtZW50XG4gICAgcmV0dXJuIChcbiAgICAgICAgPD5cbiAgICAgICAgICAgIDxUYWJsZS5Sb3cgLy8gbm9zZW1ncmVwOiB0eXBlc2NyaXB0LnJlYWN0LnNlY3VyaXR5LmF1ZGl0LnJlYWN0LXByb3BzLWluamVjdGlvbi5yZWFjdC1wcm9wcy1pbmplY3Rpb24sIHR5cGVzY3JpcHQucmVhY3QuYmVzdC1wcmFjdGljZS5yZWFjdC1wcm9wcy1zcHJlYWRpbmcucmVhY3QtcHJvcHMtc3ByZWFkaW5nXG4gICAgICAgICAgICAgICAga2V5PXtyb3cuaWR9XG4gICAgICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtjb2x1bW5zICYmXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbnMubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbnMubWFwKChoZWFkZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjZWxsSFRNTCA9ICcnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGVhZGVyLmN1c3RvbUNlbGwgJiYgaGVhZGVyLmN1c3RvbUNlbGwuc3JjKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbEhUTUwgPSAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5DZWxsIGRhdGEtY29sdW1uPXtoZWFkZXIuZmllbGR9IGtleT17aGVhZGVyLmZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtnZXRDdXN0b21DZWxsKHJvdywgaGVhZGVyKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZS5DZWxsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhlYWRlci5maWVsZCA9PT0gJ2Rpc2FibGVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxIVE1MID0gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGUuQ2VsbCBkYXRhLWNvbHVtbj17aGVhZGVyLmZpZWxkfSBrZXk9e2hlYWRlci5maWVsZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3dpdGNoV3JhcHBlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3dpdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17cm93Lm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtyb3cuZGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVRvZ2dsZUFjdGlvbkNsaWNrKHJvdyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkPXshcm93LmRpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZXJzY29yZS1kYW5nbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3Jvdy5fX3RvZ2dsZVNob3dTcGlubmVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlYXJhbmNlPVwidG9nZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidG9nZ2xlX3N3aXRjaFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFiZWw9e18oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJNYXBwaW5nPy5kaXNhYmxlZD8uZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGhlYWRlck1hcHBpbmcuZGlzYWJsZWQuZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdFbmFibGVkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNlbGVjdGVkTGFiZWw9e18oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJNYXBwaW5nPy5kaXNhYmxlZD8udHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaGVhZGVyTWFwcGluZy5kaXNhYmxlZC50cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnRGlzYWJsZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBkYXRhLXRlc3Q9XCJzdGF0dXNcIj57c3RhdHVzQ29udGVudH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1N3aXRjaFdyYXBwZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGUuQ2VsbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoZWFkZXIuZmllbGQgPT09ICdhY3Rpb25zJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxIVE1MID0gcm93QWN0aW9uc1ByaW1hcnlCdXR0b24ocm93KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbEhUTUwgPSAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5DZWxsIGRhdGEtY29sdW1uPXtoZWFkZXIuZmllbGR9IGtleT17aGVhZGVyLmZpZWxkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtoZWFkZXJNYXBwaW5nW2hlYWRlci5maWVsZF0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJNYXBwaW5nW2hlYWRlci5maWVsZF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93W2hlYWRlci5maWVsZF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGhlYWRlck1hcHBpbmdbaGVhZGVyLmZpZWxkXVtyb3dbaGVhZGVyLmZpZWxkXV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHJvd1toZWFkZXIuZmllbGRdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlLkNlbGw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjZWxsSFRNTDtcbiAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L1RhYmxlLlJvdz5cbiAgICAgICAgPC8+XG4gICAgKTtcbn1cblxuQ3VzdG9tVGFibGVSb3cucHJvcFR5cGVzID0ge1xuICAgIHJvdzogUHJvcFR5cGVzLmFueSxcbiAgICBjb2x1bW5zOiBQcm9wVHlwZXMuYXJyYXksXG4gICAgaGVhZGVyTWFwcGluZzogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBoYW5kbGVUb2dnbGVBY3Rpb25DbGljazogUHJvcFR5cGVzLmZ1bmMsXG4gICAgaGFuZGxlRWRpdEFjdGlvbkNsaWNrOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBoYW5kbGVDbG9uZUFjdGlvbkNsaWNrOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBoYW5kbGVEZWxldGVBY3Rpb25DbGljazogUHJvcFR5cGVzLmZ1bmMsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBSZWFjdC5tZW1vKEN1c3RvbVRhYmxlUm93KTtcbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL0J1dHRvbic7XG5pbXBvcnQgTW9kYWwgZnJvbSAnQHNwbHVuay9yZWFjdC11aS9Nb2RhbCc7XG5pbXBvcnQgTWVzc2FnZSBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL01lc3NhZ2UnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgV2FpdFNwaW5uZXIgZnJvbSAnQHNwbHVuay9yZWFjdC11aS9XYWl0U3Bpbm5lcic7XG5pbXBvcnQgdXBkYXRlIGZyb20gJ2ltbXV0YWJpbGl0eS1oZWxwZXInO1xuaW1wb3J0IHsgXyB9IGZyb20gJ0BzcGx1bmsvdWktdXRpbHMvaTE4bic7XG5pbXBvcnQgeyBnZW5lcmF0ZVRvYXN0IH0gZnJvbSAnLi4vdXRpbC91dGlsJztcblxuaW1wb3J0IHsgYXhpb3NDYWxsV3JhcHBlciB9IGZyb20gJy4uL3V0aWwvYXhpb3NDYWxsV3JhcHBlcic7XG5pbXBvcnQgVGFibGVDb250ZXh0IGZyb20gJy4uL2NvbnRleHQvVGFibGVDb250ZXh0JztcbmltcG9ydCB7IHBhcnNlRXJyb3JNc2csIGdldEZvcm1hdHRlZE1lc3NhZ2UgfSBmcm9tICcuLi91dGlsL21lc3NhZ2VVdGlsJztcbmltcG9ydCB7IFBBR0VfSU5QVVQgfSBmcm9tICcuLi9jb25zdGFudHMvcGFnZXMnO1xuXG5jb25zdCBNb2RhbFdyYXBwZXIgPSBzdHlsZWQoTW9kYWwpYFxuICAgIHdpZHRoOiA4MDBweDtcbmA7XG5cbmNsYXNzIERlbGV0ZU1vZGFsIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgY29udGV4dFR5cGUgPSBUYWJsZUNvbnRleHQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7IGlzRGVsZXRpbmc6IGZhbHNlLCBFcnJvck1zZzogJycgfTtcbiAgICB9XG5cbiAgICBoYW5kbGVSZXF1ZXN0Q2xvc2UgPSAoKSA9PiB7XG4gICAgICAgIC8vIHNldCBFcnJvck1zZyB0byBlbXB0eSBzdHJpbmcgb24gY2xvc2Ugb3IgY2FuY2VsXG4gICAgICAgIC8vIHNvIHRoYXQgb24gYWdhaW4gb3BlbiBvZiBtb2RhbCBpdCBkb2VzIG5vdCBzaG93IHRoZSBzYW1lIEVycm9yTXNnXG4gICAgICAgIHRoaXMuc3RhdGUuRXJyb3JNc2cgPSAnJztcbiAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVSZXF1ZXN0Q2xvc2UoKTtcbiAgICB9O1xuXG4gICAgaGFuZGxlRGVsZXRlID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKFxuICAgICAgICAgICAgKHByZXZTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnByZXZTdGF0ZSwgaXNEZWxldGluZzogdHJ1ZSwgRXJyb3JNc2c6ICcnIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF4aW9zQ2FsbFdyYXBwZXIoe1xuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlTmFtZTogYCR7dGhpcy5wcm9wcy5zZXJ2aWNlTmFtZX0vJHtlbmNvZGVVUklDb21wb25lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnN0YW56YU5hbWVcbiAgICAgICAgICAgICAgICAgICAgKX1gLFxuICAgICAgICAgICAgICAgICAgICBjdXN0b21IZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyB9LFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdkZWxldGUnLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yU3VibWl0TXNnID0gcGFyc2VFcnJvck1zZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IEVycm9yTXNnOiBlcnJvclN1Ym1pdE1zZywgaXNEZWxldGluZzogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnNldFJvd0RhdGEoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlKHRoaXMuY29udGV4dC5yb3dEYXRhLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLnByb3BzLnNlcnZpY2VOYW1lXTogeyAkdW5zZXQ6IFt0aGlzLnByb3BzLnN0YW56YU5hbWVdIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNEZWxldGluZzogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVJlcXVlc3RDbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVUb2FzdChgRGVsZXRlZCBcIiR7dGhpcy5wcm9wcy5zdGFuemFOYW1lfVwiYCwgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIC8vIERpc3BsYXkgZXJyb3IgbWVzc2FnZVxuICAgIGdlbmVyYXRlRXJyb3JNZXNzYWdlID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5FcnJvck1zZykge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8TWVzc2FnZSBhcHBlYXJhbmNlPVwiZmlsbFwiIHR5cGU9XCJlcnJvclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuRXJyb3JNc2d9XG4gICAgICAgICAgICAgICAgICAgIDwvTWVzc2FnZT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgbGV0IGRlbGV0ZU1zZztcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucGFnZSA9PT0gUEFHRV9JTlBVVCkge1xuICAgICAgICAgICAgZGVsZXRlTXNnID0gZ2V0Rm9ybWF0dGVkTWVzc2FnZSgxMDMsIFt0aGlzLnByb3BzLnN0YW56YU5hbWVdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZU1zZyA9IGdldEZvcm1hdHRlZE1lc3NhZ2UoMTAyLCBbdGhpcy5wcm9wcy5zdGFuemFOYW1lXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxNb2RhbFdyYXBwZXIgb3Blbj17dGhpcy5wcm9wcy5vcGVufT5cbiAgICAgICAgICAgICAgICA8TW9kYWwuSGVhZGVyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXtnZXRGb3JtYXR0ZWRNZXNzYWdlKDEwMSl9XG4gICAgICAgICAgICAgICAgICAgIG9uUmVxdWVzdENsb3NlPXt0aGlzLmhhbmRsZVJlcXVlc3RDbG9zZX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxNb2RhbC5Cb2R5IGNsYXNzTmFtZT1cImRlbGV0ZVByb21wdFwiPlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZW5lcmF0ZUVycm9yTWVzc2FnZSgpfVxuICAgICAgICAgICAgICAgICAgICA8cD57ZGVsZXRlTXNnfTwvcD5cbiAgICAgICAgICAgICAgICA8L01vZGFsLkJvZHk+XG4gICAgICAgICAgICAgICAgPE1vZGFsLkZvb3Rlcj5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZWFyYW5jZT1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZVJlcXVlc3RDbG9zZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtfKCdDYW5jZWwnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzRGVsZXRpbmd9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVhcmFuY2U9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXt0aGlzLnN0YXRlLmlzRGVsZXRpbmcgPyA8V2FpdFNwaW5uZXIgLz4gOiBfKCdEZWxldGUnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlRGVsZXRlfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNEZWxldGluZ31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L01vZGFsLkZvb3Rlcj5cbiAgICAgICAgICAgIDwvTW9kYWxXcmFwcGVyPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuRGVsZXRlTW9kYWwucHJvcFR5cGVzID0ge1xuICAgIHBhZ2U6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBvcGVuOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBoYW5kbGVSZXF1ZXN0Q2xvc2U6IFByb3BUeXBlcy5mdW5jLFxuICAgIHNlcnZpY2VOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIHN0YW56YU5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBEZWxldGVNb2RhbDtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCBtZW1vLCB1c2VTdGF0ZSwgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmltcG9ydCBUYWJsZSBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL1RhYmxlJztcbmltcG9ydCB7IF8gfSBmcm9tICdAc3BsdW5rL3VpLXV0aWxzL2kxOG4nO1xuXG5pbXBvcnQgdXNlUXVlcnkgZnJvbSAnLi4vLi4vaG9va3MvdXNlUXVlcnknO1xuaW1wb3J0IHsgTU9ERV9DTE9ORSwgTU9ERV9FRElUIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL21vZGVzJztcbmltcG9ydCB7IFBBR0VfSU5QVVQgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvcGFnZXMnO1xuaW1wb3J0IHsgZ2V0VW5pZmllZENvbmZpZ3MgfSBmcm9tICcuLi8uLi91dGlsL3V0aWwnO1xuaW1wb3J0IHsgZ2V0RXhwYW5zaW9uUm93IH0gZnJvbSAnLi9UYWJsZUV4cGFuc2lvblJvdyc7XG5pbXBvcnQgeyBTVFlMRV9NT0RBTCwgU1RZTEVfUEFHRSB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9kaWFsb2dTdHlsZXMnO1xuaW1wb3J0IEN1c3RvbVRhYmxlUm93IGZyb20gJy4vQ3VzdG9tVGFibGVSb3cnO1xuaW1wb3J0IEVudGl0eU1vZGFsIGZyb20gJy4uL0VudGl0eU1vZGFsJztcbmltcG9ydCBEZWxldGVNb2RhbCBmcm9tICcuLi9EZWxldGVNb2RhbCc7XG5pbXBvcnQgVGFibGVDb250ZXh0IGZyb20gJy4uLy4uL2NvbnRleHQvVGFibGVDb250ZXh0JztcbmltcG9ydCB7IE5vUmVjb3Jkc0RpdiB9IGZyb20gJy4vQ3VzdG9tVGFibGVTdHlsZSc7XG5cbmZ1bmN0aW9uIEN1c3RvbVRhYmxlKHtcbiAgICBwYWdlLFxuICAgIHNlcnZpY2VOYW1lLFxuICAgIGRhdGEsXG4gICAgaGFuZGxlVG9nZ2xlQWN0aW9uQ2xpY2ssXG4gICAgaGFuZGxlT3BlblBhZ2VTdHlsZURpYWxvZyxcbiAgICBoYW5kbGVTb3J0LFxuICAgIHNvcnREaXIsXG4gICAgc29ydEtleSxcbn0pIHtcbiAgICBjb25zdCB1bmlmaWVkQ29uZmlncyA9IGdldFVuaWZpZWRDb25maWdzKCk7XG4gICAgY29uc3QgW2VudGl0eU1vZGFsLCBzZXRFbnRpdHlNb2RhbF0gPSB1c2VTdGF0ZSh7IG9wZW46IGZhbHNlIH0pO1xuICAgIGNvbnN0IFtkZWxldGVNb2RhbCwgc2V0RGVsZXRlTW9kYWxdID0gdXNlU3RhdGUoeyBvcGVuOiBmYWxzZSB9KTtcblxuICAgIGNvbnN0IHsgcm93RGF0YSB9ID0gdXNlQ29udGV4dChUYWJsZUNvbnRleHQpO1xuXG4gICAgY29uc3QgdGFibGVDb25maWcgPVxuICAgICAgICBwYWdlID09PSBQQUdFX0lOUFVUXG4gICAgICAgICAgICA/IHVuaWZpZWRDb25maWdzLnBhZ2VzLmlucHV0cy50YWJsZVxuICAgICAgICAgICAgOiB1bmlmaWVkQ29uZmlncy5wYWdlcy5jb25maWd1cmF0aW9uLnRhYnMuZmlsdGVyKCh4KSA9PiB4Lm5hbWUgPT09IHNlcnZpY2VOYW1lKVswXVxuICAgICAgICAgICAgICAgICAgLnRhYmxlO1xuICAgIGNvbnN0IHsgbW9yZUluZm8sIGhlYWRlciB9ID0gdGFibGVDb25maWc7XG4gICAgY29uc3QgaGVhZGVycyA9IHRhYmxlQ29uZmlnLmhlYWRlcjtcblxuICAgIGNvbnN0IGhlYWRlck1hcHBpbmcgPSB7fTtcbiAgICBoZWFkZXIuZm9yRWFjaCgoeCkgPT4ge1xuICAgICAgICBoZWFkZXJNYXBwaW5nW3guZmllbGRdID0geC5tYXBwaW5nO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgc2VydmljZVRvU3R5bGVNYXAgPSB7fTtcbiAgICBpZiAocGFnZSA9PT0gUEFHRV9JTlBVVCkge1xuICAgICAgICB1bmlmaWVkQ29uZmlncy5wYWdlcy5pbnB1dHMuc2VydmljZXMuZm9yRWFjaCgoeCkgPT4ge1xuICAgICAgICAgICAgc2VydmljZVRvU3R5bGVNYXBbeC5uYW1lXSA9IHguc3R5bGUgPT09IFNUWUxFX1BBR0UgPyBTVFlMRV9QQUdFIDogU1RZTEVfTU9EQUw7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHF1ZXJ5ID0gdXNlUXVlcnkoKTtcblxuICAgIC8vIFJ1biBvbmx5IG9uY2Ugd2hlbiBjb21wb25lbnQgaXMgbW91bnRlZCB0byBsb2FkIGNvbXBvbmVudCBiYXNlZCBvbiBpbml0aWFsIHF1ZXJ5IHBhcmFtc1xuICAgIC8vIGFuZCB3aGVuIHF1ZXJ5IHBhcmFtcyBhcmUgdXBkYXRlZFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIC8vIE9ubHkgcnVuIHdoZW4gdGFiIG1hdGNoZXMgc2VydmljZU5hbWUgb3IgaWYgaW4gaW5wdXQgcGFnZSB3aGVyZSBzZXJ2aWNlTmFtZSBpcyB1bmRlZmluZWRcbiAgICAgICAgaWYgKHF1ZXJ5ICYmIChxdWVyeS5nZXQoJ3RhYicpID09PSBzZXJ2aWNlTmFtZSB8fCB0eXBlb2Ygc2VydmljZU5hbWUgPT09ICd1bmRlZmluZWQnKSkge1xuICAgICAgICAgICAgLy8gT3BlbiBtb2RhbCB3aGVuIHJlY29yZCBpcyBhdmFpbGFibGUgaW4gcXVlcnkgcGFyYW1zIGFuZCBtb2RhbCBpcyBub3Qgb3BlblxuICAgICAgICAgICAgaWYgKHF1ZXJ5LmdldCgncmVjb3JkJykgJiYgIWVudGl0eU1vZGFsLm9wZW4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJ2aWNlS2V5ID0gT2JqZWN0LmtleXMocm93RGF0YSkuZmluZChcbiAgICAgICAgICAgICAgICAgICAgKHgpID0+IHR5cGVvZiByb3dEYXRhW3hdW3F1ZXJ5LmdldCgncmVjb3JkJyldICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKHNlcnZpY2VLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm93ID0gcm93RGF0YVtzZXJ2aWNlS2V5XVtxdWVyeS5nZXQoJ3JlY29yZCcpXTtcbiAgICAgICAgICAgICAgICAgICAgc2V0RW50aXR5TW9kYWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZW50aXR5TW9kYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZU5hbWU6IHJvdy5zZXJ2aWNlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YW56YU5hbWU6IHJvdy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogTU9ERV9FRElULFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFxdWVyeS5nZXQoJ3JlY29yZCcpICYmIGVudGl0eU1vZGFsLm9wZW4pIHtcbiAgICAgICAgICAgICAgICAvLyBDbG9zZSBtb2RhbCBpZiByZWNvcmQgcXVlcnkgcGFyYW0gaXMgbm90IGF2YWlsYWJsZSBhbmQgbW9kYWwgaXMgb3BlblxuICAgICAgICAgICAgICAgIC8vIE5PVEU6IFRoaXMgc2hvdWxkIG9ubHkgYmUgZXhlY3V0ZWQgaW4gY2FzZSBvZiBNT0RFX0VESVQgd2hpY2ggaXMgaGFuZGxlZCBieVxuICAgICAgICAgICAgICAgIC8vIHVzZUVmZmVjdCBkZXBlbmRlbmN5IHdoaWNoIHdpbGwgb25seSBiZSBjaGFuZ2VkIGluIGNhc2Ugb2YgZWRpdGluZyBlbnRpdHlcbiAgICAgICAgICAgICAgICBzZXRFbnRpdHlNb2RhbCh7IC4uLmVudGl0eU1vZGFsLCBvcGVuOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgaGFuZGxlRW50aXR5Q2xvc2UgPSAoKSA9PiB7XG4gICAgICAgIHNldEVudGl0eU1vZGFsKHsgLi4uZW50aXR5TW9kYWwsIG9wZW46IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVFZGl0QWN0aW9uQ2xpY2sgPSB1c2VDYWxsYmFjayhcbiAgICAgICAgKHNlbGVjdGVkUm93KSA9PiB7XG4gICAgICAgICAgICBpZiAoc2VydmljZVRvU3R5bGVNYXBbc2VsZWN0ZWRSb3cuc2VydmljZU5hbWVdID09PSAncGFnZScpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVPcGVuUGFnZVN0eWxlRGlhbG9nKHNlbGVjdGVkUm93LCBNT0RFX0VESVQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRFbnRpdHlNb2RhbCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmVudGl0eU1vZGFsLFxuICAgICAgICAgICAgICAgICAgICBvcGVuOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlTmFtZTogc2VsZWN0ZWRSb3cuc2VydmljZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHN0YW56YU5hbWU6IHNlbGVjdGVkUm93Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IE1PREVfRURJVCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgICAgICBbZW50aXR5TW9kYWxdXG4gICAgKTtcblxuICAgIGNvbnN0IGhhbmRsZURlbGV0ZUNsb3NlID0gKCkgPT4ge1xuICAgICAgICBzZXREZWxldGVNb2RhbCh7IC4uLmRlbGV0ZU1vZGFsLCBvcGVuOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQ2xvbmVBY3Rpb25DbGljayA9IHVzZUNhbGxiYWNrKFxuICAgICAgICAoc2VsZWN0ZWRSb3cpID0+IHtcbiAgICAgICAgICAgIGlmIChzZXJ2aWNlVG9TdHlsZU1hcFtzZWxlY3RlZFJvdy5zZXJ2aWNlTmFtZV0gPT09ICdwYWdlJykge1xuICAgICAgICAgICAgICAgIGhhbmRsZU9wZW5QYWdlU3R5bGVEaWFsb2coc2VsZWN0ZWRSb3csIE1PREVfQ0xPTkUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRFbnRpdHlNb2RhbCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmVudGl0eU1vZGFsLFxuICAgICAgICAgICAgICAgICAgICBvcGVuOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlTmFtZTogc2VsZWN0ZWRSb3cuc2VydmljZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHN0YW56YU5hbWU6IHNlbGVjdGVkUm93Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IE1PREVfQ0xPTkUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICAgICAgW2VudGl0eU1vZGFsXVxuICAgICk7XG5cbiAgICBjb25zdCBoYW5kbGVEZWxldGVBY3Rpb25DbGljayA9IHVzZUNhbGxiYWNrKFxuICAgICAgICAoc2VsZWN0ZWRSb3cpID0+IHtcbiAgICAgICAgICAgIHNldERlbGV0ZU1vZGFsKHtcbiAgICAgICAgICAgICAgICAuLi5kZWxldGVNb2RhbCxcbiAgICAgICAgICAgICAgICBvcGVuOiB0cnVlLFxuICAgICAgICAgICAgICAgIHN0YW56YU5hbWU6IHNlbGVjdGVkUm93Lm5hbWUsXG4gICAgICAgICAgICAgICAgc2VydmljZU5hbWU6IHNlbGVjdGVkUm93LnNlcnZpY2VOYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIFtkZWxldGVNb2RhbF1cbiAgICApO1xuXG4gICAgY29uc3QgZ2VuZXJhdGVNb2RhbERpYWxvZyA9ICgpID0+IHtcbiAgICAgICAgaWYgKGVudGl0eU1vZGFsLm9wZW4pIHtcbiAgICAgICAgICAgIGxldCBsYWJlbDtcbiAgICAgICAgICAgIGlmIChwYWdlID09PSAnaW5wdXRzJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgc2VydmljZXMgfSA9IHVuaWZpZWRDb25maWdzLnBhZ2VzPy5pbnB1dHM7XG4gICAgICAgICAgICAgICAgbGFiZWwgPSBzZXJ2aWNlcy5maW5kKCh4KSA9PiB4Lm5hbWUgPT09IGVudGl0eU1vZGFsLnNlcnZpY2VOYW1lKT8udGl0bGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdGFicyB9ID0gdW5pZmllZENvbmZpZ3MucGFnZXM/LmNvbmZpZ3VyYXRpb247XG4gICAgICAgICAgICAgICAgbGFiZWwgPSB0YWJzLmZpbmQoKHgpID0+IHgubmFtZSA9PT0gZW50aXR5TW9kYWwuc2VydmljZU5hbWUpPy50aXRsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPEVudGl0eU1vZGFsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2U9e3BhZ2V9XG4gICAgICAgICAgICAgICAgICAgIG9wZW49e2VudGl0eU1vZGFsLm9wZW59XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVJlcXVlc3RDbG9zZT17aGFuZGxlRW50aXR5Q2xvc2V9XG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VOYW1lPXtlbnRpdHlNb2RhbC5zZXJ2aWNlTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgc3RhbnphTmFtZT17ZW50aXR5TW9kYWwuc3RhbnphTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgbW9kZT17ZW50aXR5TW9kYWwubW9kZX1cbiAgICAgICAgICAgICAgICAgICAgZm9ybUxhYmVsPXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eU1vZGFsLm1vZGUgPT09IE1PREVfQ0xPTkUgPyBfKGBDbG9uZSBgKSArIGxhYmVsIDogXyhgVXBkYXRlIGApICsgbGFiZWxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICBjb25zdCBnZW5lcmF0ZURlbGV0ZURpYWxvZyA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxEZWxldGVNb2RhbFxuICAgICAgICAgICAgICAgIHBhZ2U9e3BhZ2V9XG4gICAgICAgICAgICAgICAgb3Blbj17ZGVsZXRlTW9kYWwub3Blbn1cbiAgICAgICAgICAgICAgICBoYW5kbGVSZXF1ZXN0Q2xvc2U9e2hhbmRsZURlbGV0ZUNsb3NlfVxuICAgICAgICAgICAgICAgIHNlcnZpY2VOYW1lPXtkZWxldGVNb2RhbC5zZXJ2aWNlTmFtZX1cbiAgICAgICAgICAgICAgICBzdGFuemFOYW1lPXtkZWxldGVNb2RhbC5zdGFuemFOYW1lfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZ2VuZXJhdGVDb2x1bW5zID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBjb2x1bW4gPSBbXTtcbiAgICAgICAgaWYgKGhlYWRlcnMgJiYgaGVhZGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbHVtbi5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgc29ydEtleTogaXRlbS5maWVsZCB8fCBudWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29sdW1uLnB1c2goeyBsYWJlbDogJ0FjdGlvbnMnLCBmaWVsZDogJ2FjdGlvbnMnLCBzb3J0S2V5OiAnJyB9KTtcbiAgICAgICAgcmV0dXJuIGNvbHVtbjtcbiAgICB9O1xuXG4gICAgY29uc3QgY29sdW1ucyA9IGdlbmVyYXRlQ29sdW1ucygpO1xuXG4gICAgY29uc3QgZ2V0VGFibGVIZWFkZXJDZWxsID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFRhYmxlLkhlYWQ+XG4gICAgICAgICAgICAgICAge2NvbHVtbnMgJiZcbiAgICAgICAgICAgICAgICAgICAgY29sdW1ucy5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICAgICAgY29sdW1ucy5tYXAoKGhlYWREYXRhKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGFibGUuSGVhZENlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2hlYWREYXRhLmZpZWxkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU29ydD17aGVhZERhdGEuc29ydEtleSA/IGhhbmRsZVNvcnQgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRLZXk9e2hlYWREYXRhLnNvcnRLZXkgPyBoZWFkRGF0YS5zb3J0S2V5IDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0RGlyPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZERhdGEuc29ydEtleSAmJiBoZWFkRGF0YS5zb3J0S2V5ID09PSBzb3J0S2V5ID8gc29ydERpciA6ICdub25lJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aGVhZERhdGEubGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlLkhlYWRDZWxsPlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvVGFibGUuSGVhZD5cbiAgICAgICAgKTtcbiAgICB9LCBbY29sdW1ucywgaGFuZGxlU29ydCwgc29ydERpciwgc29ydEtleV0pO1xuXG4gICAgY29uc3QgZ2V0VGFibGVCb2R5ID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFRhYmxlLkJvZHk+XG4gICAgICAgICAgICAgICAge2RhdGEgJiZcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5tYXAoKHJvdykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q3VzdG9tVGFibGVSb3cgLy8gbm9zZW1ncmVwOiB0eXBlc2NyaXB0LnJlYWN0LmJlc3QtcHJhY3RpY2UucmVhY3QtcHJvcHMtc3ByZWFkaW5nLnJlYWN0LXByb3BzLXNwcmVhZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3Jvdy5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93PXtyb3d9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbnM9e2NvbHVtbnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlck1hcHBpbmc9e2hlYWRlck1hcHBpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsuLi57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVFZGl0QWN0aW9uQ2xpY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDbG9uZUFjdGlvbkNsaWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlRGVsZXRlQWN0aW9uQ2xpY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRvZ2dsZUFjdGlvbkNsaWNrPXtoYW5kbGVUb2dnbGVBY3Rpb25DbGlja31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey4uLihtb3JlSW5mb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBhbnNpb25Sb3c6IGdldEV4cGFuc2lvblJvdyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9yZUluZm9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDoge30pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvVGFibGUuQm9keT5cbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPD5cbiAgICAgICAgICAgIHtjb2x1bW5zICYmIGNvbHVtbnMubGVuZ3RoICYmIChcbiAgICAgICAgICAgICAgICA8VGFibGUgLy8gbm9zZW1ncmVwOiB0eXBlc2NyaXB0LnJlYWN0LmJlc3QtcHJhY3RpY2UucmVhY3QtcHJvcHMtc3ByZWFkaW5nLnJlYWN0LXByb3BzLXNwcmVhZGluZ1xuICAgICAgICAgICAgICAgICAgICBzdHJpcGVSb3dzXG4gICAgICAgICAgICAgICAgICAgIHsuLi4obW9yZUluZm8gPyB7IHJvd0V4cGFuc2lvbjogJ3NpbmdsZScgfSA6IHt9KX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtnZXRUYWJsZUhlYWRlckNlbGwoKX1cbiAgICAgICAgICAgICAgICAgICAge2dldFRhYmxlQm9keSgpfVxuICAgICAgICAgICAgICAgIDwvVGFibGU+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgeyFkYXRhLmxlbmd0aCA/IDxOb1JlY29yZHNEaXY+Tm8gcmVjb3JkcyBmb3VuZDwvTm9SZWNvcmRzRGl2PiA6IG51bGx9XG4gICAgICAgICAgICB7Z2VuZXJhdGVNb2RhbERpYWxvZygpfVxuICAgICAgICAgICAge2dlbmVyYXRlRGVsZXRlRGlhbG9nKCl9XG4gICAgICAgIDwvPlxuICAgICk7XG59XG5cbkN1c3RvbVRhYmxlLnByb3BUeXBlcyA9IHtcbiAgICBwYWdlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgc2VydmljZU5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgZGF0YTogUHJvcFR5cGVzLmFycmF5LmlzUmVxdWlyZWQsXG4gICAgaGFuZGxlVG9nZ2xlQWN0aW9uQ2xpY2s6IFByb3BUeXBlcy5mdW5jLFxuICAgIGhhbmRsZU9wZW5QYWdlU3R5bGVEaWFsb2c6IFByb3BUeXBlcy5mdW5jLFxuICAgIGhhbmRsZVNvcnQ6IFByb3BUeXBlcy5mdW5jLFxuICAgIHNvcnREaXI6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgc29ydEtleTogUHJvcFR5cGVzLnN0cmluZyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IG1lbW8oQ3VzdG9tVGFibGUpO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBUZXh0IGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvVGV4dCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5mdW5jdGlvbiBUYWJsZUZpbHRlcihwcm9wcykge1xuICAgIGNvbnN0IGRlYm91bmNlID0gKGZ1bmMsIHdhaXQpID0+IHtcbiAgICAgICAgbGV0IHRpbWVvdXQ7XG5cbiAgICAgICAgLy8gVGhpcyBpcyB0aGUgZnVuY3Rpb24gdGhhdCBpcyByZXR1cm5lZCBhbmQgd2lsbCBiZSBleGVjdXRlZCBtYW55IHRpbWVzXG4gICAgICAgIC8vIFdlIHNwcmVhZCAoLi4uYXJncykgdG8gY2FwdHVyZSBhbnkgbnVtYmVyIG9mIHBhcmFtZXRlcnMgd2Ugd2FudCB0byBwYXNzXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBleGVjdXRlZEZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIC8vIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBleGVjdXRlZCBhZnRlclxuICAgICAgICAgICAgLy8gdGhlIGRlYm91bmNlIHRpbWUgaGFzIGVsYXBzZWRcbiAgICAgICAgICAgIGNvbnN0IGxhdGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIG51bGwgdGltZW91dCB0byBpbmRpY2F0ZSB0aGUgZGVib3VuY2UgZW5kZWRcbiAgICAgICAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgZnVuYyguLi5hcmdzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBUaGlzIHdpbGwgcmVzZXQgdGhlIHdhaXRpbmcgZXZlcnkgZnVuY3Rpb24gZXhlY3V0aW9uLlxuICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgc3RlcCB0aGF0IHByZXZlbnRzIHRoZSBmdW5jdGlvbiBmcm9tXG4gICAgICAgICAgICAvLyBiZWluZyBleGVjdXRlZCBiZWNhdXNlIGl0IHdpbGwgbmV2ZXIgcmVhY2ggdGhlXG4gICAgICAgICAgICAvLyBpbnNpZGUgb2YgdGhlIHByZXZpb3VzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblxuICAgICAgICAgICAgLy8gUmVzdGFydCB0aGUgZGVib3VuY2Ugd2FpdGluZyBwZXJpb2QuXG4gICAgICAgICAgICAvLyBzZXRUaW1lb3V0IHJldHVybnMgYSB0cnV0aHkgdmFsdWVcbiAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPFRleHRcbiAgICAgICAgICAgIGFwcGVhcmFuY2U9XCJzZWFyY2hcIlxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJmaWx0ZXJcIlxuICAgICAgICAgICAgb25DaGFuZ2U9e2RlYm91bmNlKHByb3BzLmhhbmRsZUNoYW5nZSwgMjAwKX1cbiAgICAgICAgLz5cbiAgICApO1xufVxuXG5UYWJsZUZpbHRlci5wcm9wVHlwZXMgPSB7XG4gICAgaGFuZGxlQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRhYmxlRmlsdGVyO1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFNlbGVjdCBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL1NlbGVjdCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ0BzcGx1bmsvcmVhY3QtdWkvQnV0dG9uJztcbmltcG9ydCBQYWdpbmF0b3IgZnJvbSAnQHNwbHVuay9yZWFjdC11aS9QYWdpbmF0b3InO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBfIH0gZnJvbSAnQHNwbHVuay91aS11dGlscy9pMThuJztcblxuaW1wb3J0IFRhYmxlRmlsdGVyIGZyb20gJy4vVGFibGVGaWx0ZXInO1xuaW1wb3J0IFRhYmxlQ29udGV4dCBmcm9tICcuLi8uLi9jb250ZXh0L1RhYmxlQ29udGV4dCc7XG5pbXBvcnQgeyBUYWJsZVNlbGVjdEJveFdyYXBwZXIgfSBmcm9tICcuL0N1c3RvbVRhYmxlU3R5bGUnO1xuaW1wb3J0IHsgUEFHRV9JTlBVVCB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9wYWdlcyc7XG5cbmNvbnN0IFRhYmxlSGVhZGVyV3JhcHBlciA9IHN0eWxlZC5kaXZgXG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNjY2M7XG4gICAgcGFkZGluZy10b3A6IDVweDtcbiAgICBtYXJnaW4tYm90dG9tOiA1cHg7XG5gO1xuXG5jb25zdCBUYWJsZUZpbHRlcldyYXBwZXIgPSBzdHlsZWQuZGl2YFxuICAgIG1heC13aWR0aDogMzAwcHg7XG4gICAgd2lkdGg6IDEwMCU7XG5gO1xuXG5mdW5jdGlvbiBUYWJsZUhlYWRlcih7IHBhZ2UsIHNlcnZpY2VzLCB0b3RhbEVsZW1lbnQsIGhhbmRsZVJlcXVlc3RNb2RhbE9wZW4gfSkge1xuICAgIGNvbnN0IHtcbiAgICAgICAgcGFnZVNpemUsXG4gICAgICAgIGN1cnJlbnRQYWdlLFxuICAgICAgICBzZXRDdXJyZW50UGFnZSxcbiAgICAgICAgc2V0UGFnZVNpemUsXG4gICAgICAgIHNlYXJjaFR5cGUsXG4gICAgICAgIHNldFNlYXJjaFR5cGUsXG4gICAgICAgIHNldFNlYXJjaFRleHQsXG4gICAgfSA9IHVzZUNvbnRleHQoVGFibGVDb250ZXh0KTtcblxuICAgIGNvbnN0IGl0ZW1MYWJlbCA9IHBhZ2UgPT09IFBBR0VfSU5QVVQgPyAnSW5wdXQnIDogJ0l0ZW0nO1xuXG4gICAgY29uc3QgZ2V0U2VhcmNoVHlwZURyb3Bkb3duID0gKCkgPT4ge1xuICAgICAgICBpZiAoc2VydmljZXMubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGFyciA9IFtdO1xuICAgICAgICBhcnIgPSBzZXJ2aWNlcy5tYXAoKHNlcnZpY2UpID0+IHtcbiAgICAgICAgICAgIHJldHVybiA8U2VsZWN0Lk9wdGlvbiBrZXk9e3NlcnZpY2UubmFtZX0gbGFiZWw9e3NlcnZpY2UudGl0bGV9IHZhbHVlPXtzZXJ2aWNlLm5hbWV9IC8+O1xuICAgICAgICB9KTtcblxuICAgICAgICBhcnIudW5zaGlmdCg8U2VsZWN0Lk9wdGlvbiBrZXk9XCJhbGxcIiBsYWJlbD17XygnQWxsJyl9IHZhbHVlPVwiYWxsXCIgLz4pO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hUeXBlfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duSW5wdXRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSwgeyB2YWx1ZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRQYWdlKDApO1xuICAgICAgICAgICAgICAgICAgICBzZXRTZWFyY2hUeXBlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHthcnJ9XG4gICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPFRhYmxlSGVhZGVyV3JhcHBlcj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5wdXROdW1iZXJcIj5cbiAgICAgICAgICAgICAgICAgICAge3RvdGFsRWxlbWVudH1cbiAgICAgICAgICAgICAgICAgICAge3RvdGFsRWxlbWVudCA+IDEgPyBfKGAgJHtpdGVtTGFiZWx9c2ApIDogXyhgICR7aXRlbUxhYmVsfWApfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICB7cGFnZSA9PT0gUEFHRV9JTlBVVCA/IChcbiAgICAgICAgICAgICAgICAgICAgPFRhYmxlU2VsZWN0Qm94V3JhcHBlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cGFnZVNpemV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZHJvcGRvd25QYWdlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUsIHsgdmFsdWUgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50UGFnZSgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFnZVNpemUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdC5PcHRpb24ga2V5PVwiMTBcIiBsYWJlbD17XygnMTAgUGVyIFBhZ2UnKX0gdmFsdWU9ezEwfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QuT3B0aW9uIGtleT1cIjI1XCIgbGFiZWw9e18oJzI1IFBlciBQYWdlJyl9IHZhbHVlPXsyNX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Lk9wdGlvbiBrZXk9XCI1MFwiIGxhYmVsPXtfKCc1MCBQZXIgUGFnZScpfSB2YWx1ZT17NTB9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtnZXRTZWFyY2hUeXBlRHJvcGRvd24oKX1cbiAgICAgICAgICAgICAgICAgICAgPC9UYWJsZVNlbGVjdEJveFdyYXBwZXI+XG4gICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxUYWJsZUZpbHRlcldyYXBwZXI+XG4gICAgICAgICAgICAgICAgPFRhYmxlRmlsdGVyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUNoYW5nZT17KGUsIHsgdmFsdWUgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudFBhZ2UoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWFyY2hUZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9UYWJsZUZpbHRlcldyYXBwZXI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxQYWdpbmF0b3JcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlLCB7IHBhZ2U6IHBhZ2VOdW1iZXIgfSkgPT4gc2V0Q3VycmVudFBhZ2UocGFnZU51bWJlciAtIDEpfVxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50PXtjdXJyZW50UGFnZSArIDF9XG4gICAgICAgICAgICAgICAgICAgIGFsd2F5c1Nob3dMYXN0UGFnZUxpbmtcbiAgICAgICAgICAgICAgICAgICAgdG90YWxQYWdlcz17TWF0aC5jZWlsKHRvdGFsRWxlbWVudCAvIHBhZ2VTaXplKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIHtwYWdlID09PSBQQUdFX0lOUFVUID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e18oJ0FkZCcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZWFyYW5jZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUmVxdWVzdE1vZGFsT3Blbn1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvVGFibGVIZWFkZXJXcmFwcGVyPlxuICAgICk7XG59XG5cblRhYmxlSGVhZGVyLnByb3BUeXBlcyA9IHtcbiAgICBwYWdlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIHNlcnZpY2VzOiBQcm9wVHlwZXMuYXJyYXksXG4gICAgdG90YWxFbGVtZW50OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGhhbmRsZVJlcXVlc3RNb2RhbE9wZW46IFByb3BUeXBlcy5mdW5jLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgVGFibGVIZWFkZXI7XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgbWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB1cGRhdGUgZnJvbSAnaW1tdXRhYmlsaXR5LWhlbHBlcic7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuaW1wb3J0IHsgV2FpdFNwaW5uZXJXcmFwcGVyIH0gZnJvbSAnLi9DdXN0b21UYWJsZVN0eWxlJztcbmltcG9ydCB7IGF4aW9zQ2FsbFdyYXBwZXIgfSBmcm9tICcuLi8uLi91dGlsL2F4aW9zQ2FsbFdyYXBwZXInO1xuaW1wb3J0IHsgZ2V0VW5pZmllZENvbmZpZ3MsIGdlbmVyYXRlVG9hc3QsIGlzVHJ1ZSB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgQ3VzdG9tVGFibGUgZnJvbSAnLi9DdXN0b21UYWJsZSc7XG5pbXBvcnQgVGFibGVIZWFkZXIgZnJvbSAnLi9UYWJsZUhlYWRlcic7XG5pbXBvcnQgVGFibGVDb250ZXh0IGZyb20gJy4uLy4uL2NvbnRleHQvVGFibGVDb250ZXh0JztcbmltcG9ydCB7IFBBR0VfSU5QVVQgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvcGFnZXMnO1xuXG5mdW5jdGlvbiBUYWJsZVdyYXBwZXIoeyBwYWdlLCBzZXJ2aWNlTmFtZSwgaGFuZGxlUmVxdWVzdE1vZGFsT3BlbiwgaGFuZGxlT3BlblBhZ2VTdHlsZURpYWxvZyB9KSB7XG4gICAgY29uc3QgW3NvcnRLZXksIHNldFNvcnRLZXldID0gdXNlU3RhdGUoJ25hbWUnKTtcbiAgICBjb25zdCBbc29ydERpciwgc2V0U29ydERpcl0gPSB1c2VTdGF0ZSgnYXNjJyk7XG4gICAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gICAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcblxuICAgIGNvbnN0IHsgcm93RGF0YSwgc2V0Um93RGF0YSwgcGFnZVNpemUsIGN1cnJlbnRQYWdlLCBzZWFyY2hUZXh0LCBzZWFyY2hUeXBlIH0gPSB1c2VDb250ZXh0KFxuICAgICAgICBUYWJsZUNvbnRleHRcbiAgICApO1xuXG4gICAgY29uc3QgdW5pZmllZENvbmZpZ3MgPSBnZXRVbmlmaWVkQ29uZmlncygpO1xuICAgIGNvbnN0IHRhYmxlQ29uZmlnID1cbiAgICAgICAgcGFnZSA9PT0gUEFHRV9JTlBVVFxuICAgICAgICAgICAgPyB1bmlmaWVkQ29uZmlncy5wYWdlcy5pbnB1dHMudGFibGVcbiAgICAgICAgICAgIDogdW5pZmllZENvbmZpZ3MucGFnZXMuY29uZmlndXJhdGlvbi50YWJzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBzZXJ2aWNlTmFtZSlbMF1cbiAgICAgICAgICAgICAgICAgIC50YWJsZTtcbiAgICBjb25zdCBoZWFkZXJzID0gdGFibGVDb25maWcuaGVhZGVyO1xuICAgIGNvbnN0IHsgbW9yZUluZm8gfSA9IHRhYmxlQ29uZmlnO1xuICAgIGNvbnN0IHNlcnZpY2VzID1cbiAgICAgICAgcGFnZSA9PT0gUEFHRV9JTlBVVFxuICAgICAgICAgICAgPyB1bmlmaWVkQ29uZmlncy5wYWdlcy5pbnB1dHMuc2VydmljZXNcbiAgICAgICAgICAgIDogdW5pZmllZENvbmZpZ3MucGFnZXMuY29uZmlndXJhdGlvbi50YWJzLmZpbHRlcigoeCkgPT4geC5uYW1lID09PSBzZXJ2aWNlTmFtZSk7XG5cbiAgICBjb25zdCBtb2RpZnlBUElSZXNwb25zZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBzZXJ2aWNlcy5mb3JFYWNoKChzZXJ2aWNlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKHNlcnZpY2UgJiYgc2VydmljZS5uYW1lICYmIGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0bXBPYmogPSB7fTtcbiAgICAgICAgICAgICAgICBkYXRhW2luZGV4XS5mb3JFYWNoKCh2YWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdG1wT2JqW3ZhbC5uYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnZhbC5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHZhbC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHZhbC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZU5hbWU6IHNlcnZpY2UubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvYmpbc2VydmljZS5uYW1lXSA9IHRtcE9iajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNldFJvd0RhdGEob2JqKTtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGZldGNoSW5wdXRzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCByZXF1ZXN0cyA9IFtdO1xuICAgICAgICBzZXJ2aWNlcy5mb3JFYWNoKChzZXJ2aWNlKSA9PiB7XG4gICAgICAgICAgICByZXF1ZXN0cy5wdXNoKFxuICAgICAgICAgICAgICAgIGF4aW9zQ2FsbFdyYXBwZXIoe1xuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlTmFtZTogc2VydmljZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsgY291bnQ6IC0xIH0sXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgICBheGlvc1xuICAgICAgICAgICAgLmFsbChyZXF1ZXN0cylcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zaGFkb3dcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZSA9ICcnO1xuICAgICAgICAgICAgICAgIGxldCBlcnJvckNvZGUgPSAnJztcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHJlcXVlc3Qgd2FzIG1hZGUgYW5kIHRoZSBzZXJ2ZXIgcmVzcG9uZGVkIHdpdGggYSBzdGF0dXMgY29kZVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEVycm9yIHJlY2VpdmVkIGZyb20gc2VydmVyOiAke2Vycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZXNbMF0udGV4dH1gO1xuICAgICAgICAgICAgICAgICAgICBlcnJvckNvZGUgPSBwYWdlID09PSBQQUdFX0lOUFVUID8gJ0VSUjAwMEEnIDogJ0VSUjAwMDInO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IucmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgcmVxdWVzdCB3YXMgbWFkZSBidXQgbm8gcmVzcG9uc2Ugd2FzIHJlY2VpdmVkXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgTm8gcmVzcG9uc2UgcmVjZWl2ZWQgd2hpbGUgbWFraW5nIHJlcXVlc3QgdG8gJHtwYWdlfSBzZXJ2aWNlc2A7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yQ29kZSA9ICdFUlIwMDAzJztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBTb21ldGhpbmcgaGFwcGVuZWQgaW4gc2V0dGluZyB1cCB0aGUgcmVxdWVzdCB0aGF0IHRyaWdnZXJlZCBhbiBFcnJvclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEVycm9yIG1ha2luZyByZXF1ZXN0IHRvICR7cGFnZX0gc2VydmljZXNgO1xuICAgICAgICAgICAgICAgICAgICBlcnJvckNvZGUgPSAnRVJSMDAwNCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgICAgIGVycm9yLnVjY0Vycm9yQ29kZSA9IGVycm9yQ29kZTtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZVRvYXN0KG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNldEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIG1vZGlmeUFQSVJlc3BvbnNlKHJlc3BvbnNlLm1hcCgocmVzKSA9PiByZXMuZGF0YS5lbnRyeSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGZldGNoSW5wdXRzKCk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICB9LCBbXSk7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSByb3cge09iamVjdH0gcm93XG4gICAgICovXG4gICAgY29uc3QgY2hhbmdlVG9nZ2xlU3RhdHVzID0gKHJvdykgPT4ge1xuICAgICAgICBzZXRSb3dEYXRhKChjdXJyZW50Um93RGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZShjdXJyZW50Um93RGF0YSwge1xuICAgICAgICAgICAgICAgIFtyb3cuc2VydmljZU5hbWVdOiB7XG4gICAgICAgICAgICAgICAgICAgIFtyb3cubmFtZV06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fdG9nZ2xlU2hvd1NwaW5uZXI6IHsgJHNldDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGJvZHkgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGJvZHkuYXBwZW5kKCdkaXNhYmxlZCcsICFyb3cuZGlzYWJsZWQpO1xuICAgICAgICBheGlvc0NhbGxXcmFwcGVyKHtcbiAgICAgICAgICAgIHNlcnZpY2VOYW1lOiBgJHtyb3cuc2VydmljZU5hbWV9LyR7cm93Lm5hbWV9YCxcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICBjdXN0b21IZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyB9LFxuICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICAgICAgICBoYW5kbGVFcnJvcjogdHJ1ZSxcbiAgICAgICAgICAgIGNhbGxiYWNrT25FcnJvcjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFJvd0RhdGEoKGN1cnJlbnRSb3dEYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGUoY3VycmVudFJvd0RhdGEsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFtyb3cuc2VydmljZU5hbWVdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3Jvdy5uYW1lXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX3RvZ2dsZVNob3dTcGlubmVyOiB7ICRzZXQ6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIHNldFJvd0RhdGEoKGN1cnJlbnRSb3dEYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZShjdXJyZW50Um93RGF0YSwge1xuICAgICAgICAgICAgICAgICAgICBbcm93LnNlcnZpY2VOYW1lXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgW3Jvdy5uYW1lXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFERE9OLTM5MTI1OiBpc1RydWUgcmVxdWlyZWQgaWYgc3BsdW5rdGF1Y2NsaWIgcmVzdGhhbmRsZXJzJyBzdXBlcigpIGlzIG5vdCBpbnZva2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHsgJHNldDogaXNUcnVlKHJlc3BvbnNlLmRhdGEuZW50cnlbMF0uY29udGVudC5kaXNhYmxlZCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX3RvZ2dsZVNob3dTcGlubmVyOiB7ICRzZXQ6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVTb3J0ID0gKGUsIHZhbCkgPT4ge1xuICAgICAgICBjb25zdCBwcmV2U29ydEtleSA9IHNvcnRLZXk7XG4gICAgICAgIGNvbnN0IHByZXZTb3J0RGlyID0gcHJldlNvcnRLZXkgPT09IHZhbC5zb3J0S2V5ID8gc29ydERpciA6ICdub25lJztcbiAgICAgICAgY29uc3QgbmV4dFNvcnREaXIgPSBwcmV2U29ydERpciA9PT0gJ2FzYycgPyAnZGVzYycgOiAnYXNjJztcbiAgICAgICAgc2V0U29ydERpcihuZXh0U29ydERpcik7XG4gICAgICAgIHNldFNvcnRLZXkodmFsLnNvcnRLZXkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGRhdGFcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgaXRlcmF0ZSBhbiBhcnJyYXkgYW5kIG1hdGNoIGVhY2gga2V5LXZhbHVlIHdpdGggdGhlIHNlYXJjaFRleHRcbiAgICAgKiBJdCB3aWxsIHJldHVybiBhIG5ldyBhcnJheSB3aGljaCB3aWxsIG1hdGNoIHdpdGggc2VhcmNoVGV4dFxuICAgICAqL1xuICAgIGNvbnN0IGZpbmRCeU1hdGNoaW5nVmFsdWUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBhcnIgPSBbXTtcbiAgICAgICAgY29uc3QgdGFibGVGaWVsZHMgPSBbXTtcblxuICAgICAgICBoZWFkZXJzLmZvckVhY2goKGhlYWREYXRhKSA9PiB7XG4gICAgICAgICAgICB0YWJsZUZpZWxkcy5wdXNoKGhlYWREYXRhLmZpZWxkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1vcmVJbmZvPy5mb3JFYWNoKChtb3JlSW5mb0RhdGEpID0+IHtcbiAgICAgICAgICAgIHRhYmxlRmllbGRzLnB1c2gobW9yZUluZm9EYXRhLmZpZWxkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaCgodikgPT4ge1xuICAgICAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhkYXRhW3ZdKS5mb3JFYWNoKCh2dikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgdGFibGVGaWVsZHMuaW5jbHVkZXModnYpICYmXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBkYXRhW3ZdW3Z2XSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgICAgICAgICAgZGF0YVt2XVt2dl0udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXh0LnRvTG93ZXJDYXNlKCkudHJpbSgpKSAmJlxuICAgICAgICAgICAgICAgICAgICAhZm91bmRcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2goZGF0YVt2XSk7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfTtcblxuICAgIGNvbnN0IGdldFJvd0RhdGEgPSAoKSA9PiB7XG4gICAgICAgIGxldCBhcnIgPSBbXTtcbiAgICAgICAgaWYgKHNlYXJjaFR5cGUgPT09ICdhbGwnKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhyb3dEYXRhKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbmV3QXJyID0gW107XG4gICAgICAgICAgICAgICAgaWYgKHNlYXJjaFRleHQgJiYgc2VhcmNoVGV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3QXJyID0gZmluZEJ5TWF0Y2hpbmdWYWx1ZShyb3dEYXRhW2tleV0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0FyciA9IE9iamVjdC5rZXlzKHJvd0RhdGFba2V5XSkubWFwKCh2YWwpID0+IHJvd0RhdGFba2V5XVt2YWxdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXJyID0gYXJyLmNvbmNhdChuZXdBcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnIgPSBmaW5kQnlNYXRjaGluZ1ZhbHVlKHJvd0RhdGFbc2VhcmNoVHlwZV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU29ydCB0aGUgYXJyYXkgYmFzZWQgb24gdGhlIHNvcnQgdmFsdWVcbiAgICAgICAgY29uc3Qgc29ydGVkQXJyID0gYXJyLnNvcnQoKHJvd0EsIHJvd0IpID0+IHtcbiAgICAgICAgICAgIGlmIChzb3J0RGlyID09PSAnYXNjJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvd0FWYWx1ZSA9IHJvd0Fbc29ydEtleV0gPT09IHVuZGVmaW5lZCA/ICcnIDogcm93QVtzb3J0S2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCByb3dCVmFsdWUgPSByb3dCW3NvcnRLZXldID09PSB1bmRlZmluZWQgPyAnJyA6IHJvd0Jbc29ydEtleV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJvd0FWYWx1ZSA+IHJvd0JWYWx1ZSA/IDEgOiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzb3J0RGlyID09PSAnZGVzYycpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByb3dBVmFsdWUgPSByb3dBW3NvcnRLZXldID09PSB1bmRlZmluZWQgPyAnJyA6IHJvd0Fbc29ydEtleV07XG4gICAgICAgICAgICAgICAgY29uc3Qgcm93QlZhbHVlID0gcm93Qltzb3J0S2V5XSA9PT0gdW5kZWZpbmVkID8gJycgOiByb3dCW3NvcnRLZXldO1xuICAgICAgICAgICAgICAgIHJldHVybiByb3dCVmFsdWUgPiByb3dBVmFsdWUgPyAxIDogLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IHVwZGF0ZWRBcnIgPSBzb3J0ZWRBcnIuc2xpY2UoY3VycmVudFBhZ2UgKiBwYWdlU2l6ZSwgKGN1cnJlbnRQYWdlICsgMSkgKiBwYWdlU2l6ZSk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRQYWdlID4gMCAmJiAhdXBkYXRlZEFyci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHVwZGF0ZWRBcnIgPSBzb3J0ZWRBcnIuc2xpY2UoKGN1cnJlbnRQYWdlIC0gMSkgKiBwYWdlU2l6ZSwgcGFnZVNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFt1cGRhdGVkQXJyLCBhcnIubGVuZ3RoXTtcbiAgICB9O1xuXG4gICAgaWYgKGVycm9yPy51Y2NFcnJvckNvZGUpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgaWYgKGxvYWRpbmcpIHtcbiAgICAgICAgcmV0dXJuIDxXYWl0U3Bpbm5lcldyYXBwZXIgLz47XG4gICAgfVxuXG4gICAgY29uc3QgW2ZpbHRlcmVkRGF0YSwgdG90YWxFbGVtZW50XSA9IGdldFJvd0RhdGEoKTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDw+XG4gICAgICAgICAgICA8VGFibGVIZWFkZXJcbiAgICAgICAgICAgICAgICBwYWdlPXtwYWdlfVxuICAgICAgICAgICAgICAgIHNlcnZpY2VzPXtzZXJ2aWNlc31cbiAgICAgICAgICAgICAgICB0b3RhbEVsZW1lbnQ9e3RvdGFsRWxlbWVudH1cbiAgICAgICAgICAgICAgICBoYW5kbGVSZXF1ZXN0TW9kYWxPcGVuPXtoYW5kbGVSZXF1ZXN0TW9kYWxPcGVufVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxDdXN0b21UYWJsZVxuICAgICAgICAgICAgICAgIHBhZ2U9e3BhZ2V9XG4gICAgICAgICAgICAgICAgc2VydmljZU5hbWU9e3NlcnZpY2VOYW1lfVxuICAgICAgICAgICAgICAgIGRhdGE9e2ZpbHRlcmVkRGF0YX1cbiAgICAgICAgICAgICAgICBoYW5kbGVUb2dnbGVBY3Rpb25DbGljaz17KHJvdykgPT4gY2hhbmdlVG9nZ2xlU3RhdHVzKHJvdyl9XG4gICAgICAgICAgICAgICAgaGFuZGxlU29ydD17aGFuZGxlU29ydH1cbiAgICAgICAgICAgICAgICBzb3J0RGlyPXtzb3J0RGlyfVxuICAgICAgICAgICAgICAgIHNvcnRLZXk9e3NvcnRLZXl9XG4gICAgICAgICAgICAgICAgaGFuZGxlT3BlblBhZ2VTdHlsZURpYWxvZz17aGFuZGxlT3BlblBhZ2VTdHlsZURpYWxvZ31cbiAgICAgICAgICAgIC8+XG4gICAgICAgIDwvPlxuICAgICk7XG59XG5cblRhYmxlV3JhcHBlci5wcm9wVHlwZXMgPSB7XG4gICAgcGFnZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBzZXJ2aWNlTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBoYW5kbGVSZXF1ZXN0TW9kYWxPcGVuOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBoYW5kbGVPcGVuUGFnZVN0eWxlRGlhbG9nOiBQcm9wVHlwZXMuZnVuYyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IG1lbW8oVGFibGVXcmFwcGVyKTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTGluayBmcm9tICdAc3BsdW5rL3JlYWN0LXVpL0xpbmsnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgRVJSMDAwMjogJ0NvbmZpZ3VyYXRpb24gcGFnZSBmYWlsZWQgdG8gbG9hZCwgdGhlIHNlcnZlciByZXBvcnRlZCBpbnRlcm5hbCBlcnJvcnMgd2hpY2ggbWF5IGluZGljYXRlIHlvdSBkbyBub3QgaGF2ZSBhY2Nlc3MgdG8gdGhpcyBwYWdlLicsXG4gICAgRVJSMDAwMzogJ0ZhaWxlZCB0byBsb2FkIGNvbnRlbnQgZHVlIHRvIG5vIHJlc3BvbnNlIGZyb20gc2VydmVyIScsXG4gICAgRVJSMDAwNDogJ0ZhaWxlZCB0byBsb2FkIGNvbnRlbnQgZHVlIHRvIGZhaWxlZCByZXF1ZXN0IHByb2Nlc3NpbmchJyxcbiAgICBFUlIwMDA1OiAnRmFpbGVkIHRvIGxvYWQgY3VycmVudCBzdGF0ZSBmb3Igc2VsZWN0ZWQgZW50aXR5IGluIGZvcm0hJyxcbn07XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuaW1wb3J0IEhlYWRpbmcgZnJvbSAnQHNwbHVuay9yZWFjdC11aS9IZWFkaW5nJztcbmltcG9ydCB7IF8gfSBmcm9tICdAc3BsdW5rL3VpLXV0aWxzL2kxOG4nO1xuaW1wb3J0IENhcmQgZnJvbSAnQHNwbHVuay9yZWFjdC11aS9DYXJkJztcbmltcG9ydCBXYXJuaW5nSWNvbiBmcm9tICdAc3BsdW5rL3JlYWN0LWljb25zL1dhcm5pbmcnXG5pbXBvcnQgZXJyb3JDb2RlcyBmcm9tICcuLi9jb25zdGFudHMvZXJyb3JDb2Rlcyc7XG5cbmNsYXNzIEVycm9yQm91bmRhcnkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHsgZXJyb3JDb2RlOiBudWxsLCBlcnJvcjogbnVsbCwgZXJyb3JJbmZvOiBudWxsIH07XG4gICAgfVxuXG4gICAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihlcnJvcikge1xuICAgICAgICAvLyBVcGRhdGUgc3RhdGUgc28gdGhlIG5leHQgcmVuZGVyIHdpbGwgc2hvdyB0aGUgZmFsbGJhY2sgVUkuXG4gICAgICAgIHJldHVybiB7IGVycm9yQ29kZTogZXJyb3IudWNjRXJyb3JDb2RlIH07XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkQ2F0Y2goZXJyb3IsIGVycm9ySW5mbykge1xuICAgICAgICAvLyBDYXRjaCBlcnJvcnMgaW4gYW55IGNvbXBvbmVudHMgYmVsb3cgYW5kIHJlLXJlbmRlciB3aXRoIGVycm9yIG1lc3NhZ2VcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgIGVycm9ySW5mbyxcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFlvdSBjYW4gYWxzbyBsb2cgZXJyb3IgbWVzc2FnZXMgdG8gYW4gZXJyb3IgcmVwb3J0aW5nIHNlcnZpY2UgaGVyZVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIEVycm9yIHBhdGhcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBhbGlnbj1cImNlbnRlclwiIHN0eWxlPXt7IG1hcmdpblRvcCA6IFwiMTAlXCIgfX0+XG4gICAgICAgICAgICAgICAgPENhcmQgc3R5bGU9e3sgYm94U2hhZG93IDogXCIxMHB4IDEwcHggNXB4ICNhYWFhYWFcIiB9fSA+XG4gICAgICAgICAgICAgICAgICAgIDxDYXJkLkhlYWRlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxIZWFkaW5nIHN0eWxlPXt7IHRleHRBbGlnbjpcImNlbnRlclwiIH19IGxldmVsPXsyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8V2FybmluZ0ljb24gc3R5bGU9e3sgZm9udFNpemU6IFwiMTIwcHhcIiwgY29sb3I6IFwiI2ZmOTkwMFwiIH19IC8+PGJyLz48YnIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmVycm9yQ29kZSA9PT0gJ0VSUjAwMEInID8gXygnRmFpbGVkIHRvIGxvYWQgSW5wdXRzIFBhZ2UnKSA6IF8oJ1NvbWV0aGluZyB3ZW50IHdyb25nIScpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9IZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICA8L0NhcmQuSGVhZGVyPlxuICAgICAgICAgICAgICAgICAgICA8Q2FyZC5Cb2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZXJyb3JDb2RlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtfKGVycm9yQ29kZXNbdGhpcy5zdGF0ZS5lcnJvckNvZGVdKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyLz48YnIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGV0YWlscyBzdHlsZT17eyB3aGl0ZVNwYWNlOiAncHJlLXdyYXAnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmVycm9yPy50b1N0cmluZygpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kZXRhaWxzPlxuICAgICAgICAgICAgICAgICAgICA8L0NhcmQuQm9keT5cbiAgICAgICAgICAgICAgICAgICAgPENhcmQuRm9vdGVyIHNob3dCb3JkZXI9e2ZhbHNlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmVycm9yQ29kZSA/IHRoaXMuc3RhdGUuZXJyb3JDb2RlIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgPC9DYXJkLkZvb3Rlcj5cbiAgICAgICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vcm1hbGx5LCBqdXN0IHJlbmRlciBjaGlsZHJlblxuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgICB9XG59XG5cbkVycm9yQm91bmRhcnkucHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMubm9kZSksIFByb3BUeXBlcy5ub2RlXSkuaXNSZXF1aXJlZCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEVycm9yQm91bmRhcnk7XG4iXSwic291cmNlUm9vdCI6IiJ9